<html lang="en">

<head>
    <meta charset="utf-8" />
    <title>RO Calculator</title>
    <!-- 
    <script src="https://unpkg.com/vue"></script>
    <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
    <script src="https://unpkg.com/element-ui/lib/index.js"></script>
    <script src="https://unpkg.com/linq"></script>
    -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.6.10/vue.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/element-ui/2.13.0/index.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/element-ui/2.13.0/theme-chalk/index.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/linq.js/2.2.0.2/linq.js"></script>

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-63581889-2"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'UA-63581889-2');
    </script>

    <style>
        [v-cloak] {
            display: none;
        }

        .el-row {
            margin-bottom: 2px;
        }

        .el-col {
            border-radius: 4px;
        }

        .bg-purple-dark {
            background: #99a9bf;
            background: #305079;
        }

        .bg-purple {
            background: #d3dce6;
        }

        .bg-purple-light {
            background: #e5e9f2;
        }

        .grid-content {
            border-radius: 4px;
            min-height: 36px;
        }

        .row-bg {
            padding: 10px 0;
            background-color: #f9fafc;
        }

        .ROCalTitle {
            height: 50px;
            position: relative;
            color: white;
            background: #303133;
            border-radius: 4px;
        }

        .ROCalFooter {
            height: 35px;
            color: white;
            background: #303133;
            border-radius: 4px;
        }

        .bodycol-container {
            height: calc(100vh - (50px + 35px + 8px));
        }

        .body2col-container {
            height: calc(100vh - (50px + 35px + 8px + 42px));
        }

        .Dialogue-container {
            height: calc(100vh - (50px + 35px + 24px));
        }

        .EquipList-container {
            height: calc(100vh - (50px + 35px + 240px));
        }

        .StatusList-container {
            height: calc(100vh - (50px + 35px + 140px));
        }

        .SkillList-container {
            height: calc(100vh - (50px + 35px + 200px));
        }

        .ThanksList-container {
            height: calc(100vh - (50px + 35px + 130px));
        }

        .EffectList-container {
            height: calc(100vh - (50px + 35px + 24px));
        }

        .DBlist-container {
            height: calc(40vh - (50px));
        }

        .effectline {
            line-height: 3;
            margin: auto;
        }

        .boxborder {
            padding: 5px 5px;
            border: 1px solid #d7dae2;
            border-radius: 4px;
            min-height: 100px;
        }

        .statusbox {
            border: 1px solid #d7dae2;
            border-radius: 2px;
            min-height: 40px;
        }

        .statussavebox{
            border: 1px solid #d7dae2;
            border-radius: 2px;
            background: #f9fafc;
        }

        .optionbox {
            border: 1px solid #d7dae2;
            border-radius: 2px;
            min-height: 40px;
            text-align: center;
        }

        .optionsubbox {
            border-radius: 2px;
            min-height: 40px;
            text-align: center;
            background: #6de4a2;
        }

        .skillnametext {
            font-family: Microsoft JhengHei;
            font-size: 18px;
            font-weight: bold;
            color: #2c774e;
        }

        .skillline{
            line-height: 2;
            margin: auto;
            text-align: center;
        }

        .skilltag {
            border: 1px solid #0c7a47;
            border-radius: 4px;
            text-align: center;
        }

        .textcenter {
            text-align: center;
        }

        .titlebox {
            border: 1px solid #d7dae2;
            border-radius: 2px;
            min-height: 40px;
            text-align: center;
            background: #606266;
            color: white;
        }

        .subtitlebox {
            border: 1px solid #d7dae2;
            border-radius: 2px;
            min-height: 40px;
            text-align: center;
            background: #DCDFE6;
        }

        a:visited,
        a:link {
            text-decoration: none !important;
            color: white;
        }
    </style>
</head>

<body>
    <div id="App" v-cloak>

        <el-dialog :visible.sync="UIPanel['UpdateLogDialog']" v-on:close="ClosePanel('UpdateLogDialog')"
            custom-class="Dialogue-container" width="45%" top="58px" center>
            <span slot="title">更新內容</span>
            <el-row :gutter="6">
                <el-scrollbar wrap-class="ThanksList-container" :native="false" :noresize="false">
                    <div v-for="(item, index) in UpdateLogList" v-bind:key="item.id">
                        <div style="padding: 2px 5px;">
                            <el-row class="statusbox" type="flex" align="middle" justify="space-around"
                                style="height:30px;">
                                <el-col class="textcenter">
                                    <div v-html="item.id"></div>
                                </el-col>
                            </el-row>
                            <el-row type="flex" align="middle">

                                <div style="padding: 0px 0px 20px 50px;">
                                    <el-col class="textcenter" style="text-align: left;">
                                        <div v-html="item.content"></div>
                                    </el-col>
                                </div>
                            </el-row>
                        </div>
                    </div>
                </el-scrollbar>
            </el-row>
        </el-dialog>
        <el-dialog :visible.sync="UIPanel['SpecialthanksDialog']" v-on:close="ClosePanel('SpecialthanksDialog')"
            custom-class="Dialogue-container" width="30%" top="58px" center>
            <span slot="title">特別感謝</span>
            <el-row :gutter="6">
                <el-scrollbar wrap-class="ThanksList-container" :native="false" :noresize="false">
                    <div v-for="(item, index) in SpecialthanksList" v-bind:key="item.id">
                        <div style="padding: 2px 5px;">
                            <el-row class="statusbox" type="flex" align="middle" justify="space-around"
                                style="height:40px;">
                                <el-col class="textcenter" :span="10">
                                    <span class="">{{ item.coop }}</span>
                                </el-col>
                                <el-col class="textcenter" :span="10" style="text-align: left;">
                                    <span class="">{{ item.name }}</span>
                                </el-col>
                            </el-row>
                        </div>
                    </div>
                </el-scrollbar>
            </el-row>
        </el-dialog>
        <el-dialog :visible.sync="UIPanel['SkillDBDialog']" custom-class="Dialogue-container" width="85%" top="58px"
            v-on:close="ClosePanel('SkillDBDialog')" center>
            <span slot="title">技能清單</span>
            <el-row :gutter="2">
                <el-col :span="8">
                    <el-row type="flex" class="titlebox textcenter" align="middle" justify="space-around"
                        style="height:40px;" :span="8">
                        <span class="textcenter">技能</span>
                    </el-row>
                    <div style="padding: 0px 5px;">
                        <div v-show="option.SkillFormulaError">
                            <el-row class="statusbox bg-purple-light" :gutter="4" type="flex" align="middle"
                                justify="end">
                                <el-col class="textcenter" style="color: red;">
                                    {{option.SkillFormulaError}}
                                </el-col>
                            </el-row>
                        </div>
                        <el-row class="statusbox bg-purple-light" :gutter="4" type="flex" align="middle" justify="end">
                            <el-col class="textcenter">
                                <el-button v-on:click="onSaveSkill" size="small">
                                    儲存自訂技能>>>
                                </el-button>
                            </el-col>
                        </el-row>
                        <el-scrollbar wrap-class="SkillList-container" :native="false" :noresize="false">
                            <el-row class="statusbox bg-purple-light" :gutter="4" type="flex" align="middle">
                                <el-col class="textcenter" :span="4">
                                    技能名:
                                </el-col>
                                <el-col class="textcenter" :span="20">
                                    <div>
                                        <el-input v-model="skill.name" placeholder="技能名">
                                        </el-input>
                                    </div>
                                </el-col>
                            </el-row>
                            <el-row class="statusbox bg-purple-light" :gutter="4" type="flex" align="middle">
                                <el-col class="textcenter" :span="12">技能倍率</el-col>
                                <el-col class="textcenter" :span="8">
                                    {{option.SkillPercent}}
                                </el-col>
                                <el-col class="textcenter" :span="4">%</el-col>
                            </el-row>
                            <el-row class="statusbox bg-purple-light" :gutter="4" type="flex" align="middle">
                                <el-col class="textcenter" :span="4">技能公式</el-col>
                                <el-col :span="17">
                                    <el-input v-model="skill.formula" v-on:change="onSkillPercentChange"
                                        placeholder="Skill %">
                                    </el-input>
                                </el-col>
                                <el-col :span="2">
                                    <el-popover placement="right-start" title="公式關鍵字" width="350" trigger="click">
                                        <el-scrollbar wrap-class="DBlist-container" :native="false" :noresize="false">
                                            <el-table :data="KeywordReplaceList" stripe style="width: 100%">
                                                <el-table-column prop="str1" label="關鍵字" width="100">
                                                </el-table-column>
                                                <el-table-column prop="description" label="功能" width="220">
                                                </el-table-column>
                                            </el-table>
                                        </el-scrollbar>
                                        <el-button slot="reference">?</el-button>
                                    </el-popover>
                                </el-col>
                            </el-row>
                            <el-row class="statusbox bg-purple-light" :gutter="4" type="flex" align="middle">
                                <el-col class="textcenter" :span="6">技能等級</el-col>
                                <el-col class="textcenter" :span="5">
                                    <el-input v-model.number="skill.level" v-on:change="onSkillPercentChange"
                                        placeholder="技能等級">
                                    </el-input>
                                </el-col>
                                <el-tooltip class="item" effect="dark" content="傷害次數, 負數時為分段傷害不會增加總傷害"
                                    placement="bottom-start">
                                    <el-col class="textcenter" :span="6">傷害次數</el-col>
                                </el-tooltip>
                                <el-col class="textcenter" :span="5">
                                    <el-input v-model.number="skill.hitnumber" v-on:change="onSkillPercentChange"
                                        placeholder="傷害次數">
                                    </el-input>
                                </el-col>
                            </el-row>
                            <el-row class="statusbox bg-purple-light" :gutter="4" type="flex" align="middle">
                                <el-col class="textcenter" :span="6">固定詠唱</el-col>
                                <el-col :span="4">
                                    <el-input v-model="skill.FCT" v-on:input="onOption" placeholder="時間">
                                    </el-input>
                                </el-col>
                                <el-col class="textcenter" :span="1">秒</el-col>
                                <el-col class="textcenter" :span="6">變動詠唱</el-col>
                                <el-col :span="4">
                                    <el-input v-model="skill.VCT" v-on:input="onOption" placeholder="時間">
                                    </el-input>
                                </el-col>
                                <el-col class="textcenter" :span="1">秒</el-col>
                            </el-row>
                            <el-row class="statusbox bg-purple-light" :gutter="4" type="flex" align="middle">
                                <el-col class="textcenter" :span="6">獨立延遲</el-col>
                                <el-col :span="4">
                                    <el-input v-model="skill.CD" v-on:input="onOption" placeholder="時間">
                                    </el-input>
                                </el-col>
                                <el-col class="textcenter" :span="1">秒</el-col>
                                <el-col class="textcenter" :span="6">共通延遲</el-col>
                                <el-col :span="4">
                                    <el-input v-model="skill.GCD" v-on:input="onOption" placeholder="時間">
                                    </el-input>
                                </el-col>
                                <el-col class="textcenter" :span="1">秒</el-col>
                            </el-row>
                            <el-row class="optionbox" :gutter="4" type="flex" align="middle" justify="end">
                                <el-col class="textcenter" :span="12">
                                    <span>技能遠傷</span>
                                </el-col>
                                <el-col class="textcenter" :span="12">
                                    <el-switch v-model="skill.ranged" active-color="#13ce66"
                                        v-on:change="ComputeATKAtttibute" inactive-color="#8a9799">
                                    </el-switch>
                                </el-col>
                            </el-row>
                            <el-row class="optionbox" :gutter="4" type="flex" align="middle" justify="end">
                                <el-col class="textcenter" :span="12">
                                    <span>技能暴擊</span>
                                </el-col>
                                <el-col class="textcenter" :span="12">
                                    <el-switch v-model="skill.critical" active-color="#13ce66"
                                        v-on:change="ComputeATKAtttibute" inactive-color="#8a9799">
                                    </el-switch>
                                </el-col>
                            </el-row>
                            <el-row class="optionbox" :gutter="4" type="flex" align="middle" justify="end">
                                <el-col class="textcenter" :span="12">
                                    <span>使用加農砲彈</span>
                                </el-col>
                                <el-col class="textcenter" :span="12">
                                    <el-switch v-model="skill.cannon" active-color="#13ce66" v-on:change="onOption"
                                        inactive-color="#8a9799">
                                    </el-switch>
                                </el-col>
                            </el-row>
                            <el-tooltip class="item" effect="dark" content="將乘算DEF(後DEF)改為減算DEF"
                                placement="bottom-start">
                                <el-row class="optionbox" :gutter="4" type="flex" align="middle" justify="end">
                                    <el-col class="textcenter" :span="12">
                                        <span>半無視防禦</span>
                                    </el-col>
                                    <el-col class="textcenter" :span="12">
                                        <el-switch v-model="skill.transWeaponDEF" active-color="#13ce66"
                                            v-on:change="onOption" inactive-color="#8a9799">
                                        </el-switch>
                                    </el-col>
                                </el-row>
                            </el-tooltip>
                            <el-row class="optionbox" :gutter="4" type="flex" align="middle" justify="end">
                                <el-col class="textcenter" :span="12">
                                    <span>技能位置-後</span>
                                </el-col>
                                <el-col class="textcenter" :span="12">
                                    <el-switch v-model="skill.laterformula" active-color="#13ce66"
                                        v-on:change="onOption" inactive-color="#8a9799">
                                    </el-switch>
                                </el-col>
                            </el-row>
                            <el-row class="statusbox bg-purple-light" :gutter="4" type="flex" align="middle">
                                <el-col class="textcenter" :span="12">
                                    <span>傷害類型</span>
                                </el-col>
                                <el-col :span="12">
                                    <div class="textcenter">
                                        <el-select value-key="id" v-model="skill.DamageTypeIdx"
                                            v-on:change="onSkillPercentChange" placeholder="傷害類型">
                                            <el-option v-for="item in DamageType" :key="item.id" :label="item.label"
                                                :value="item.id">
                                            </el-option>
                                        </el-select>
                                    </div>
                                </el-col>
                            </el-row>
                            <el-row class="statusbox bg-purple-light" :gutter="4" type="flex" align="middle">
                                <el-col class="textcenter" :span="12">
                                    <span>攻擊屬性</span>
                                </el-col>
                                <el-col :span="12">
                                    <div class="textcenter">
                                        <el-select value-key="id" v-model="skilloption.AttackElementalIdx"
                                            v-on:change="ComputElementalPercent" placeholder="攻擊屬性">
                                            <el-option v-for="item in elementtypelist" :key="item.id"
                                                :label="item.label" :value="item.id">
                                            </el-option>
                                        </el-select>
                                    </div>
                                </el-col>
                            </el-row>
                        </el-scrollbar>
                    </div>
                </el-col>
                <el-col :span="16">
                    <el-row type="flex" class="titlebox textcenter" align="middle" justify="space-around"
                        style="height:40px;" :span="16">
                        <span class="textcenter">已儲存清單</span>
                    </el-row>
                    <div style="padding: 0px 5px;">
                        <el-tabs v-model="SkillListTabPage" type="border-card" stretch="true">
                            <el-tab-pane label="技能清單" name="Default">
                                <el-scrollbar wrap-class="SkillList-container" :native="false" :noresize="false">
                                    <div v-for="(item, index) in DefaultDB_Skill" v-bind:key="item.id">
                                        <div style="padding: 2px 5px;">
                                            <el-row class="optionbox effectline" :gutter="4" type="flex" align="middle">
                                                <el-col class="textcenter" :span="6">
                                                    <el-row class="skillline skillnametext" type="flex" align="middle">
                                                        <span class="">{{ item.skill.name }}</span>
                                                    </el-row>
                                                    <el-row class="skillline" type="flex" align="middle" style="font-weight: bold;">
                                                        <span class="">Lv {{ item.skill.level }}</span>
                                                    </el-row>
                                                </el-col>
                                                <el-col :class="index%2==0?'bg-purple-light':'bg-purple'"
                                                    :span="14">
                                                    <el-row class="skillline" :gutter="4" type="flex" align="middle">
                                                        <el-col style="text-align: left;">
                                                            <span>{{ item.skill.formula }}</span>
                                                        </el-col>
                                                    </el-row>
                                                    <el-row class="skillline" align="middle">
                                                        <el-col :span="4">{{ item.skill.hitnumber }} HIT</el-col>
                                                        <el-col v-if="item.skill.ranged" class="skilltag" :span="3">遠傷</el-col>
                                                        <el-col v-if="item.skill.critical" class="skilltag" :span="3">暴擊</el-col>
                                                        <el-col v-if="item.skill.cannon" class="skilltag" :span="3">砲彈</el-col>
                                                        <el-col v-if="item.skill.transWeaponDEF" class="skilltag" :span="5">半無視防禦</el-col>
                                                    </el-row>
                                                    <el-row class="skillline" align="middle" >
                                                        <el-col :span="4">固詠 {{ item.skill.FCT }}s</el-col>
                                                        <el-col :span="4">變詠 {{ item.skill.VCT }}s</el-col>
                                                        <el-col :span="4">獨延 {{ item.skill.CD }}s</el-col>
                                                        <el-col :span="4">共延 {{ item.skill.GCD }}s</el-col>
                                                    </el-row>
                                                </el-col>
                                                <el-col :span="3">
                                                    <el-button v-on:click="onLoadSkillDefault(index)"
                                                        icon="el-icon-check" type="success" type="primary" size="small">
                                                        載入
                                                    </el-button>
                                                </el-col>
                                            </el-row>
                                        </div>
                                    </div>
                                </el-scrollbar>
                            </el-tab-pane>
                            <el-tab-pane label="自訂" name="Custom">
                                <el-scrollbar wrap-class="SkillList-container" :native="false" :noresize="false">
                                    <div v-for="(item, index) in StoreDB_Skill" v-bind:key="item.uuid">
                                        <div style="padding: 2px 5px;">
                                            <el-row class="optionbox effectline" :gutter="4" type="flex" align="middle">
                                                <el-col class="textcenter" :span="6">
                                                    <el-row class="skillline skillnametext" type="flex" align="middle">
                                                        <span class="">{{ item.skill.name }}</span>
                                                    </el-row>
                                                    <el-row class="skillline" type="flex" align="middle" style="font-weight: bold;">
                                                        <span class="">Lv {{ item.skill.level }}</span>
                                                    </el-row>
                                                </el-col>
                                                <el-col :class="index%2==0?'bg-purple-light':'bg-purple'"
                                                    :span="12">
                                                    <el-row class="skillline" :gutter="4" type="flex" align="middle">
                                                        <el-col style="text-align: left;">
                                                            <span>{{ item.skill.formula }}</span>
                                                        </el-col>
                                                    </el-row>
                                                    <el-row class="skillline" align="middle">
                                                        <el-col :span="4">{{ item.skill.hitnumber }} HIT</el-col>
                                                        <el-col v-if="item.skill.ranged" class="skilltag skillline" :span="3">遠傷</el-col>
                                                        <el-col v-if="item.skill.critical" class="skilltag skillline" :span="3">暴擊</el-col>
                                                        <el-col v-if="item.skill.cannon" class="skilltag skillline" :span="3">砲彈</el-col>
                                                        <el-col v-if="item.skill.transWeaponDEF" class="skilltag skillline" :span="5">半無視防禦</el-col>
                                                    </el-row>
                                                    <el-row class="skillline" align="middle">
                                                        <el-col :span="4">固詠 {{ item.skill.FCT }}s</el-col>
                                                        <el-col :span="4">變詠 {{ item.skill.VCT }}s</el-col>
                                                        <el-col :span="4">獨延 {{ item.skill.CD }}s</el-col>
                                                        <el-col :span="4">共延 {{ item.skill.GCD }}s</el-col>
                                                    </el-row>
                                                </el-col>
                                                <el-col :span="2">
                                                    <el-button v-on:click="onRemoveSkillSave(index)"
                                                        icon="el-icon-delete" type="danger" size="mini">
                                                    </el-button>
                                                </el-col>
                                                <el-col :span="3">
                                                    <el-button v-on:click="onLoadSkillSave(index)" icon="el-icon-check"
                                                        type="success" type="primary" size="small">
                                                        載入
                                                    </el-button>
                                                </el-col>
                                            </el-row>
                                        </div>
                                    </div>
                                </el-scrollbar>
                            </el-tab-pane>
                        </el-tabs>
                    </div>
                </el-col>
            </el-row>
        </el-dialog>
        <el-dialog :visible.sync="UIPanel['QuickCalcDialog']" width="80%" height="80%"
            v-on:close="ClosePanel('QuickCalcDialog')">
            <span slot="title">簡易計算機</span>
            <el-row class="statusbox" :gutter="6" type="flex" align="middle">
                <el-col class="textcenter" :span="4">
                    算式:
                </el-col>
                <el-col :span="20">
                    <div>
                        <el-input v-model="QuickCalc.formula" v-on:change="onQuickCalcInput" placeholder="算式">
                        </el-input>
                    </div>
                </el-col>
            </el-row>
            <el-row class="statusbox titlebox" style="min-height: 40px;" :gutter="6" type="flex" align="middle">
                <el-col class="textcenter" :span="4">
                    計算結果
                </el-col>
                <el-col class="textcenter" :span="20">
                    <div>
                        {{QuickCalc.solution}}
                    </div>
                </el-col>
            </el-row>
            <el-row class="statusbox" :gutter="6" type="flex" align="middle">
                <el-col class="textcenter" :span="4">
                    備註:
                </el-col>
                <el-col class="textcenter" :span="20">
                    <div>
                        <el-input v-model="QuickCalc.remark" placeholder="備註">
                        </el-input>
                    </div>
                </el-col>
            </el-row>
            <el-row class="statusbox titlebox" :gutter="6" type="flex" align="middle">
                <el-col class="textcenter" :span="4">
                    <span class="">備註</span>
                </el-col>
                <el-col class="textcenter">
                    <span>算式</span>
                </el-col>
                <el-col class="textcenter" :span="4">
                    <span class="">計算結果</span>
                </el-col>
            </el-row>
            <el-row :gutter="6">
                <el-scrollbar wrap-class="DBlist-container" :native="false" :noresize="false">
                    <div v-for="(item, index) in StoreDB_QuickCalc" v-bind:key="item.uuid">
                        <div style="padding: 2px 5px;">
                            <el-row class="optionbox effectline" :gutter="4" type="flex" align="middle">
                                <el-col class="textcenter" :span="4">
                                    <span class="">{{ item.remark }}</span>
                                </el-col>
                                <el-col class="textcenter">
                                    <span>{{ item.formula }}</span>
                                </el-col>
                                <el-col class="textcenter" :span="6">
                                    <span class="">{{ item.solution }}</span>
                                </el-col>
                            </el-row>
                        </div>
                    </div>
                </el-scrollbar>
            </el-row>
        </el-dialog>
        <el-dialog :visible.sync="UIPanel['EquipEffectDialog']" custom-class="EffectList-container" width="70%"
            top="58px" v-on:close="ClosePanel('EquipEffectDialog')" center>
            <span slot="title">增加 <b>{{EquipSelectLabel}}</b> 裝備效果</span>
            <!-- TODO
                    { label: 'STR', id: 'STR', totalvalue: '', opersymbol: '\+', suffixsymbol: '' },
            -->
<!--             <el-row>
                <div v-for="(item, index) in TempEffectTypeList" v-bind:key="item.id">
                    <el-row class="effectline" :gutter="4" type="flex" align="middle" justify="end"
                        style="height:40px;">
                        <el-col class="textcenter" style="text-align: right;">
                            <span class="EffectType">{{ item.label }}</span>
                        </el-col>
                        <el-col class="textcenter" :span="2">
                            <span class="">{{ item.opersymbol }}</span>
                        </el-col>
                        <el-col class="textcenter" :span="3">
                            <span class="">{{ item.totalvalue }}</span>
                        </el-col>
                        <el-col class="textcenter" :span="2">
                            <span lass="">{{ item.suffixsymbol }}</span>
                        </el-col>
                    </el-row>
                </div>
            </el-row> -->
            <div class="statusbox titlebox" style="padding: 5px 5px; height: 40px;">
                <el-row :gutter="6" type="flex" align="middle">
                    <el-col class="textcenter" :span="11">
                        <el-select value-key="id" v-model="effectdialogue.EffectType" v-on:change="onSelectedDrug"
                            placeholder="選擇效果">
                            <el-option v-for="item in effecttypelist" :key="item.id" :label="item.label" :value="item">
                            </el-option>
                        </el-select>
                    </el-col>
                    <el-col class="textcenter" :span="8">
                        <el-input v-model="effectdialogue.EffectNumber" v-on:keyup.enter.native="AddEffect"
                            placeholder="效果參數">
                        </el-input>
                    </el-col>
                    <el-col class="textcenter" :span="5">
                        <el-button v-on:click="AddEffect" type="success" plain>
                            確定增加
                        </el-button>
                    </el-col>
                </el-row>
            </div>
            <div class="statusbox">
                <el-scrollbar wrap-class="StatusList-container" :native="false" :noresize="false">
                    <div style="padding: 2px 5px;">
                        <div v-for="(item, index) in effecttypelist" v-bind:key="item.id">
                            <el-col :span="4" style="padding: 5px 0px;">
                                <el-button v-on:click="onSelectEffect(item)" size="small">
                                    {{item.label}}
                                </el-button>
                            </el-col>
                        </div>
                    </div>
                </el-scrollbar>
            </div>

        </el-dialog>
        <el-dialog :visible.sync="UIPanel['EquipDBDialog']" v-on:close="ClosePanel('EquipDBDialog')"
            custom-class="Dialogue-container" width="70%" top="58px" center>
            <span slot="title">裝備清單</span>
            <el-row :gutter="6">
                <div class="statusbox titlebox" style="padding: 5px 5px;">
                    <el-row :gutter="4" type="flex" align="middle" style="height:80px;">
                        <el-col class="textcenter" :span="3">
                            篩選
                        </el-col>
                        <el-col class="textcenter" :span="3">
                            <el-button v-on:click="onFliterEquipClear">
                                清空
                            </el-button>
                        </el-col>
                        <el-col class="textcenter" style="text-align: left;">
                            <el-checkbox-group v-model="StoreDB_EquipFliterGroup" v-on:change="onFliterEquipPart"
                                fill="#909399" text-color="white">
                                <el-checkbox-button v-for="item in equipspartlist" :label="item.label" :key="item.id">
                                    {{item.label}}
                                </el-checkbox-button>
                            </el-checkbox-group>
                        </el-col>
                    </el-row>
                </div>
                <div class="statusbox titlebox" style="padding: 5px 5px;">
                    <el-row :gutter="4" type="flex" align="middle" style="height:40px;">
                        <el-col class="textcenter" :span="4" style="text-align: right;">
                            <span class=""><b>部位</b></span>
                        </el-col>
                        <el-col class="textcenter">
                            <span class=""><b>裝備名字</b></span>
                        </el-col>
                        <el-col :span="4">
                        </el-col>
                        <el-col :span="6">
                        </el-col>
                        <el-col :span="5">
                        </el-col>
                    </el-row>
                </div>
                <el-scrollbar wrap-class="EquipList-container" :native="false" :noresize="false">
                    <div v-for="(item, index) in StoreDB_EquipFiltered" v-bind:key="item.uuid">
                        <div style="padding: 2px 5px;">
                            <el-row class="optionbox effectline" :class="index%2==0?'bg-purple-light':'bg-purple'"
                                :gutter="4" type="flex" align="middle">

                                <el-col class="textcenter" :span="4" style="text-align: right;">
                                    <span class="EffectType">{{ item.equip.label }}</span>
                                </el-col>
                                <el-col class="textcenter">
                                    <span class="">{{ item.equip.equipname }}</span>
                                </el-col>
                                <el-col :span="4">
                                    <el-button v-on:click="onRemoveEquipSave(item.uuid)" icon="el-icon-delete"
                                        type="danger" size="mini">
                                    </el-button>
                                </el-col>
                                <el-col :span="6">
                                    <el-button v-on:click="onLoadEquipSave(item.uuid)" icon="el-icon-check"
                                        type="success" type="primary" size="small">
                                        載入
                                    </el-button>
                                </el-col>
                                <el-col :span="5">
                                </el-col>
                            </el-row>
                        </div>
                    </div>
                </el-scrollbar>
            </el-row>
        </el-dialog>
        <el-dialog :visible.sync="UIPanel['StatusDBDialog']" v-on:close="ClosePanel('StatusDBDialog')"
            custom-class="Dialogue-container" width="85%" top="58px" center>
            <span slot="title">角色清單</span>
            <el-row :gutter="2">
                <el-col :span="8">
                    <el-row type="flex" class="titlebox textcenter" align="middle" justify="space-around"
                        style="height:40px;" :span="8">
                        <span class="textcenter">目前素質</span>
                    </el-row>
                    <div style="padding: 0px 5px;">
                        <el-row class="statusbox bg-purple-light" :gutter="4" type="flex" align="middle" justify="end">
                            <el-col class="textcenter">
                                <el-button v-on:click="onSaveStatus" size="small">
                                    儲存素質>>>
                                </el-button>
                            </el-col>
                        </el-row>
                        <el-row class="statusbox bg-purple-light" type="flex" align="middle" justify="space-around">
                            <el-col class="textcenter">
                                <span>角色存檔名</span>
                            </el-col>
                            <el-col class="textcenter">
                                <el-input v-model="StatusName" placeholder="要儲存的角色檔名">
                                </el-input>
                            </el-col>
                        </el-row>
                        <el-scrollbar wrap-class="EquipList-container" :native="false" :noresize="false">
                            <el-row class="statusbox bg-purple-light" type="flex" align="middle">
                                <el-col :span="6" class="textcenter"><span>職業</span>
                                </el-col>
                                <el-col :span="18">
                                    <div class="grid-content">
                                        <el-select v-model="status.classid" v-on:change="onOption" placeholder="">
                                            <el-option v-for="item in classlist" :key="item.id" :label="item.label" :value="item.id">
                                            </el-option>
                                        </el-select>
                                    </div>
                                </el-col>
                            </el-row>
                            <el-row class="statusbox bg-purple-light" type="flex" align="middle">
                                <el-col class="textcenter" :span="6">HP</el-col>
                                <el-col :span="6">
                                    {{status.HP}}
                                </el-col>
                                <el-col class="textcenter" :span="6">SP</el-col>
                                <el-col :span="6">
                                    {{status.SP}}
                                </el-col>
                            </el-row>
                            <el-row class="statusbox bg-purple-light" type="flex" align="middle" style="height:40px;">
                                <el-col class="textcenter">Level</el-col>
                                <el-col>
                                    <el-input v-model.number="status.Level" v-on:input="onOption" placeholder="Level">
                                    </el-input>
                                </el-col>
                                <el-col class="textcenter">JobLevel</el-col>
                                <el-col>
                                    <el-input v-model.number="status.JOBLevel" v-on:input="onOption"
                                        placeholder="Level">
                                    </el-input>
                                </el-col>
                            </el-row>
                            <el-row class="statusbox bg-purple-light" type="flex" align="middle" style="height:40px;">
                                <el-col class="textcenter" :span="3">STR</el-col>
                                <el-col :span="10">
                                    <el-input v-model="status.STR" v-on:input="onOption" v-on:change="onStatusChange"
                                        placeholder="STR">
                                    </el-input>
                                </el-col>
                                <el-col class="textcenter" :span="1">+</el-col>
                                <el-col class="textcenter" :span="4">{{status_add.STR}}</el-col>
                                <el-col class="textcenter" :span="1">=</el-col>
                                <el-col class="textcenter" :span="4">{{status_total.STR}}</el-col>
                            </el-row>
                            <el-row class="statusbox bg-purple-light" type="flex" align="middle" style="height:40px;">
                                <el-col class="textcenter" :span="3">AGI</el-col>
                                <el-col :span="10">
                                    <el-input v-model="status.AGI" v-on:input="onOption" v-on:change="onStatusChange"
                                        placeholder="AGI">
                                    </el-input>
                                </el-col>
                                <el-col class="textcenter" :span="1">+</el-col>
                                <el-col class="textcenter" :span="4">{{status_add.AGI}}</el-col>
                                <el-col class="textcenter" :span="1">=</el-col>
                                <el-col class="textcenter" :span="4">{{status_total.AGI}}</el-col>
                            </el-row>
                            <el-row class="statusbox bg-purple-light" type="flex" align="middle" style="height:40px;">
                                <el-col class="textcenter" :span="3">VIT</el-col>
                                <el-col :span="10">
                                    <el-input v-model="status.VIT" v-on:input="onOption" v-on:change="onStatusChange"
                                        placeholder="VIT">
                                    </el-input>
                                </el-col>
                                <el-col class="textcenter" :span="1">+</el-col>
                                <el-col class="textcenter" :span="4">{{status_add.VIT}}</el-col>
                                <el-col class="textcenter" :span="1">=</el-col>
                                <el-col class="textcenter" :span="4">{{status_total.VIT}}</el-col>
                            </el-row>
                            <el-row class="statusbox bg-purple-light" type="flex" align="middle" style="height:40px;">
                                <el-col class="textcenter" :span="3">INT</el-col>
                                <el-col :span="10">
                                    <el-input v-model="status.INT" v-on:input="onOption" v-on:change="onStatusChange"
                                        placeholder="INT">
                                    </el-input>
                                </el-col>
                                <el-col class="textcenter" :span="1">+</el-col>
                                <el-col class="textcenter" :span="4">{{status_add.INT}}</el-col>
                                <el-col class="textcenter" :span="1">=</el-col>
                                <el-col class="textcenter" :span="4">{{status_total.INT}}</el-col>
                            </el-row>
                            <el-row class="statusbox bg-purple-light" type="flex" align="middle" style="height:40px;">
                                <el-col class="textcenter" :span="3">DEX</el-col>
                                <el-col :span="10">
                                    <el-input v-model="status.DEX" v-on:input="onOption" v-on:change="onStatusChange"
                                        placeholder="DEX">
                                    </el-input>
                                </el-col>
                                <el-col class="textcenter" :span="1">+</el-col>
                                <el-col class="textcenter" :span="4">{{status_add.DEX}}</el-col>
                                <el-col class="textcenter" :span="1">=</el-col>
                                <el-col class="textcenter" :span="4">{{status_total.DEX}}</el-col>
                            </el-row>
                            <el-row class="statusbox bg-purple-light" type="flex" align="middle" style="height:40px;">
                                <el-col class="textcenter" :span="3">LUK</el-col>
                                <el-col :span="10">
                                    <el-input v-model="status.LUK" v-on:input="onOption" v-on:change="onStatusChange"
                                        placeholder="LUK">
                                    </el-input>
                                </el-col>
                                <el-col class="textcenter" :span="1">+</el-col>
                                <el-col class="textcenter" :span="4">{{status_add.LUK}}</el-col>
                                <el-col class="textcenter" :span="1">=</el-col>
                                <el-col class="textcenter" :span="4">{{status_total.LUK}}</el-col>
                            </el-row>
                            <el-row class="statusbox bg-purple-light" :gutter="4" type="flex" align="middle">
                                <el-col class="textcenter" :span="12">ASPD</el-col>
                                <el-col :span="12">
                                    <el-input v-model="status.ASPD" v-on:input="onOption" placeholder="攻速">
                                    </el-input>
                                </el-col>
                            </el-row>
                        </el-scrollbar>
                    </div>
                </el-col>
                <el-col :span="16">
                    <el-row type="flex" class="titlebox textcenter" align="middle" justify="space-around"
                        style="height:40px;" :span="16">
                        <span class="textcenter">已儲存清單</span>
                    </el-row>
                    <div style="padding: 0px 5px;">
                        <el-scrollbar wrap-class="StatusList-container" :native="false" :noresize="false">
                            <div v-for="(item, index) in StoreDB_Status" v-bind:key="item.uuid">
                                <div style="padding: 2px 5px;">
                                    <el-row class="optionbox effectline"
                                        :class="index%2==0?'bg-purple-light':'bg-purple'" :gutter="4" type="flex"
                                        align="middle">
                                        <el-col class="textcenter" :span="8">
                                            <span>{{ item.name }}</span>
                                        </el-col>
                                        <el-col class="textcenter" :span="6">
                                            <span class="">{{ item.classname }}</span>
                                        </el-col>
                                        <el-col class="textcenter">
                                            <el-row class="" style="line-height: 2;" :gutter="4" type="flex" align="middle">
                                                <el-col class="statussavebox" :span="6">Lv {{item.status.Level}}</el-col>
                                                <el-col class="statussavebox" :span="6">JOBLv {{item.status.JOBLevel}}</el-col>
                                                <el-col class="statussavebox" :span="6">ASPD {{item.status.ASPD}}</el-col>
                                            </el-row>
                                            <el-row class="" style="line-height: 2;" :gutter="4" type="flex" align="middle">
                                                <el-col class="statussavebox" :span="4">STR {{item.status.STR}}</el-col>
                                                <el-col class="statussavebox" :span="4">AGI {{item.status.AGI}}</el-col>
                                                <el-col class="statussavebox" :span="4">VIT {{item.status.VIT}}</el-col>
                                                <el-col class="statussavebox" :span="4">INT {{item.status.INT}}</el-col>
                                                <el-col class="statussavebox" :span="4">DEX {{item.status.DEX}}</el-col>
                                                <el-col class="statussavebox" :span="4">LUK {{item.status.LUK}}</el-col>
                                            </el-row>
                                        </el-col>
                                        <el-col :span="4">
                                            <el-button v-on:click="onRemoveStatusSave(index)" icon="el-icon-delete"
                                                type="danger" size="mini">
                                            </el-button>
                                        </el-col>
                                        <el-col :span="6">
                                            <el-button v-on:click="onLoadStatusSave(index)" icon="el-icon-check"
                                                type="success" type="primary" size="small">
                                                載入
                                            </el-button>
                                        </el-col>
                                    </el-row>
                                </div>
                            </div>
                        </el-scrollbar>

                    </div>
                </el-col>
            </el-row>
        </el-dialog>
        <el-dialog :visible.sync="UIPanel['AllSetDBDialog']" v-on:close="ClosePanel('AllSetDBDialog')"
            custom-class="Dialogue-container" width="85%" top="58px" center>
            <span slot="title">整頁儲存(測試中)</span>
            <el-row :gutter="2">
                <el-col :span="8">
                    <el-row type="flex" class="titlebox textcenter" align="middle" justify="space-around"
                        style="height:40px;" :span="8">
                        <span class="textcenter">目前計算統整</span>
                    </el-row>
                    <div style="padding: 0px 5px;">
                        <el-row class="statusbox bg-purple-light" :gutter="4" type="flex" align="middle" justify="end">
                            <el-col class="textcenter">
                                <el-button v-on:click="onSaveAllSet" size="small">
                                    儲存>>>
                                </el-button>
                            </el-col>
                        </el-row>
                        <el-row class="statusbox bg-purple-light" type="flex" align="middle" justify="space-around">
                            <el-col class="textcenter">
                                <span>存檔名</span>
                            </el-col>
                            <el-col class="textcenter">
                                <el-input v-model="TempAllSet.Name" placeholder="要儲存的檔名">
                                </el-input>
                            </el-col>
                        </el-row>
                        <el-scrollbar wrap-class="EquipList-container" :native="false" :noresize="false">
                            <el-row class="statusbox bg-purple-light" type="flex" align="middle" style="height:40px;">
                                <el-col class="textcenter">技能名</el-col>
                                <el-col>
                                    <el-input v-model.number="TempAllSet.SkillName" laceholder="Level">
                                    </el-input>
                                </el-col>
                            </el-row>
                            <el-row class="statusbox bg-purple-light" type="flex" align="middle" style="height:40px;">
                                <el-col class="textcenter">敵人名</el-col>
                                <el-col>
                                    <el-input v-model.number="TempAllSet.EnmeyName" laceholder="Level">
                                    </el-input>
                                </el-col>
                            </el-row>
                        </el-scrollbar>
                    </div>
                </el-col>
                <el-col :span="16">
                    <el-row type="flex" class="titlebox textcenter" align="middle" justify="space-around"
                        style="height:40px;" :span="16">
                        <span class="textcenter">已儲存清單</span>
                    </el-row>
                    <div style="padding: 0px 5px;">
                        <el-scrollbar wrap-class="StatusList-container" :native="false" :noresize="false">
                            <div v-for="(item, index) in StoreDB_AllSet" v-bind:key="item.uuid">
                                <div style="padding: 2px 5px;">
                                    <el-row class="optionbox effectline"
                                        :class="index%2==0?'bg-purple-light':'bg-purple'" :gutter="4" type="flex"
                                        align="middle">
                                        <el-col class="textcenter" :span="8">
                                            <span>{{ item.AllSet.Name }}</span>
                                        </el-col>
                                        <el-col class="textcenter" :span="5">
                                            <span>{{ item.AllSet.SkillName }}</span>
                                        </el-col>
                                        <el-col class="textcenter" :span="5">
                                            <span>{{ item.AllSet.EnemyName }}</span>
                                        </el-col>
                                        <el-col :span="3">
                                            <el-button v-on:click="onRemoveAllSetSave(index)" icon="el-icon-delete"
                                                type="danger" size="mini">
                                            </el-button>
                                        </el-col>
                                        <el-col :span="3">
                                            <el-button v-on:click="onLoadAllSetSave(index)" icon="el-icon-check"
                                                type="success" type="primary" size="small">
                                                載入
                                            </el-button>
                                        </el-col>
                                    </el-row>
                                </div>
                            </div>
                        </el-scrollbar>

                    </div>
                </el-col>
            </el-row>
        </el-dialog>
        <!-- header -->
        <div class="ROCalTitle">
            <el-row type="flex" align="middle" justify="space-around">
                <el-col :span="2">
                </el-col>
                <el-col :span="2">
                </el-col>
                <el-col :span="2">
                </el-col>
                <el-col :span="14">
                    <div class="effectline grid-content" type="flex" align="middle" justify="space-around">
                        <span>RO 計算機</span>
                    </div>
                </el-col>
                <el-col :span="2" class="textcenter">
                    TwRO
                </el-col>
                <el-col :span="2">
                    <el-button v-on:click="TogglePanel('UpdateLogDialog')" size="small">
                        更新內容
                    </el-button>
                </el-col>
                <el-col :span="2">
                    <el-button v-on:click="TogglePanel('SpecialthanksDialog')" size="small">
                        協力成員
                    </el-button>
                </el-col>
            </el-row>
        </div>
        <!-- main -->
        <div>
            <el-row :gutter="2">
                <el-col :span="8">
                    <el-scrollbar wrap-class="bodycol-container" :native="true" :noresize="false">
                        <el-row class="titlebox" type="flex" align="middle" justify="end" style="height:40px; padding: 0px 5px;">
                            <el-col class="textcenter" :span="2">
                                <span class="textcenter"> </span>
                            </el-col>
                            <el-col v-if="UIPanel['StatusPanel']" class="textcenter" :span="20" style="text-align: center;">
                                <span class="textcenter">角色素質</span>
                            </el-col>
                            <el-col v-else-if="!UIPanel['StatusPanel']&&(skill.DamageTypeIdx==0)" class="textcenter" :span="16" style="text-align: left;">
                                <span class="textcenter">角色: [LV]{{status.Level}}  [STR]{{status_total.STR}}  [DEX]{{status_total.DEX}}  [LUK]{{status_total.LUK}}</span>
                            </el-col>
                            <el-col v-else-if="!UIPanel['StatusPanel']&&(skill.DamageTypeIdx==1)" class="textcenter" :span="16" style="text-align: left;">
                                <span class="textcenter">角色: [LV]{{status.Level}}  [INT]{{status_total.INT}}  [DEX]{{status_total.DEX}}  [LUK]{{status_total.LUK}}</span>
                            </el-col>
                            <el-col v-else-if="!UIPanel['StatusPanel']&&(skill.DamageTypeIdx==2)" class="textcenter" :span="16" style="text-align: left;">
                                <span class="textcenter">角色: [LV]{{status.Level}}  [HP]{{status.HP}}  [SP]{{status.SP}}</span>
                            </el-col>
                            <el-col class="textcenter" :span="4" style="text-align: right;">
                                <el-tooltip class="item" effect="dark" content="讀取已經儲存的素質" placement="left">
                                    <el-button v-on:click="OpenStatusDBDialogDialogue" size="mini">
                                        角色清單
                                    </el-button>
                                </el-tooltip>
                            </el-col>
                            <el-col v-if="UIPanel['StatusPanel']" class="textcenter" :span="2">
                                <el-button type="info" v-on:click="TogglePanel('StatusPanel')" size="mini"><i class="el-icon-arrow-down"></i></el-button>
                            </el-col>
                            <el-col v-else="!UIPanel['StatusPanel']" class="textcenter" :span="2">
                                <el-button type="info" v-on:click="TogglePanel('StatusPanel')" size="mini"><i class="el-icon-arrow-up"></i></el-button>
                            </el-col>
                        </el-row>
                        <el-row>
                            <el-collapse-transition>
                            <div v-show="UIPanel['StatusPanel']">
                            <div class="boxborder StatusBlock">
                                <el-row class="statusbox bg-purple-light" type="flex" align="middle">
                                    <el-col :span="6" class="textcenter"><span>職業</span>
                                    </el-col>
                                    <el-col :span="18">
                                        <div class="grid-content">
                                            <el-select v-model="status.classid" v-on:change="onOption" placeholder="">
                                                <el-option v-for="item in classlist" :key="item.id" :label="item.label" :value="item.id">
                                                </el-option>
                                            </el-select>
                                        </div>
                                    </el-col>
                                </el-row>
                                <el-row class="statusbox bg-purple-light" type="flex" align="middle">
                                    <el-col class="textcenter" :span="6">HP</el-col>
                                    <el-col :span="6">
                                        {{status.HP}}
                                    </el-col>
                                    <el-col class="textcenter" :span="6">SP</el-col>
                                    <el-col :span="6">
                                        {{status.SP}}
                                    </el-col>
                                </el-row>
                                <el-row class="statusbox bg-purple-light" type="flex" align="middle"
                                    style="height:40px;">
                                    <el-col class="textcenter">Level</el-col>
                                    <el-col>
                                        <el-input v-model.number="status.Level" v-on:input="onOption"
                                            placeholder="Level">
                                        </el-input>
                                    </el-col>
                                    <el-col class="textcenter">JobLevel</el-col>
                                    <el-col>
                                        <el-input v-model.number="status.JOBLevel" v-on:input="onOption"
                                            placeholder="Level">
                                        </el-input>
                                    </el-col>
                                </el-row>
                                <el-row class="statusbox bg-purple-light" type="flex" align="middle"
                                    style="height:40px;">
                                    <el-col class="textcenter" :span="3">STR</el-col>
                                    <el-col :span="10">
                                        <el-input v-model="status.STR" v-on:input="onOption"
                                            v-on:change="onStatusChange" placeholder="STR">
                                        </el-input>
                                    </el-col>
                                    <el-col class="textcenter" :span="1">+</el-col>
                                    <el-col class="textcenter" :span="4">{{status_add.STR}}</el-col>
                                    <el-col class="textcenter" :span="1">=</el-col>
                                    <el-col class="textcenter" :span="4">{{status_total.STR}}</el-col>
                                </el-row>
                                <el-row class="statusbox bg-purple-light" type="flex" align="middle"
                                    style="height:40px;">
                                    <el-col class="textcenter" :span="3">AGI</el-col>
                                    <el-col :span="10">
                                        <el-input v-model="status.AGI" v-on:input="onOption"
                                            v-on:change="onStatusChange" placeholder="AGI">
                                        </el-input>
                                    </el-col>
                                    <el-col class="textcenter" :span="1">+</el-col>
                                    <el-col class="textcenter" :span="4">{{status_add.AGI}}</el-col>
                                    <el-col class="textcenter" :span="1">=</el-col>
                                    <el-col class="textcenter" :span="4">{{status_total.AGI}}</el-col>
                                </el-row>
                                <el-row class="statusbox bg-purple-light" type="flex" align="middle"
                                    style="height:40px;">
                                    <el-col class="textcenter" :span="3">VIT</el-col>
                                    <el-col :span="10">
                                        <el-input v-model="status.VIT" v-on:input="onOption"
                                            v-on:change="onStatusChange" placeholder="VIT">
                                        </el-input>
                                    </el-col>
                                    <el-col class="textcenter" :span="1">+</el-col>
                                    <el-col class="textcenter" :span="4">{{status_add.VIT}}</el-col>
                                    <el-col class="textcenter" :span="1">=</el-col>
                                    <el-col class="textcenter" :span="4">{{status_total.VIT}}</el-col>
                                </el-row>
                                <el-row class="statusbox bg-purple-light" type="flex" align="middle"
                                    style="height:40px;">
                                    <el-col class="textcenter" :span="3">INT</el-col>
                                    <el-col :span="10">
                                        <el-input v-model="status.INT" v-on:input="onOption"
                                            v-on:change="onStatusChange" placeholder="INT">
                                        </el-input>
                                    </el-col>
                                    <el-col class="textcenter" :span="1">+</el-col>
                                    <el-col class="textcenter" :span="4">{{status_add.INT}}</el-col>
                                    <el-col class="textcenter" :span="1">=</el-col>
                                    <el-col class="textcenter" :span="4">{{status_total.INT}}</el-col>
                                </el-row>
                                <el-row class="statusbox bg-purple-light" type="flex" align="middle"
                                    style="height:40px;">
                                    <el-col class="textcenter" :span="3">DEX</el-col>
                                    <el-col :span="10">
                                        <el-input v-model="status.DEX" v-on:input="onOption"
                                            v-on:change="onStatusChange" placeholder="DEX">
                                        </el-input>
                                    </el-col>
                                    <el-col class="textcenter" :span="1">+</el-col>
                                    <el-col class="textcenter" :span="4">{{status_add.DEX}}</el-col>
                                    <el-col class="textcenter" :span="1">=</el-col>
                                    <el-col class="textcenter" :span="4">{{status_total.DEX}}</el-col>
                                </el-row>
                                <el-row class="statusbox bg-purple-light" type="flex" align="middle"
                                    style="height:40px;">
                                    <el-col class="textcenter" :span="3">LUK</el-col>
                                    <el-col :span="10">
                                        <el-input v-model="status.LUK" v-on:input="onOption"
                                            v-on:change="onStatusChange" placeholder="LUK">
                                        </el-input>
                                    </el-col>
                                    <el-col class="textcenter" :span="1">+</el-col>
                                    <el-col class="textcenter" :span="4">{{status_add.LUK}}</el-col>
                                    <el-col class="textcenter" :span="1">=</el-col>
                                    <el-col class="textcenter" :span="4">{{status_total.LUK}}</el-col>
                                </el-row>
                                <el-row class="statusbox bg-purple-light" type="flex" align="middle">
                                    <el-col class="textcenter" :span="12">ASPD</el-col>
                                    <el-col :span="12">
                                        <el-input v-model="status.ASPD" v-on:input="onOption" placeholder="攻速">
                                        </el-input>
                                    </el-col>
                                </el-row>
<!--                                 <el-row v-if="TestMode" class="statusbox bg-purple-light" :gutter="4" type="flex" align="middle">
                                    <el-col class="textcenter" :span="6">HP_JOB_A</el-col>
                                    <el-col :span="6">
                                        <el-input v-model="HP_JOB_A" v-on:input="onOption" placeholder="HP">
                                        </el-input>
                                    </el-col>
                                    <el-col class="textcenter" :span="6">HP_JOB_B</el-col>
                                    <el-col :span="6">
                                        <el-input v-model="HP_JOB_B" v-on:input="onOption" placeholder="SP">
                                        </el-input>
                                    </el-col>
                                </el-row> -->
                                <el-row class="statusbox" type="flex" align="middle">
                                    <el-col class="textcenter" :span="6">
                                        <span>轉生</span>
                                    </el-col>
                                    <el-col class="textcenter" :span="6">
                                        <el-switch v-model="status.Transcendent" v-on:change="onOption"
                                            active-color="#13ce66" inactive-color="#8a9799">
                                        </el-switch>
                                    </el-col>
                                    <el-tooltip class="item" effect="dark" content='預設轉生情況，非轉生要-52點' placement="top-start">
                                    <el-col class="textcenter" :span="6">可用素質點</el-col>
                                    </el-tooltip>
                                    <el-col class="textcenter" :span="6">{{computeattribute.StatsPoint}}</el-col>  
                                </el-row>
                                <el-row v-show="(computeattribute['StatsPoint']-computeattribute['RaisingStatsPoint'])>=0" 
                                    class="statusbox" type="flex" align="middle" >
                                    <el-tooltip class="item" effect="dark" content='計算素質欄中第一個 " + 號" 前的數值 例:120+10+5 取120' placement="top-start">
                                    <el-col class="textcenter" :span="6">已消耗點數</el-col>
                                    </el-tooltip>
                                    <el-col class="textcenter" :span="6">{{computeattribute.RaisingStatsPoint}}</el-col>
                                    <el-col class="textcenter" :span="12">餘 {{computeattribute['StatsPoint']-computeattribute['RaisingStatsPoint']}}點</el-col>
                                </el-row>
                                <el-row v-show="(computeattribute['StatsPoint']-computeattribute['RaisingStatsPoint'])<0" 
                                    class="statusbox" type="flex" align="middle" style="color: red;">
                                    <el-tooltip class="item" effect="dark" content='計算素質欄中第一個 " + 號" 前的數值 例:120+10+5 取120' placement="top-start">
                                    <el-col class="textcenter" :span="6">已消耗點數</el-col>
                                    </el-tooltip>
                                    <el-col class="textcenter" :span="6">{{computeattribute.RaisingStatsPoint}}</el-col>
                                    <el-col class="textcenter" :span="12">不足 {{computeattribute['RaisingStatsPoint']-computeattribute['StatsPoint']}}點</el-col>
                                </el-row>
                            </div>
                            </div>
                            </el-collapse-transition>
                        </el-row>
                        <el-row class="titlebox" type="flex" align="middle" justify="end" style="height:40px; padding: 0px 5px;">
                            <el-col :span="2">
                            </el-col>
                            <el-col v-if="UIPanel['EnemyPanel']" class="textcenter" :span="20" style="text-align: center;">
                                <span class="textcenter">敵方</span>
                            </el-col>
                            <el-col v-else="!UIPanel['EnemyPanel']" class="textcenter" :span="20" style="text-align: left;">
                                <span class="textcenter">敵方: [{{enemyattribute.name}}] [Lv{{enemyattribute.level}}] [{{elementtypelist[enemyattribute.elemental].label}}Lv{{enemyattribute.elementallevel}}] [{{sizetypelist[enemyattribute.size].label}}]</span>
                            </el-col>
                            <el-col v-if="UIPanel['EnemyPanel']" class="textcenter" :span="2">
                                <el-button type="info" v-on:click="TogglePanel('EnemyPanel')" size="mini"><i class="el-icon-arrow-down"></i></el-button>
                            </el-col>
                            <el-col v-else="!UIPanel['EnemyPanel']" class="textcenter" :span="2">
                                <el-button type="info" v-on:click="TogglePanel('EnemyPanel')" size="mini"><i class="el-icon-arrow-up"></i></el-button>
                            </el-col>
                        </el-row>
                        <el-row>
                            <el-collapse-transition>
                                <div v-show="UIPanel['EnemyPanel']">
                            <div class="boxborder EnemyBlock">
                                <el-row class="statusbox bg-purple-light" :gutter="4" type="flex" align="middle"
                                    justify="center">
                                    <el-col :span="24">
                                        <div class="textcenter grid-content">
                                            <el-select value-key="id" v-model="enemyattribute"
                                                v-on:change="onSelectEnemy" placeholder="選擇敵方">
                                                <el-option v-for="item in enemylist" :key="item.id" :label="item.name"
                                                    :value="item">
                                                </el-option>
                                            </el-select>
                                        </div>
                                    </el-col>
                                </el-row>
                                <el-row class="statusbox bg-purple-light" :gutter="4" type="flex" align="middle">
                                    <el-col :span="3" class="textcenter"><span>屬性</span>
                                    </el-col>
                                    <el-col :span="5">
                                        <div class="grid-content bg-purple">
                                            <el-select v-model="enemyattribute.elemental"
                                                v-on:change="ComputElementalPercent" placeholder="敵方屬性">
                                                <el-option v-for="item in elementtypelist" :key="item.id"
                                                    :label="item.label" :value="item.id">
                                                </el-option>
                                            </el-select>
                                        </div>
                                    </el-col>
                                    <el-col :span="4" class="textcenter"><span>屬性等級</span>
                                    </el-col>
                                    <el-col :span="3">
                                        <div class="grid-content bg-purple">
                                            <el-select value-key="id" v-model="enemyattribute.elementallevel"
                                                v-on:change="ComputElementalPercent" placeholder="屬性等級">
                                                <el-option v-for="item in elementlevel" :key="item.id" :label="item.id"
                                                    :value="item.id">
                                                </el-option>
                                            </el-select>
                                        </div>
                                    </el-col>
                                    <el-col :span="4" class="textcenter">體型</el-col>
                                    <el-col :span="5">
                                        <div class="grid-content bg-purple">
                                            <el-select value-key="id" v-model="enemyattribute.size" placeholder="體型">
                                                <el-option v-for="item in sizetypelist" :key="item.id"
                                                    :label="item.label" :value="item.id">
                                                </el-option>
                                            </el-select>
                                        </div>
                                    </el-col>
                                </el-row>
                                <el-row class="statusbox bg-purple-light" :gutter="4" type="flex" align="middle">
                                    <el-col class="textcenter" :span="6">Level</el-col>
                                    <el-col :span="6">
                                        <el-input v-model="enemyattribute.level" v-on:input="onChangeEnemyStatus"
                                            placeholder="Lv">
                                        </el-input>
                                    </el-col>
                                    <el-tooltip class="item" effect="dark" content="影響最終暴率" placement="bottom-start">
                                        <el-col class="textcenter" :span="6">LUK</el-col>
                                    </el-tooltip>
                                    <el-col :span="6">
                                        <el-input v-model="enemyattribute.LUK" v-on:input="onChangeEnemyStatus"
                                            placeholder="LUK">
                                        </el-input>
                                    </el-col>
                                </el-row>

                                <el-row class="statusbox bg-purple-light" :gutter="4" type="flex" align="middle">
                                    <el-tooltip class="item" effect="dark" content="(魔物等級+VIT)/2"
                                        placement="bottom-start">
                                        <el-col class="textcenter">減算DEF(前)</el-col>
                                    </el-tooltip>
                                    <el-col>
                                        <el-input v-model="enemyattribute.StatusDEF" v-on:input="onChangeEnemyStatus"
                                            placeholder="前 DEF">
                                        </el-input>
                                    </el-col>
                                    <el-col class="textcenter">乘算DEF</el-col>
                                    <el-col>
                                        <el-input v-model="enemyattribute.WeaponDEF" v-on:input="onChangeEnemyStatus"
                                            placeholder="後 DEF">
                                        </el-input>
                                    </el-col>
                                </el-row>
                                <el-row class="statusbox bg-purple-light" :gutter="4" type="flex" align="middle">
                                    <el-tooltip class="item" effect="dark" content="(魔物等級+INT)/4"
                                        placement="bottom-start">
                                        <el-col class="textcenter">減算MDEF(前)</el-col>
                                    </el-tooltip>
                                    <el-col>
                                        <el-input v-model="enemyattribute.StatusMDEF" v-on:input="onChangeEnemyStatus"
                                            placeholder="前 MDEF">
                                        </el-input>
                                    </el-col>
                                    <el-col class="textcenter">乘算MDEF</el-col>
                                    <el-col>
                                        <el-input v-model="enemyattribute.WeaponMDEF" v-on:input="onChangeEnemyStatus"
                                            placeholder="後 MDEF">
                                        </el-input>
                                    </el-col>
                                </el-row>
                            </div>
                            </div>
                        </el-row>
                        <el-row class="titlebox" type="flex" align="middle" justify="end" style="height:40px; padding: 0px 5px;">
                            <el-col class="textcenter" :span="2">
                            </el-col>
                            <el-col class="textcenter" :span="10">
                                <span class="textcenter">技能</span>
                            </el-col>
                            <el-col class="textcenter" :span="6" style="text-align: right;">
                                <el-tooltip class="item" effect="dark" content="讀取已經儲存的技能" placement="left">
                                    <el-button v-on:click="TogglePanel('SkillDBDialog')" size="mini">
                                        技能設定/列表
                                    </el-button>
                                </el-tooltip>
                            </el-col>
                            <el-col v-if="UIPanel['SkillPanel']" class="textcenter" :span="2">
                                <el-button type="info" v-on:click="TogglePanel('SkillPanel')" size="mini"><i class="el-icon-arrow-down"></i></el-button>
                            </el-col>
                            <el-col v-else="!UIPanel['SkillPanel']" class="textcenter" :span="2">
                                <el-button type="info" v-on:click="TogglePanel('SkillPanel')" size="mini"><i class="el-icon-arrow-up"></i></el-button>
                            </el-col>
                        </el-row>
                        <el-row>
                            <div class="boxborder OptionBlock">
                                <el-row  v-show='skill.name != ""'  class="statusbox bg-purple-light" :gutter="4" type="flex" align="middle">
                                    <el-col class="textcenter" :span="12">技能名</el-col>
                                    <el-col class="textcenter" :span="12">
                                        {{skill.name}}
                                    </el-col>
                                </el-row>
                                <el-row class="statusbox bg-purple-light" :gutter="4" type="flex" align="middle">
                                    <el-col class="textcenter" :span="12">技能倍率</el-col>
                                    <el-col class="textcenter" :span="8">
                                        {{option.SkillPercent}}
                                    </el-col>
                                    <el-col class="textcenter" :span="4">%</el-col>
                                </el-row>
                                <el-collapse-transition>
                                <div v-show="UIPanel['SkillPanel']">
                                <el-row class="statusbox bg-purple-light" :gutter="4" type="flex" align="middle">
                                    <el-col class="textcenter" :span="4">技能公式</el-col>
                                    <el-col :span="17">
                                        <el-input v-model="skill.formula" v-on:change="onSkillPercentChange"
                                            placeholder="Skill %">
                                        </el-input>
                                    </el-col>
                                    <el-col :span="2">
                                        <el-popover placement="right-start" title="公式關鍵字" width="350" trigger="click">
                                            <el-scrollbar wrap-class="DBlist-container" :native="false"
                                                :noresize="false">
                                                <el-table :data="KeywordReplaceList" stripe style="width: 100%">
                                                    <el-table-column prop="str1" label="關鍵字" width="100">
                                                    </el-table-column>
                                                    <el-table-column prop="description" label="功能" width="220">
                                                    </el-table-column>
                                                </el-table>
                                            </el-scrollbar>
                                            <el-button slot="reference">?</el-button>
                                        </el-popover>
                                    </el-col>
                                </el-row>
                                <el-row class="statusbox bg-purple-light" :gutter="4" type="flex" align="middle">
                                    <el-col class="textcenter" :span="6">技能等級</el-col>
                                    <el-col class="textcenter" :span="5">
                                        <el-input v-model.number="skill.level" v-on:change="onSkillPercentChange"
                                            placeholder="技能等級">
                                        </el-input>
                                    </el-col>
                                    <el-tooltip class="item" effect="dark" content="傷害次數, 負數時為分段傷害不會增加總傷害"
                                        placement="bottom-start">
                                        <el-col class="textcenter" :span="6">傷害次數</el-col>
                                    </el-tooltip>
                                    <el-col class="textcenter" :span="5">
                                        <el-input v-model.number="skill.hitnumber" v-on:change="onSkillPercentChange"
                                            placeholder="傷害次數">
                                        </el-input>
                                    </el-col>
                                </el-row>
                                <el-row class="statusbox bg-purple-light" :gutter="4" type="flex" align="middle">
                                    <el-col class="textcenter" :span="6">固定詠唱</el-col>
                                    <el-col :span="4">
                                        <el-input v-model="skill.FCT" v-on:input="onOption" placeholder="時間">
                                        </el-input>
                                    </el-col>
                                    <el-col class="textcenter" :span="1">秒</el-col>
                                    <el-col class="textcenter" :span="6">變動詠唱</el-col>
                                    <el-col :span="4">
                                        <el-input v-model="skill.VCT" v-on:input="onOption" placeholder="時間">
                                        </el-input>
                                    </el-col>
                                    <el-col class="textcenter" :span="1">秒</el-col>
                                </el-row>
                                <el-row class="statusbox bg-purple-light" :gutter="4" type="flex" align="middle">
                                    <el-col class="textcenter" :span="6">獨立延遲</el-col>
                                    <el-col :span="4">
                                        <el-input v-model="skill.CD" v-on:input="onOption" placeholder="時間">
                                        </el-input>
                                    </el-col>
                                    <el-col class="textcenter" :span="1">秒</el-col>
                                    <el-col class="textcenter" :span="6">共通延遲</el-col>
                                    <el-col :span="4">
                                        <el-input v-model="skill.GCD" v-on:input="onOption" placeholder="時間">
                                        </el-input>
                                    </el-col>
                                    <el-col class="textcenter" :span="1">秒</el-col>
                                </el-row>
                                <el-row class="statusbox bg-purple-light" :gutter="4" type="flex" align="middle">
                                    <el-col class="textcenter" :span="12">
                                        <span>傷害類型</span>
                                    </el-col>
                                    <el-col :span="12">
                                        <div class="textcenter">
                                            <el-select value-key="id" v-model="skill.DamageTypeIdx"
                                                v-on:change="onSkillPercentChange" placeholder="傷害類型">
                                                <el-option v-for="item in DamageType" :key="item.id" :label="item.label"
                                                    :value="item.id">
                                                </el-option>
                                            </el-select>
                                        </div>
                                    </el-col>
                                </el-row>
                            </div>
                                </el-collapse-transition>
                                <div v-show="skill.ranged">
                                    <el-row class="optionbox" :gutter="4" type="flex" align="middle" justify="end">
                                        <el-col class="textcenter" :span="12">
                                            <span>技能遠傷</span>
                                        </el-col>
                                    </el-row>
                                </div>
                                <div v-show="skill.critical">
                                    <el-row class="optionbox" :gutter="4" type="flex" align="middle" justify="end">
                                        <el-col class="textcenter" :span="12">
                                            <span>技能暴擊</span>
                                        </el-col>
                                    </el-row>
                                </div>
                                <div v-show="skill.cannon">
                                    <el-row class="optionbox" :gutter="4" type="flex" align="middle" justify="end">
                                        <el-col class="textcenter" :span="12">
                                            <span>使用加農砲彈</span>
                                        </el-col>
                                    </el-row>
                                </div>
                                <div v-show="skill.transWeaponDEF">
                                    <el-tooltip class="item" effect="dark" content="將乘算DEF(後DEF)改為減算DEF"
                                        placement="bottom-start">
                                        <el-row class="optionbox" :gutter="4" type="flex" align="middle" justify="end">
                                            <el-col class="textcenter" :span="12">
                                                <span>半無視防禦</span>
                                            </el-col>
                                        </el-row>
                                    </el-tooltip>
                                </div>
                                <div v-show="skill.laterformula">
                                    <el-row class="optionbox" :gutter="4" type="flex" align="middle" justify="end">
                                        <el-col class="textcenter" :span="12">
                                            <span>技能位置-後</span>
                                        </el-col>
                                    </el-row>
                                </div>
                                <el-row class="statusbox bg-purple-light" :gutter="4" type="flex" align="middle">
                                    <el-col class="textcenter" :span="12">
                                        <span>攻擊屬性</span>
                                    </el-col>
                                    <el-col :span="12">
                                        <div class="textcenter">
                                            <el-select value-key="id" v-model="skilloption.AttackElementalIdx"
                                                v-on:change="ComputElementalPercent" placeholder="攻擊屬性">
                                                <el-option v-for="item in elementtypelist" :key="item.id"
                                                    :label="item.label" :value="item.id">
                                                </el-option>
                                            </el-select>
                                        </div>
                                    </el-col>
                                </el-row>
                                <el-row class="statusbox bg-purple-light" :gutter="4" type="flex" align="middle">
                                    <el-col class="textcenter" :span="12">裝備技能傷害增加</el-col>
                                    <!--                                     <el-col :span="6">
                                        <el-input v-model.number="option.EquipSkillAddDamage" v-on:change="onOption"
                                            placeholder="Skill %">
                                        </el-input>
                                    </el-col>
                                    <el-col class="textcenter" :span="4">+</el-col>
                                    <el-col :span="6">
                                        {{this.effecttypelist.find(x => x.id == 'SkillDamagePercent').totalvalue}}
                                    </el-col> -->
                                    <el-col class="textcenter" :span="6">{{option.EquipSkillAddDamage}}</el-col>
                                    <el-col class="textcenter" :span="4">%</el-col>
                                </el-row>
                                <el-row class="statusbox bg-purple-light" :gutter="4" type="flex" align="middle">
                                    <el-col class="textcenter">武器修練ATK增加</el-col>
                                    <el-col>
                                        <el-input v-model.number="skilloption.WeaponMasteryATKInput"
                                            v-on:change="onOption" placeholder="ATK">
                                        </el-input>
                                    </el-col>
                                </el-row>
                            </div>
                        </el-row>
                        <el-row>
                            <el-row class="titlebox" type="flex" align="middle" justify="space-around"
                                style="height:40px;">
                                <el-col class="textcenter" :span="6">
                                </el-col>
                                <el-col class="textcenter" :span="10">
                                    <span class="textcenter">額外技能選項</span>
                                </el-col>
                                <el-col class="textcenter" :span="6" style="text-align: right;">
                                    <el-button v-on:click="ResetOption" size="small">
                                        重置
                                    </el-button>
                                </el-col>
                            </el-row>
                            <el-row>
                                <div v-on:click="TogglePanel('SwordmanSkillPage')">
                                    <el-row class="subtitlebox" type="flex" align="middle" style="height:40px;">
                                        <el-col class="textcenter" :span="2">
                                        </el-col>
                                        <el-col class="textcenter" :span="20">
                                            <span class="textcenter">劍士</span>
                                        </el-col>
                                        <el-col v-if="UIPanel['SwordmanSkillPage']" class="textcenter" :span="2">
                                            <i class="el-icon-arrow-down"></i>
                                        </el-col>
                                        <el-col v-else="UIPanel['SwordmanSkillPage']" class="textcenter" :span="2">
                                            <i class="el-icon-arrow-up"></i>
                                        </el-col>
                                    </el-row>
                                </div>
                                <el-collapse-transition>
                                    <div v-show="UIPanel['SwordmanSkillPage']">
                                        <el-row class="optionbox" :gutter="4" type="flex" align="middle" justify="end">
                                            <el-col class="textcenter" :span="12">
                                                <span>騎乘</span>
                                            </el-col>
                                            <el-col class="textcenter" :span="12">
                                                <el-switch v-model="option.Riding" v-on:change="ComputeSizefix"
                                                    active-color="#13ce66" inactive-color="#8a9799">
                                                </el-switch>
                                            </el-col>
                                        </el-row>
                                        <el-row class="optionbox" :gutter="4" type="flex" align="middle" justify="end">
                                            <el-col class="textcenter" :span="12">
                                                <span>怒暴</span>
                                            </el-col>
                                            <el-col class="textcenter" :span="12">
                                                <el-switch v-model="option.MagnumBreak"
                                                    v-on:change="onOptionMagnumBreak" active-color="#13ce66"
                                                    inactive-color="#8a9799">
                                                </el-switch>
                                            </el-col>
                                        </el-row>
                                        <el-row class="optionbox" :gutter="4" type="flex" align="middle" justify="end">
                                            <el-col class="textcenter" :span="12">
                                                <span>雙手劍攻擊速度增加</span>
                                            </el-col>
                                            <el-col class="textcenter" :span="12">
                                                <el-switch v-model="option.TwoHandQuicken" v-on:change="onOption"
                                                    active-color="#13ce66" inactive-color="#8a9799">
                                                </el-switch>
                                            </el-col>
                                        </el-row>
                                        <el-row class="optionbox" :gutter="4" type="flex" align="middle" justify="end">
                                            <el-col class="textcenter" :span="12">
                                                <span>集中攻擊</span>
                                            </el-col>
                                            <el-col class="textcenter" :span="12">
                                                <el-switch v-model="option.Concentration" v-on:change="onOption"
                                                    active-color="#13ce66" inactive-color="#8a9799">
                                                </el-switch>
                                            </el-col>
                                        </el-row>
                                        <el-row class="optionbox" :gutter="4" type="flex" align="middle" justify="end">
                                            <el-col class="textcenter" :span="12">
                                                <span>靈氣劍</span>
                                            </el-col>
                                            <el-col class="textcenter" :span="12">
                                                <el-switch v-model="option.AuraBlade" v-on:change="onOption"
                                                    active-color="#13ce66" inactive-color="#8a9799">
                                                </el-switch>
                                            </el-col>
                                        </el-row>
                                        <el-row class="optionbox" :gutter="4" type="flex" align="middle" justify="end">
                                            <el-col class="textcenter" :span="12">
                                                <span>狂怒之槍</span>
                                            </el-col>
                                            <el-col class="textcenter" :span="12">
                                                <el-switch v-model="option.Berserk" v-on:change="onOption"
                                                    active-color="#13ce66" inactive-color="#8a9799">
                                                </el-switch>
                                            </el-col>
                                        </el-row>
                                        <el-row class="optionbox" :gutter="4" type="flex" align="middle" justify="end">
                                            <el-col class="textcenter" :span="12">
                                                <span>盾咒(ATK)</span>
                                            </el-col>
                                            <el-col class="textcenter" :span="12">
                                                <el-switch v-model="option.ShieldSpell" v-on:change="onOption"
                                                    active-color="#13ce66" inactive-color="#8a9799">
                                                </el-switch>
                                            </el-col>
                                        </el-row>
                                        <el-collapse-transition>
                                            <div v-show="option.ShieldSpell">
                                                <el-row class="optionsubbox" :gutter="4" type="flex" align="middle"
                                                    justify="center">
                                                    <el-col class="textcenter" :span="8">盾牌防禦力</el-col>
                                                    <el-col :span="4">
                                                        <el-input v-model.number="option.ShieldDEF"
                                                            v-on:change="onOption" placeholder="ShieldDEF">
                                                        </el-input>
                                                    </el-col>
                                                </el-row>
                                            </div>
                                        </el-collapse-transition>
                                        <el-row class="optionbox" :gutter="4" type="flex" align="middle" justify="end">
                                            <el-col class="textcenter" :span="12">
                                                <span>靈感</span>
                                            </el-col>
                                            <el-col class="textcenter" :span="12">
                                                <el-switch v-model="option.Inspiration" v-on:change="onOption"
                                                    active-color="#13ce66" inactive-color="#8a9799">
                                                </el-switch>
                                            </el-col>
                                        </el-row>
                                    </div>
                                </el-collapse-transition>

                                <div v-on:click="TogglePanel('ThiefSkillPage')">
                                    <el-row class="subtitlebox" type="flex" align="middle" style="height:40px;">
                                        <el-col class="textcenter" :span="2">
                                        </el-col>
                                        <el-col class="textcenter" :span="20">
                                            <span class="textcenter">盜賊</span>
                                        </el-col>
                                        <el-col v-if="UIPanel['ThiefSkillPage']" class="textcenter" :span="2">
                                            <i class="el-icon-arrow-down"></i>
                                        </el-col>
                                        <el-col v-else="UIPanel['ThiefSkillPage']" class="textcenter" :span="2">
                                            <i class="el-icon-arrow-up"></i>
                                        </el-col>
                                    </el-row>
                                </div>
                                <el-collapse-transition>
                                    <div v-show="UIPanel['ThiefSkillPage']">
                                        <el-row class="optionbox" :gutter="4" type="flex" align="middle" justify="end">
                                            <el-col class="textcenter" :span="12">
                                                <span>致命塗毒</span>
                                            </el-col>
                                            <el-col class="textcenter" :span="12">
                                                <el-switch v-model="option.EnchantDeadlyPoison"
                                                    v-on:change="onOptionEnchantDeadlyPoison" active-color="#13ce66"
                                                    inactive-color="#8a9799">
                                                </el-switch>
                                            </el-col>
                                        </el-row>
                                        <el-row class="optionbox" :gutter="4" type="flex" align="middle" justify="end">
                                            <el-col class="textcenter" :span="12">
                                                <span>毒耐性弱化</span>
                                            </el-col>
                                            <el-col class="textcenter" :span="12">
                                                <el-switch v-model="option.VENOMIMPRESS" v-on:change="onOption"
                                                    active-color="#13ce66" inactive-color="#8a9799">
                                                </el-switch>
                                            </el-col>
                                        </el-row>
                                        <el-collapse-transition>
                                            <div v-show="option.VENOMIMPRESS">
                                                <el-row class="optionsubbox" :gutter="4" type="flex" align="middle"
                                                    justify="center">
                                                    <el-col class="textcenter" :span="8">毒耐性弱化</el-col>
                                                    <el-col :span="4">
                                                        <el-input v-model.number="option.VENOMIMPRESSLevel"
                                                            v-on:change="onOption" placeholder="等級">
                                                        </el-input>
                                                    </el-col>
                                                </el-row>
                                            </div>
                                        </el-collapse-transition>
                                        <el-row class="optionbox" :gutter="4" type="flex" align="middle" justify="end">
                                            <el-col class="textcenter" :span="12">
                                                <span>高階拳刃修練</span>
                                            </el-col>
                                            <el-col class="textcenter" :span="12">
                                                <el-switch v-model="option.AdvancedKatarReserch" v-on:change="onOption"
                                                    active-color="#13ce66" inactive-color="#8a9799">
                                                </el-switch>
                                            </el-col>
                                        </el-row>
                                    </div>
                                </el-collapse-transition>
                                <div v-on:click="TogglePanel('MerchantSkillPage')">
                                    <el-row class="subtitlebox" type="flex" align="middle" style="height:40px;">
                                        <el-col class="textcenter" :span="2">
                                        </el-col>
                                        <el-col class="textcenter" :span="20">
                                            <span class="textcenter">商人</span>
                                        </el-col>
                                        <el-col v-if="UIPanel['MerchantSkillPage']" class="textcenter" :span="2">
                                            <i class="el-icon-arrow-down"></i>
                                        </el-col>
                                        <el-col v-else="UIPanel['MerchantSkillPage']" class="textcenter" :span="2">
                                            <i class="el-icon-arrow-up"></i>
                                        </el-col>
                                    </el-row>
                                </div>
                                <el-collapse-transition>
                                    <div v-show="UIPanel['MerchantSkillPage']">
                                        <el-row class="optionbox" :gutter="4" type="flex" align="middle" justify="end">
                                            <el-col class="textcenter" :span="12">
                                                <span>大聲吶喊</span>
                                            </el-col>
                                            <el-col class="textcenter" :span="12">
                                                <el-switch v-model="option.Loud" v-on:change="onOption"
                                                    active-color="#13ce66" inactive-color="#8a9799">
                                                </el-switch>
                                            </el-col>
                                        </el-row>
                                        <el-row class="optionbox" :gutter="4" type="flex" align="middle" justify="end">
                                            <el-col class="textcenter" :span="12">
                                                <span>武器值最大化</span>
                                            </el-col>
                                            <el-col class="textcenter" :span="12">
                                                <el-switch v-model="option.MaximizePower" v-on:change="ComputeSizefix"
                                                    active-color="#13ce66" inactive-color="#8a9799">
                                                </el-switch>
                                            </el-col>
                                        </el-row>
                                        <el-row class="optionbox" :gutter="4" type="flex" align="middle" justify="end">
                                            <el-col class="textcenter" :span="12">
                                                <span>無視體型攻擊</span>
                                            </el-col>
                                            <el-col class="textcenter" :span="12">
                                                <el-switch v-model="option.WeaponPerfection"
                                                    v-on:change="ComputeSizefix" active-color="#13ce66"
                                                    inactive-color="#8a9799">
                                                </el-switch>
                                            </el-col>
                                        </el-row>
                                        <el-row class="optionbox" :gutter="4" type="flex" align="middle" justify="end">
                                            <el-col class="textcenter" :span="12">
                                                <span>兇砍 25%</span>
                                            </el-col>
                                            <el-col class="textcenter" :span="12">
                                                <el-switch v-model="option.Overthrust"
                                                    v-on:change="onOptionOverthrust('Self')" active-color="#13ce66"
                                                    inactive-color="#8a9799">
                                                </el-switch>
                                            </el-col>
                                        </el-row>
                                        <el-row class="optionbox" :gutter="4" type="flex" align="middle" justify="end">
                                            <el-col class="textcenter" :span="12">
                                                <span>兇砍(隊伍) 15%</span>
                                            </el-col>
                                            <el-col class="textcenter" :span="12">
                                                <el-switch v-model="option.OverthrustParty"
                                                    v-on:change="onOptionOverthrust('Party')" active-color="#13ce66"
                                                    inactive-color="#8a9799">
                                                </el-switch>
                                            </el-col>
                                        </el-row>
                                        <el-row class="optionbox" :gutter="4" type="flex" align="middle" justify="end">
                                            <el-col class="textcenter" :span="12">
                                                <span>兇砍最大值 100%</span>
                                            </el-col>
                                            <el-col class="textcenter" :span="12">
                                                <el-switch v-model="option.OverthrustMax"
                                                    v-on:change="onOptionOverthrust('Max')" active-color="#13ce66"
                                                    inactive-color="#8a9799">
                                                </el-switch>
                                            </el-col>
                                        </el-row>
                                        <el-row class="optionbox" :gutter="4" type="flex" align="middle" justify="end">
                                            <el-col class="textcenter" :span="12">
                                                <span>速度激發</span>
                                            </el-col>
                                            <el-col class="textcenter" :span="12">
                                                <el-switch v-model="option.AdrenalineRush" active-color="#13ce66"
                                                    inactive-color="#8a9799">
                                                </el-switch>
                                            </el-col>
                                        </el-row>
                                        <el-row class="optionbox" :gutter="4" type="flex" align="middle" justify="end">
                                            <el-col class="textcenter" :span="12">
                                                <span>火山塵暴</span>
                                            </el-col>
                                            <el-col class="textcenter" :span="12">
                                                <el-switch v-model="option.Pyroclastic" v-on:change="onOption"
                                                    active-color="#13ce66" inactive-color="#8a9799">
                                                </el-switch>
                                            </el-col>
                                        </el-row>
                                        <el-collapse-transition>
                                            <div v-show="option.Pyroclastic">
                                                <el-row class="optionsubbox" :gutter="4" type="flex" align="middle"
                                                    justify="center">
                                                    <el-col class="textcenter" :span="8">生命體等級</el-col>
                                                    <el-col :span="4">
                                                        <el-input v-model.number="option.HomunculusLevel"
                                                            v-on:change="onOption" placeholder="生命體等級">
                                                        </el-input>
                                                    </el-col>
                                                </el-row>
                                            </div>
                                        </el-collapse-transition>
                                        <!-- <el-row class="optionbox" :gutter="4" type="flex" align="middle" justify="end">
                                            <el-col class="textcenter" :span="12">
                                                <span>戰斧颶風</span>
                                            </el-col>
                                            <el-col class="textcenter" :span="12">
                                                <el-switch v-model="option.AxeTornado" v-on:change="onOption"
                                                    active-color="#13ce66" inactive-color="#8a9799">
                                                </el-switch>
                                            </el-col>
                                        </el-row> -->
                                    </div>
                                </el-collapse-transition>
                                <div v-on:click="TogglePanel('ArcherSkillPage')">
                                    <el-row class="subtitlebox" type="flex" align="middle" style="height:40px;">
                                        <el-col class="textcenter" :span="2">
                                        </el-col>
                                        <el-col class="textcenter" :span="20">
                                            <span class="textcenter">弓箭手</span>
                                        </el-col>
                                        <el-col v-if="UIPanel['ArcherSkillPage']" class="textcenter" :span="2">
                                            <i class="el-icon-arrow-down"></i>
                                        </el-col>
                                        <el-col v-else="UIPanel['ArcherSkillPage']" class="textcenter" :span="2">
                                            <i class="el-icon-arrow-up"></i>
                                        </el-col>
                                    </el-row>
                                </div>
                                <el-collapse-transition>
                                    <div v-show="UIPanel['ArcherSkillPage']">
                                        <el-row class="optionbox" :gutter="4" type="flex" align="middle" justify="end">
                                            <el-col class="textcenter" :span="12">
                                                <span>狙殺瞄準</span>
                                            </el-col>
                                            <el-col class="textcenter" :span="12">
                                                <el-switch v-model="option.TrueSight" v-on:change="onOption"
                                                    active-color="#13ce66" inactive-color="#8a9799">
                                                </el-switch>
                                            </el-col>
                                        </el-row>
                                        <el-row class="optionbox" :gutter="4" type="flex" align="middle" justify="end">
                                            <el-col class="textcenter" :span="12">
                                                <span>精英狙擊</span>
                                            </el-col>
                                            <el-col class="textcenter" :span="12">
                                                <el-switch v-model="option.UNLIMIT" v-on:change="onOption"
                                                    active-color="#13ce66" inactive-color="#8a9799">
                                                </el-switch>
                                            </el-col>
                                        </el-row>
                                    </div>
                                </el-collapse-transition>
                                <div v-on:click="TogglePanel('BardDancerSkillPage')">
                                    <el-row class="subtitlebox" type="flex" align="middle" style="height:40px;">
                                        <el-col class="textcenter" :span="2">
                                        </el-col>
                                        <el-col class="textcenter" :span="20">
                                            <span class="textcenter">詩人 & 舞孃</span>
                                        </el-col>
                                        <el-col v-if="UIPanel['BardDancerSkillPage']" class="textcenter" :span="2">
                                            <i class="el-icon-arrow-down"></i>
                                        </el-col>
                                        <el-col v-else="UIPanel['BardDancerSkillPage']" class="textcenter" :span="2">
                                            <i class="el-icon-arrow-up"></i>
                                        </el-col>
                                    </el-row>
                                </div>
                                <el-collapse-transition>
                                    <div v-show="UIPanel['BardDancerSkillPage']">
                                        <el-row class="optionbox" :gutter="4" type="flex" align="middle" justify="end">
                                            <el-col class="textcenter" :span="12">
                                                <span>操控樂器/練習舞蹈</span>
                                            </el-col>
                                            <el-col class="textcenter" :span="12">
                                                <el-switch v-model="option.MusicalDancingLesson" v-on:change="onOption"
                                                    active-color="#13ce66" inactive-color="#8a9799">
                                                </el-switch>
                                            </el-col>
                                        </el-row>
                                        <el-row class="optionbox" :gutter="4" type="flex" align="middle" justify="end">
                                            <el-col class="textcenter" :span="12">
                                                <span>布萊奇之詩</span>
                                            </el-col>
                                            <el-col class="textcenter" :span="12">
                                                <el-switch v-model="option.BA_POEMBRAGI" v-on:change="onOption"
                                                    active-color="#13ce66" inactive-color="#8a9799">
                                                </el-switch>
                                            </el-col>
                                        </el-row>
                                    </div>
                                </el-collapse-transition>
                                <div v-on:click="TogglePanel('MageSkillPage')">
                                    <el-row class="subtitlebox" type="flex" align="middle" style="height:40px;">
                                        <el-col class="textcenter" :span="2">
                                        </el-col>
                                        <el-col class="textcenter" :span="20">
                                            <span class="textcenter">魔法師</span>
                                        </el-col>
                                        <el-col v-if="UIPanel['MageSkillPage']" class="textcenter" :span="2">
                                            <i class="el-icon-arrow-down"></i>
                                        </el-col>
                                        <el-col v-else="UIPanel['MageSkillPage']" class="textcenter" :span="2">
                                            <i class="el-icon-arrow-up"></i>
                                        </el-col>
                                    </el-row>
                                </div>
                                <el-collapse-transition>
                                    <div v-show="UIPanel['MageSkillPage']">
                                        <el-row class="optionbox" :gutter="4" type="flex" align="middle" justify="end">
                                            <el-col class="textcenter" :span="12">
                                                <span>魔法省悟</span>
                                            </el-col>
                                            <el-col class="textcenter" :span="12">
                                                <el-switch v-model="option.RECOGNIZEDSPELL" v-on:change="onOption"
                                                    active-color="#13ce66" inactive-color="#8a9799">
                                                </el-switch>
                                            </el-col>
                                        </el-row>
                                        <el-row class="optionbox" :gutter="4" type="flex" align="middle" justify="end">
                                            <el-col class="textcenter" :span="12">
                                                <span>魔力增幅</span>
                                            </el-col>
                                            <el-col class="textcenter" :span="12">
                                                <el-switch v-model="option.MagicPower" v-on:change="onOption"
                                                    active-color="#13ce66" inactive-color="#8a9799">
                                                </el-switch>
                                            </el-col>
                                        </el-row>
                                        <el-row class="optionbox" :gutter="4" type="flex" align="middle" justify="end">
                                            <el-col class="textcenter" :span="12">
                                                <span>打擊強化</span>
                                            </el-col>
                                            <el-col class="textcenter" :span="12">
                                                <el-switch v-model="option.Striking" v-on:change="onOption"
                                                    active-color="#13ce66" inactive-color="#8a9799">
                                                </el-switch>
                                            </el-col>
                                        </el-row>
                                        <el-collapse-transition>
                                            <div v-show="option.Striking">
                                                <el-row class="optionsubbox" :gutter="4" type="flex" align="middle"
                                                    justify="center">
                                                    <el-col class="textcenter" :span="8">打擊強化等級</el-col>
                                                    <el-col :span="4">
                                                        <el-input v-model.number="option.StrikingLevel"
                                                            v-on:change="onOption" placeholder="等級">
                                                        </el-input>
                                                    </el-col>
                                                </el-row>
                                                <el-row class="optionsubbox" :gutter="4" type="flex" align="middle"
                                                    justify="center">
                                                    <el-col class="textcenter" :span="8">屬性附加等級</el-col>
                                                    <el-col :span="4">
                                                        <el-input v-model.number="option.EndowLevel_Total"
                                                            v-on:change="onOption" placeholder="等級">
                                                        </el-input>
                                                    </el-col>
                                                </el-row>
                                            </div>
                                        </el-collapse-transition>
                                        <el-row class="optionbox" :gutter="4" type="flex" align="middle" justify="end">
                                            <el-col class="textcenter" :span="12">
                                                <span>火之紋章Lv3(我方)</span>
                                            </el-col>
                                            <el-col class="textcenter" :span="12">
                                                <el-switch v-model="option.SO_FIRE_INSIGNIA" v-on:change="onOption"
                                                    active-color="#13ce66" inactive-color="#8a9799">
                                                </el-switch>
                                            </el-col>
                                        </el-row>
                                        <el-row class="optionbox" :gutter="4" type="flex" align="middle" justify="end">
                                            <el-col class="textcenter" :span="12">
                                                <span>火之紋章(敵方)</span>
                                            </el-col>
                                            <el-col class="textcenter" :span="12">
                                                <el-switch v-model="option.SO_FIRE_INSIGNIA_ENEMY" v-on:change="onOption"
                                                    active-color="#13ce66" inactive-color="#8a9799">
                                                </el-switch>
                                            </el-col>
                                        </el-row>
                                        <el-row class="optionbox" :gutter="4" type="flex" align="middle" justify="end">
                                            <el-col class="textcenter" :span="12">
                                                <span>水之紋章Lv3(我方)</span>
                                            </el-col>
                                            <el-col class="textcenter" :span="12">
                                                <el-switch v-model="option.SO_WATER_INSIGNIA" v-on:change="onOption"
                                                    active-color="#13ce66" inactive-color="#8a9799">
                                                </el-switch>
                                            </el-col>
                                        </el-row>
                                        <el-row class="optionbox" :gutter="4" type="flex" align="middle" justify="end">
                                            <el-col class="textcenter" :span="12">
                                                <span>水之紋章(敵方)</span>
                                            </el-col>
                                            <el-col class="textcenter" :span="12">
                                                <el-switch v-model="option.SO_WATER_INSIGNIA_ENEMY" v-on:change="onOption"
                                                    active-color="#13ce66" inactive-color="#8a9799">
                                                </el-switch>
                                            </el-col>
                                        </el-row>
                                        <el-row class="optionbox" :gutter="4" type="flex" align="middle" justify="end">
                                            <el-col class="textcenter" :span="12">
                                                <span>風之紋章Lv3(我方)</span>
                                            </el-col>
                                            <el-col class="textcenter" :span="12">
                                                <el-switch v-model="option.SO_WIND_INSIGNIA" v-on:change="onOption"
                                                    active-color="#13ce66" inactive-color="#8a9799">
                                                </el-switch>
                                            </el-col>
                                        </el-row>
                                        <el-row class="optionbox" :gutter="4" type="flex" align="middle" justify="end">
                                            <el-col class="textcenter" :span="12">
                                                <span>風之紋章(敵方)</span>
                                            </el-col>
                                            <el-col class="textcenter" :span="12">
                                                <el-switch v-model="option.SO_WIND_INSIGNIA_ENEMY" v-on:change="onOption"
                                                    active-color="#13ce66" inactive-color="#8a9799">
                                                </el-switch>
                                            </el-col>
                                        </el-row>
                                        <el-row class="optionbox" :gutter="4" type="flex" align="middle" justify="end">
                                            <el-col class="textcenter" :span="12">
                                                <span>地之紋章Lv3(我方)</span>
                                            </el-col>
                                            <el-col class="textcenter" :span="12">
                                                <el-switch v-model="option.SO_EARTH_INSIGNIA" v-on:change="onOption"
                                                    active-color="#13ce66" inactive-color="#8a9799">
                                                </el-switch>
                                            </el-col>
                                        </el-row>
                                        <el-row class="optionbox" :gutter="4" type="flex" align="middle" justify="end">
                                            <el-col class="textcenter" :span="12">
                                                <span>地之紋章(敵方)</span>
                                            </el-col>
                                            <el-col class="textcenter" :span="12">
                                                <el-switch v-model="option.SO_EARTH_INSIGNIA_ENEMY" v-on:change="onOption"
                                                    active-color="#13ce66" inactive-color="#8a9799">
                                                </el-switch>
                                            </el-col>
                                        </el-row>
                                    </div>
                                </el-collapse-transition>
                                <div v-on:click="TogglePanel('AcolyteSkillPage')">
                                    <el-row class="subtitlebox" type="flex" align="middle" style="height:40px;">
                                        <el-col class="textcenter" :span="2">
                                        </el-col>
                                        <el-col class="textcenter" :span="20">
                                            <span class="textcenter">服事</span>
                                        </el-col>
                                        <el-col v-if="UIPanel['AcolyteSkillPage']" class="textcenter" :span="2">
                                            <i class="el-icon-arrow-down"></i>
                                        </el-col>
                                        <el-col v-else="UIPanel['AcolyteSkillPage']" class="textcenter" :span="2">
                                            <i class="el-icon-arrow-up"></i>
                                        </el-col>
                                    </el-row>
                                </div>
                                <el-collapse-transition>
                                    <div v-show="UIPanel['AcolyteSkillPage']">
                                        <el-row class="optionbox" :gutter="4" type="flex" align="middle" justify="end">
                                            <el-col class="textcenter" :span="12">
                                                <span>加速術</span>
                                            </el-col>
                                            <el-col class="textcenter" :span="12">
                                                <el-switch v-model="option.IncreaseAgility"
                                                    v-on:change="onOptionIncreaseAgility('1st')" active-color="#13ce66"
                                                    inactive-color="#8a9799">
                                                </el-switch>
                                            </el-col>
                                        </el-row>
                                        <el-row class="optionbox" :gutter="4" type="flex" align="middle" justify="end">
                                            <el-col class="textcenter" :span="12">
                                                <span>天使的賜福</span>
                                            </el-col>
                                            <el-col class="textcenter" :span="12">
                                                <el-switch v-model="option.Blessing"
                                                    v-on:change="onOptionBlessing('1st')" active-color="#13ce66"
                                                    inactive-color="#8a9799">
                                                </el-switch>
                                            </el-col>
                                        </el-row>
                                        <el-row class="optionbox" :gutter="4" type="flex" align="middle" justify="end">
                                            <el-col class="textcenter" :span="12">
                                                <span>純白百合花</span>
                                            </el-col>
                                            <el-col class="textcenter" :span="12">
                                                <el-switch v-model="option.CANTOCANDIDUS"
                                                    v-on:change="onOptionIncreaseAgility('3rd')" active-color="#13ce66"
                                                    inactive-color="#8a9799">
                                                </el-switch>
                                            </el-col>
                                        </el-row>
                                        <el-collapse-transition>
                                            <div v-show="option.CANTOCANDIDUS">
                                                <el-row class="optionsubbox" :gutter="4" type="flex" align="middle"
                                                    justify="center">
                                                    <el-col class="textcenter" :span="8">施展者JOB等級</el-col>
                                                    <el-col :span="4">
                                                        <el-input v-model.number="option.ABJobLevel"
                                                            v-on:change="onOption" placeholder="JOB等級">
                                                        </el-input>
                                                    </el-col>
                                                </el-row>
                                            </div>
                                        </el-collapse-transition>
                                        <el-row class="optionbox" :gutter="4" type="flex" align="middle" justify="end">
                                            <el-col class="textcenter" :span="12">
                                                <span>慈悲術</span>
                                            </el-col>
                                            <el-col class="textcenter" :span="12">
                                                <el-switch v-model="option.CREMENTIA"
                                                    v-on:change="onOptionBlessing('3rd')" active-color="#13ce66"
                                                    inactive-color="#8a9799">
                                                </el-switch>
                                            </el-col>
                                        </el-row>
                                        <el-collapse-transition>
                                            <div v-show="option.CREMENTIA">
                                                <el-row class="optionsubbox" :gutter="4" type="flex" align="middle"
                                                    justify="center">
                                                    <el-col class="textcenter" :span="8">施展者JOB等級</el-col>
                                                    <el-col :span="4">
                                                        <el-input v-model.number="option.ABJobLevel"
                                                            v-on:change="onOption" placeholder="JOB等級">
                                                        </el-input>
                                                    </el-col>
                                                </el-row>
                                            </div>
                                        </el-collapse-transition>
                                        <el-row class="optionbox" :gutter="4" type="flex" align="middle" justify="end">
                                            <el-col class="textcenter" :span="12">
                                                <span>犧牲祈福</span>
                                            </el-col>
                                            <el-col class="textcenter" :span="12">
                                                <el-switch v-model="option.Suffragium" v-on:change="onOption"
                                                    active-color="#13ce66" inactive-color="#8a9799">
                                                </el-switch>
                                            </el-col>
                                        </el-row>
                                        <el-collapse-transition>
                                            <div v-show="option.Suffragium">
                                                <el-row class="optionsubbox" :gutter="4" type="flex" align="middle"
                                                    justify="center">
                                                    <el-col class="textcenter" :span="8">犧牲祈福等級</el-col>
                                                    <el-col :span="4">
                                                        <el-input v-model.number="option.SuffragiumLevel"
                                                            v-on:change="onOption" placeholder="等級">
                                                        </el-input>
                                                    </el-col>
                                                </el-row>
                                            </div>
                                        </el-collapse-transition>
                                        <el-row class="optionbox" :gutter="4" type="flex" align="middle" justify="end">
                                            <el-col class="textcenter" :span="12">
                                                <span>神威祈福</span>
                                            </el-col>
                                            <el-col class="textcenter" :span="12">
                                                <el-switch v-model="option.ImpositioManus" v-on:change="onOption"
                                                    active-color="#13ce66" inactive-color="#8a9799">
                                                </el-switch>
                                            </el-col>
                                        </el-row>
                                        <el-collapse-transition>
                                            <div v-show="option.ImpositioManus">
                                                <el-row class="optionsubbox" :gutter="4" type="flex" align="middle"
                                                    justify="center">
                                                    <el-col class="textcenter" :span="8">神威祈福等級</el-col>
                                                    <el-col :span="4">
                                                        <el-input v-model.number="option.ImpositioManusLevel"
                                                            v-on:change="onOption" placeholder="等級">
                                                        </el-input>
                                                    </el-col>
                                                </el-row>
                                            </div>
                                        </el-collapse-transition>
                                        <el-row class="optionbox" :gutter="4" type="flex" align="middle" justify="end">
                                            <el-col class="textcenter" :span="12">
                                                <span>神聖殿堂</span>
                                            </el-col>
                                            <el-col class="textcenter" :span="12">
                                                <el-switch v-model="option.Basilica" v-on:change="onOption"
                                                    active-color="#13ce66" inactive-color="#8a9799">
                                                </el-switch>
                                            </el-col>
                                        </el-row>
                                        <el-row class="optionbox" :gutter="4" type="flex" align="middle" justify="end">
                                            <el-col class="textcenter" :span="12">
                                                <span>折枝讚頌</span>
                                            </el-col>
                                            <el-col class="textcenter" :span="12">
                                                <el-switch v-model="option.LAUDARAMUS" v-on:change="onOption"
                                                    active-color="#13ce66" inactive-color="#8a9799">
                                                </el-switch>
                                            </el-col>
                                        </el-row>
                                        <el-collapse-transition>
                                            <div v-show="option.LAUDARAMUS">
                                                <el-row class="optionsubbox" :gutter="4" type="flex" align="middle"
                                                    justify="center">
                                                    <el-col class="textcenter" :span="8">折枝讚頌等級</el-col>
                                                    <el-col :span="4">
                                                        <el-input v-model.number="option.LAUDARAMUSLevel"
                                                            v-on:change="onOption" placeholder="等級">
                                                        </el-input>
                                                    </el-col>
                                                </el-row>
                                            </div>
                                        </el-collapse-transition>
                                        <el-row class="optionbox" :gutter="4" type="flex" align="middle" justify="end">
                                            <el-col class="textcenter" :span="12">
                                                <span>聖典</span>
                                            </el-col>
                                            <el-col class="textcenter" :span="12">
                                                <el-switch v-model="option.SECRAMENT" v-on:change="onOption"
                                                    active-color="#13ce66" inactive-color="#8a9799">
                                                </el-switch>
                                            </el-col>
                                        </el-row>
                                        <el-row class="optionbox" :gutter="4" type="flex" align="middle" justify="end">
                                            <el-col class="textcenter" :span="12">
                                                <span>贖罪</span>
                                            </el-col>
                                            <el-col class="textcenter" :span="12">
                                                <el-switch v-model="option.EXPIATIO" v-on:change="onOption"
                                                    active-color="#13ce66" inactive-color="#8a9799">
                                                </el-switch>
                                            </el-col>
                                        </el-row>
                                        <el-collapse-transition>
                                            <div v-show="option.EXPIATIO">
                                                <el-row class="optionsubbox" :gutter="4" type="flex" align="middle"
                                                    justify="center">
                                                    <el-col class="textcenter" :span="8">贖罪等級</el-col>
                                                    <el-col :span="4">
                                                        <el-input v-model.number="option.EXPIATIOLevel"
                                                            v-on:change="onOption" placeholder="等級">
                                                        </el-input>
                                                    </el-col>
                                                </el-row>
                                            </div>
                                        </el-collapse-transition>
                                        <el-row class="optionbox" :gutter="4" type="flex" align="middle" justify="end">
                                            <el-col class="textcenter" :span="12">
                                                <span>祈禱文</span>
                                            </el-col>
                                            <el-col class="textcenter" :span="12">
                                                <el-switch v-model="option.ORATIO" v-on:change="onOption"
                                                    active-color="#13ce66" inactive-color="#8a9799">
                                                </el-switch>
                                            </el-col>
                                        </el-row>
                                        <el-collapse-transition>
                                            <div v-show="option.ORATIO">
                                                <el-row class="optionsubbox" :gutter="4" type="flex" align="middle"
                                                    justify="center">
                                                    <el-col class="textcenter" :span="8">祈禱文等級</el-col>
                                                    <el-col :span="4">
                                                        <el-input v-model.number="option.ORATIOLevel"
                                                            v-on:change="onOption" placeholder="等級">
                                                        </el-input>
                                                    </el-col>
                                                </el-row>
                                            </div>
                                        </el-collapse-transition>
                                        <el-row class="optionbox" :gutter="4" type="flex" align="middle" justify="end">
                                            <el-col class="textcenter" :span="12">
                                                <span>蓄氣</span>
                                            </el-col>
                                            <el-col class="textcenter" :span="12">
                                                <el-switch v-model="option.SpiritSpheres" v-on:change="onOption"
                                                    active-color="#13ce66" inactive-color="#8a9799">
                                                </el-switch>
                                            </el-col>
                                        </el-row>
                                        <el-collapse-transition>
                                            <div v-show="option.SpiritSpheres">
                                                <el-row class="optionsubbox" :gutter="4" type="flex" align="middle"
                                                    justify="center">
                                                    <el-col class="textcenter" :span="8">氣球數量</el-col>
                                                    <el-col :span="4">
                                                        <el-input v-model.number="option.SpiritSpheresCount"
                                                            v-on:change="onOption" placeholder="數量">
                                                        </el-input>
                                                    </el-col>
                                                </el-row>
                                            </div>
                                        </el-collapse-transition>
                                        <el-row class="optionbox" :gutter="4" type="flex" align="middle" justify="end">
                                            <el-col class="textcenter" :span="12">
                                                <span>點穴-反</span>
                                            </el-col>
                                            <el-col class="textcenter" :span="12">
                                                <el-switch v-model="option.GentleTouchCharge" v-on:change="onOption"
                                                    active-color="#13ce66" inactive-color="#8a9799">
                                                </el-switch>
                                            </el-col>
                                        </el-row>
                                    </div>
                                </el-collapse-transition>

                                <div v-on:click="TogglePanel('TaekwonSkillPage')">
                                    <el-row class="subtitlebox" type="flex" align="middle" style="height:40px;">
                                        <el-col class="textcenter" :span="2">
                                        </el-col>
                                        <el-col class="textcenter" :span="20">
                                            <span class="textcenter">跆拳</span>
                                        </el-col>
                                        <el-col v-if="UIPanel['TaekwonSkillPage']" class="textcenter" :span="2">
                                            <i class="el-icon-arrow-down"></i>
                                        </el-col>
                                        <el-col v-else="UIPanel['TaekwonSkillPage']" class="textcenter" :span="2">
                                            <i class="el-icon-arrow-up"></i>
                                        </el-col>
                                    </el-row>
                                </div>
                                <el-collapse-transition>
                                    <div v-show="UIPanel['TaekwonSkillPage']">
                                        <el-row class="optionbox" :gutter="4" type="flex" align="middle" justify="end">
                                            <el-col class="textcenter" :span="12">
                                                <span>溫暖的風</span>
                                            </el-col>
                                            <el-col class="textcenter" :span="12">
                                                <el-switch v-model="option.SevenWinde" v-on:change="onOption"
                                                    active-color="#13ce66" inactive-color="#8a9799">
                                                </el-switch>
                                            </el-col>
                                        </el-row>
                                        <el-row class="optionbox" :gutter="4" type="flex" align="middle" justify="end">
                                            <el-col class="textcenter" :span="12">
                                                <span>加油</span>
                                            </el-col>
                                            <el-col class="textcenter" :span="12">
                                                <el-switch v-model="option.Kihop" v-on:change="onOption"
                                                    active-color="#13ce66" inactive-color="#8a9799">
                                                </el-switch>
                                            </el-col>
                                        </el-row>
                                        <el-collapse-transition>
                                            <div v-show="option.Kihop">
                                                <el-row class="optionsubbox" :gutter="4" type="flex" align="middle"
                                                    justify="center">
                                                    <el-col class="textcenter" :span="8">加油等級</el-col>
                                                    <el-col :span="4">
                                                        <el-input v-model.number="option.KihopLevel"
                                                            v-on:change="onOption" placeholder="等級">
                                                        </el-input>
                                                    </el-col>
                                                </el-row>
                                                <el-row class="optionsubbox" :gutter="4" type="flex" align="middle"
                                                    justify="center">
                                                    <el-col class="textcenter" :span="8">隊伍人數(包含自己)</el-col>
                                                    <el-col :span="4">
                                                        <el-input v-model.number="option.PartyMemberCount"
                                                            v-on:change="onOption" placeholder="人數">
                                                        </el-input>
                                                    </el-col>
                                                </el-row>
                                            </div>
                                        </el-collapse-transition>
                                    </div>
                                </el-collapse-transition>
                                <div v-on:click="TogglePanel('StarEmperorSkillPage')">
                                    <el-row class="subtitlebox" type="flex" align="middle" style="height:40px;">
                                        <el-col class="textcenter" :span="2">
                                        </el-col>
                                        <el-col class="textcenter" :span="20">
                                            <span class="textcenter">拳聖 & 拳皇</span>
                                        </el-col>
                                        <el-col v-if="UIPanel['StarEmperorSkillPage']" class="textcenter" :span="2">
                                            <i class="el-icon-arrow-down"></i>
                                        </el-col>
                                        <el-col v-else="UIPanel['StarEmperorSkillPage']" class="textcenter" :span="2">
                                            <i class="el-icon-arrow-up"></i>
                                        </el-col>
                                    </el-row>
                                </div>
                                <el-collapse-transition>
                                    <div v-show="UIPanel['StarEmperorSkillPage']">
                                        <el-row class="optionbox" :gutter="4" type="flex" align="middle" justify="end">
                                            <el-col class="textcenter" :span="12">
                                                <span>日月星的憎惡(怪物)</span>
                                            </el-col>
                                            <el-col class="textcenter" :span="12">
                                                <el-switch v-model="option.SLSOpposition" v-on:change="onOption"
                                                    active-color="#13ce66" inactive-color="#8a9799">
                                                </el-switch>
                                            </el-col>
                                        </el-row>
                                        <el-row class="optionbox" :gutter="4" type="flex" align="middle" justify="end">
                                            <el-col class="textcenter" :span="12">
                                                <span>日月星的奇蹟</span>
                                            </el-col>
                                            <el-col class="textcenter" :span="12">
                                                <el-switch v-model="option.SLSMiracle" v-on:change="onOption"
                                                    active-color="#13ce66" inactive-color="#8a9799">
                                                </el-switch>
                                            </el-col>
                                        </el-row>
                                        <el-row class="optionbox" :gutter="4" type="flex" align="middle" justify="end">
                                            <el-col class="textcenter" :span="12">
                                                <span>日月星的融合</span>
                                            </el-col>
                                            <el-col class="textcenter" :span="12">
                                                <el-switch v-model="option.SLSFusion" v-on:change="onOption"
                                                    active-color="#13ce66" inactive-color="#8a9799">
                                                </el-switch>
                                            </el-col>
                                        </el-row>
                                    </div>
                                </el-collapse-transition>
                                <div v-on:click="TogglePanel('SoulReaperSkillPage')">
                                    <el-row class="subtitlebox" type="flex" align="middle" style="height:40px;">
                                        <el-col class="textcenter" :span="2">
                                        </el-col>
                                        <el-col class="textcenter" :span="20">
                                            <span class="textcenter">悟靈 & 獵靈</span>
                                        </el-col>
                                        <el-col v-if="UIPanel['SoulReaperSkillPage']" class="textcenter" :span="2">
                                            <i class="el-icon-arrow-down"></i>
                                        </el-col>
                                        <el-col v-else="UIPanel['SoulReaperSkillPage']" class="textcenter" :span="2">
                                            <i class="el-icon-arrow-up"></i>
                                        </el-col>
                                    </el-row>
                                </div>
                                <el-collapse-transition>
                                    <div v-show="UIPanel['SoulReaperSkillPage']">
                                        <el-row class="optionbox" :gutter="4" type="flex" align="middle" justify="end">
                                            <el-col class="textcenter" :span="12">
                                                <span>靈魂蓄積</span>
                                            </el-col>
                                            <el-col class="textcenter" :span="12">
                                                <el-switch v-model="option.SOULCOLLECT" v-on:change="onOption"
                                                    active-color="#13ce66" inactive-color="#8a9799">
                                                </el-switch>
                                            </el-col>
                                        </el-row>
                                        <el-collapse-transition>
                                            <div v-show="option.SOULCOLLECT">
                                                <el-row class="optionsubbox" :gutter="4" type="flex" align="middle"
                                                    justify="center">
                                                    <el-col class="textcenter" :span="8">靈魂數量</el-col>
                                                    <el-col :span="4">
                                                        <el-input v-model.number="option.SoulCount"
                                                            v-on:change="onOption" placeholder="數量">
                                                        </el-input>
                                                    </el-col>
                                                </el-row>
                                            </div>
                                        </el-collapse-transition>
                                        <el-row class="optionbox" :gutter="4" type="flex" align="middle" justify="end">
                                            <el-col class="textcenter" :span="12">
                                                <span>影子靈魂</span>
                                            </el-col>
                                            <el-col class="textcenter" :span="12">
                                                <el-switch v-model="option.SOULSHADOW"
                                                    v-on:change="onSoulReaperSoul('SOULSHADOW')" active-color="#13ce66"
                                                    inactive-color="#8a9799">
                                                </el-switch>
                                            </el-col>
                                        </el-row>
                                        <el-row class="optionbox" :gutter="4" type="flex" align="middle" justify="end">
                                            <el-col class="textcenter" :span="12">
                                                <span>精靈靈魂</span>
                                            </el-col>
                                            <el-col class="textcenter" :span="12">
                                                <el-switch v-model="option.SOULFAIRY"
                                                    v-on:change="onSoulReaperSoul('SOULFAIRY')" active-color="#13ce66"
                                                    inactive-color="#8a9799">
                                                </el-switch>
                                            </el-col>
                                        </el-row>
                                        <el-row class="optionbox" :gutter="4" type="flex" align="middle" justify="end">
                                            <el-col class="textcenter" :span="12">
                                                <span>隼鷹靈魂</span>
                                            </el-col>
                                            <el-col class="textcenter" :span="12">
                                                <el-switch v-model="option.SOULFALCON"
                                                    v-on:change="onSoulReaperSoul('SOULFALCON')" active-color="#13ce66"
                                                    inactive-color="#8a9799">
                                                </el-switch>
                                            </el-col>
                                        </el-row>
                                        <el-row class="optionbox" :gutter="4" type="flex" align="middle" justify="end">
                                            <el-col class="textcenter" :span="12">
                                                <span>巨人靈魂</span>
                                            </el-col>
                                            <el-col class="textcenter" :span="12">
                                                <el-switch v-model="option.SOULGOLEM"
                                                    v-on:change="onSoulReaperSoul('SOULGOLEM')" active-color="#13ce66"
                                                    inactive-color="#8a9799">
                                                </el-switch>
                                            </el-col>
                                        </el-row>
                                    </div>
                                </el-collapse-transition>
                                <div v-on:click="TogglePanel('KagerouOboroSkillPage')">
                                    <el-row class="subtitlebox" type="flex" align="middle" style="height:40px;">
                                        <el-col class="textcenter" :span="2">
                                        </el-col>
                                        <el-col class="textcenter" :span="20">
                                            <span class="textcenter">影狼 & 朧</span>
                                        </el-col>
                                        <el-col v-if="UIPanel['KagerouOboroSkillPage']" class="textcenter" :span="2">
                                            <i class="el-icon-arrow-down"></i>
                                        </el-col>
                                        <el-col v-else="UIPanel['KagerouOboroSkillPage']" class="textcenter" :span="2">
                                            <i class="el-icon-arrow-up"></i>
                                        </el-col>
                                    </el-row>
                                </div>
                                <el-collapse-transition>
                                    <div v-show="UIPanel['KagerouOboroSkillPage']">
                                        <el-row class="optionbox" :gutter="4" type="flex" align="middle" justify="end">
                                            <el-col class="textcenter" :span="12">
                                                <span>念</span>
                                            </el-col>
                                            <el-col class="textcenter" :span="12">
                                                <el-switch v-model="option.NJ_NEN" v-on:change="onOption"
                                                    active-color="#13ce66" inactive-color="#8a9799">
                                                </el-switch>
                                            </el-col>
                                        </el-row>
                                        <el-row class="optionbox" :gutter="4" type="flex" align="middle" justify="end">
                                            <el-col class="textcenter" :span="12">
                                                <span>火符:炎天</span>
                                            </el-col>
                                            <el-col class="textcenter" :span="12">
                                                <el-switch v-model="option.KO_KAHU_ENTEN"
                                                    v-on:change="onKOCharm('KO_KAHU_ENTEN')" active-color="#13ce66"
                                                    inactive-color="#8a9799">
                                                </el-switch>
                                            </el-col>
                                        </el-row>
                                        <el-row class="optionbox" :gutter="4" type="flex" align="middle" justify="end">
                                            <el-col class="textcenter" :span="12">
                                                <span>冰符:吹雪</span>
                                            </el-col>
                                            <el-col class="textcenter" :span="12">
                                                <el-switch v-model="option.KO_HYOUHU_HUBUKI"
                                                    v-on:change="onKOCharm('KO_HYOUHU_HUBUKI')" active-color="#13ce66"
                                                    inactive-color="#8a9799">
                                                </el-switch>
                                            </el-col>
                                        </el-row>
                                        <el-row class="optionbox" :gutter="4" type="flex" align="middle" justify="end">
                                            <el-col class="textcenter" :span="12">
                                                <span>風符:青嵐</span>
                                            </el-col>
                                            <el-col class="textcenter" :span="12">
                                                <el-switch v-model="option.KO_KAZEHU_SEIRAN"
                                                    v-on:change="onKOCharm('KO_KAZEHU_SEIRAN')" active-color="#13ce66"
                                                    inactive-color="#8a9799">
                                                </el-switch>
                                            </el-col>
                                        </el-row>
                                        <el-row class="optionbox" :gutter="4" type="flex" align="middle" justify="end">
                                            <el-col class="textcenter" :span="12">
                                                <span>地符:剛塊</span>
                                            </el-col>
                                            <el-col class="textcenter" :span="12">
                                                <el-switch v-model="option.KO_DOHU_KOUKAI"
                                                    v-on:change="onKOCharm('KO_DOHU_KOUKAI')" active-color="#13ce66"
                                                    inactive-color="#8a9799">
                                                </el-switch>
                                            </el-col>
                                        </el-row>
                                        <el-collapse-transition>
                                            <div
                                                v-show="option.KO_KAHU_ENTEN|option.KO_HYOUHU_HUBUKI|option.KO_KAZEHU_SEIRAN|option.KO_DOHU_KOUKAI">
                                                <el-row class="optionsubbox" :gutter="4" type="flex" align="middle"
                                                    justify="center">
                                                    <el-col class="textcenter" :span="8">符咒數量</el-col>
                                                    <el-col :span="4">
                                                        <el-input v-model.number="option.KO_CharmCount"
                                                            v-on:change="onOption" placeholder="數量">
                                                        </el-input>
                                                    </el-col>
                                                </el-row>
                                            </div>
                                        </el-collapse-transition>
                                        <el-row class="optionbox" :gutter="4" type="flex" align="middle" justify="end">
                                            <el-col class="textcenter" :span="12">
                                                <span>十六夜</span>
                                            </el-col>
                                            <el-col class="textcenter" :span="12">
                                                <el-switch v-model="option.KO_IZAYOI" v-on:change="onOption"
                                                    active-color="#13ce66" inactive-color="#8a9799">
                                                </el-switch>
                                            </el-col>
                                        </el-row>
                                        <el-row class="optionbox" :gutter="4" type="flex" align="middle" justify="end">
                                            <el-col class="textcenter" :span="12">
                                                <span>上弦月</span>
                                            </el-col>
                                            <el-col class="textcenter" :span="12">
                                                <el-switch v-model="option.OB_ZANGETSU" v-on:change="onOption"
                                                    active-color="#13ce66" inactive-color="#8a9799">
                                                </el-switch>
                                            </el-col>
                                        </el-row>
                                        <el-row class="optionbox" :gutter="4" type="flex" align="middle" justify="end">
                                            <el-col class="textcenter" :span="12">
                                                <span>右手修練 120%</span>
                                            </el-col>
                                            <el-col class="textcenter" :span="12">
                                                <el-switch v-model="option.KO_RIGHT" v-on:change="onOption"
                                                    active-color="#13ce66" inactive-color="#8a9799">
                                                </el-switch>
                                            </el-col>
                                        </el-row>
                                        <el-row class="optionbox" :gutter="4" type="flex" align="middle" justify="end">
                                            <el-col class="textcenter" :span="12">
                                                <span>左手修練 100%</span>
                                            </el-col>
                                            <el-col class="textcenter" :span="12">
                                                <el-switch v-model="option.KO_LEFT" v-on:change="onOption"
                                                    active-color="#13ce66" inactive-color="#8a9799">
                                                </el-switch>
                                            </el-col>
                                        </el-row>
                                    </div>
                                </el-collapse-transition>
                                <div v-on:click="TogglePanel('SummonerSkillPage')">
                                    <el-row class="subtitlebox" type="flex" align="middle" style="height:40px;">
                                        <el-col class="textcenter" :span="2">
                                        </el-col>
                                        <el-col class="textcenter" :span="20">
                                            <span class="textcenter">多蘭族 召喚師</span>
                                        </el-col>
                                        <el-col v-if="UIPanel['SummonerSkillPage']" class="textcenter" :span="2">
                                            <i class="el-icon-arrow-down"></i>
                                        </el-col>
                                        <el-col v-else="UIPanel['SummonerSkillPage']" class="textcenter" :span="2">
                                            <i class="el-icon-arrow-up"></i>
                                        </el-col>
                                    </el-row>
                                </div>
                                <el-collapse-transition>
                                    <div v-show="UIPanel['SummonerSkillPage']">
                                        <el-row class="optionbox" :gutter="4" type="flex" align="middle" justify="end">
                                            <el-col class="textcenter" :span="12">
                                                <span>生命力量 (遠傷20%)</span>
                                            </el-col>
                                            <el-col class="textcenter" :span="12">
                                                <el-switch v-model="option.PowerofLife" v-on:change="onOption"
                                                    active-color="#13ce66" inactive-color="#8a9799">
                                                </el-switch>
                                            </el-col>
                                        </el-row>
                                        <el-row class="optionbox" :gutter="4" type="flex" align="middle" justify="end">
                                            <el-col class="textcenter" :span="12">
                                                <span>大地力量 (Matk20%)</span>
                                            </el-col>
                                            <el-col class="textcenter" :span="12">
                                                <el-switch v-model="option.PowerofLand" v-on:change="onOption"
                                                    active-color="#13ce66" inactive-color="#8a9799">
                                                </el-switch>
                                            </el-col>
                                        </el-row>
                                        <el-row class="optionbox" :gutter="4" type="flex" align="middle" justify="end">
                                            <el-col class="textcenter" :span="12">
                                                <span>喵喵/喵喵不休</span>
                                            </el-col>
                                            <el-col class="textcenter" :span="12">
                                                <el-switch v-model="option.MeowMeow" v-on:change="onOption"
                                                    active-color="#13ce66" inactive-color="#8a9799">
                                                </el-switch>
                                            </el-col>
                                        </el-row>
                                    </div>
                                </el-collapse-transition>
                                <div v-on:click="TogglePanel('EquipSkillPage')">
                                    <el-row class="subtitlebox" type="flex" align="middle" style="height:40px;">
                                        <el-col class="textcenter" :span="2">
                                        </el-col>
                                        <el-col class="textcenter" :span="20">
                                            <span class="textcenter">裝備技能</span>
                                        </el-col>
                                        <el-col v-if="UIPanel['EquipSkillPage']" class="textcenter" :span="2">
                                            <i class="el-icon-arrow-down"></i>
                                        </el-col>
                                        <el-col v-else="UIPanel['EquipSkillPage']" class="textcenter" :span="2">
                                            <i class="el-icon-arrow-up"></i>
                                        </el-col>
                                    </el-row>
                                </div>
                                <el-collapse-transition>
                                    <div v-show="UIPanel['EquipSkillPage']">
                                        <el-row class="optionbox" :gutter="4" type="flex" align="middle" justify="end">
                                            <el-col class="textcenter" :span="12">
                                                <span>奧汀之神力</span>
                                            </el-col>
                                            <el-col class="textcenter" :span="12">
                                                <el-switch v-model="option.OdinsPower" v-on:change="onOption"
                                                    active-color="#13ce66" inactive-color="#8a9799">
                                                </el-switch>
                                            </el-col>
                                        </el-row>
                                        <el-collapse-transition>
                                            <div v-show="option.OdinsPower">
                                                <el-row class="optionsubbox" :gutter="4" type="flex" align="middle"
                                                    justify="center">
                                                    <el-col class="textcenter" :span="8">奧汀之神力等級</el-col>
                                                    <el-col :span="4">
                                                        <el-input v-model.number="option.OdinsPowerLevel"
                                                            v-on:change="onOption" placeholder="等級">
                                                        </el-input>
                                                    </el-col>
                                                </el-row>
                                            </div>
                                        </el-collapse-transition>
                                        <el-row class="optionbox" :gutter="4" type="flex" align="middle" justify="end">
                                            <el-col class="textcenter" :span="12">
                                                <span>無視物理防禦(全段)</span>
                                            </el-col>
                                            <el-col class="textcenter" :span="12">
                                                <el-switch v-model="option.IgnoreDEF" v-on:change="onOption"
                                                    active-color="#13ce66" inactive-color="#8a9799">
                                                </el-switch>
                                            </el-col>
                                        </el-row>
                                        <el-row class="optionbox" :gutter="4" type="flex" align="middle" justify="end">
                                            <el-col class="textcenter" :span="12">
                                                <span>無視魔法防禦(全段)</span>
                                            </el-col>
                                            <el-col class="textcenter" :span="12">
                                                <el-switch v-model="option.IgnoreMDEF" v-on:change="onOption"
                                                    active-color="#13ce66" inactive-color="#8a9799">
                                                </el-switch>
                                            </el-col>
                                        </el-row>
                                        <el-row class="optionbox" :gutter="4" type="flex" align="middle" justify="end">
                                            <el-col class="textcenter" :span="12">
                                                <span>魔劍士 達納托斯的記憶卡片</span>
                                            </el-col>
                                            <el-col class="textcenter" :span="12">
                                                <el-switch v-model="option.MemoryofThanatosCard" v-on:change="onOption"
                                                    active-color="#13ce66" inactive-color="#8a9799">
                                                </el-switch>
                                            </el-col>
                                        </el-row>
                                    </div>
                                </el-collapse-transition>

                                <div v-on:click="TogglePanel('SpecialATKPage')">
                                    <el-row class="subtitlebox" type="flex" align="middle" style="height:40px;">
                                        <el-col class="textcenter" :span="2">
                                        </el-col>
                                        <el-col class="textcenter" :span="20">
                                            <span class="textcenter">特殊</span>
                                        </el-col>
                                        <el-col v-if="UIPanel['SpecialATKPage']" class="textcenter" :span="2">
                                            <i class="el-icon-arrow-down"></i>
                                        </el-col>
                                        <el-col v-else="UIPanel['SpecialATKPage']" class="textcenter" :span="2">
                                            <i class="el-icon-arrow-up"></i>
                                        </el-col>
                                    </el-row>
                                </div>
                                <el-collapse-transition>
                                    <div v-show="UIPanel['SpecialATKPage']">
                                        <el-row class="optionbox" :gutter="4" type="flex" align="middle" justify="end">
                                            <el-col class="textcenter" :span="12">SpecialATK1(ATK+)</el-col>
                                            <el-col :span="12">
                                                <el-input v-model.number="computeattribute['SpecialATK1']"
                                                    v-on:change="onSpecialATKChange" placeholder="ATK">
                                                </el-input>
                                            </el-col>
                                        </el-row>
                                        <el-row class="optionbox" :gutter="4" type="flex" align="middle" justify="end">
                                            <el-col class="textcenter" :span="12">SpecialATK2(後ATK+)</el-col>
                                            <el-col :span="12">
                                                <el-input v-model.number="computeattribute['SpecialATK2']"
                                                    v-on:change="onSpecialATKChange" placeholder="ATK">
                                                </el-input>
                                            </el-col>
                                        </el-row>
                                        <el-row class="optionbox" :gutter="4" type="flex" align="middle" justify="end">
                                            <el-col class="textcenter" :span="12">SpecialATK3(屬性倍率x)</el-col>
                                            <el-col :span="12">
                                                <el-input v-model.number="computeattribute['SpecialATK3']"
                                                    v-on:change="onSpecialATKChange" placeholder="ATK">
                                                </el-input>
                                            </el-col>
                                        </el-row>
                                        <el-row class="optionbox" :gutter="4" type="flex" align="middle" justify="end">
                                            <el-col class="textcenter" :span="12">SpecialATK4(技能倍率x)</el-col>
                                            <el-col :span="12">
                                                <el-input v-model.number="computeattribute['SpecialATK4']"
                                                    v-on:change="onSpecialATKChange" placeholder="ATK">
                                                </el-input>
                                            </el-col>
                                        </el-row>
                                        <el-row class="optionbox" :gutter="4" type="flex" align="middle" justify="end">
                                            <el-col class="textcenter" :span="12">SpecialATK5(技能倍率+)</el-col>
                                            <el-col :span="12">
                                                <el-input v-model.number="computeattribute['SpecialATK5']"
                                                    v-on:change="onSpecialATKChange" placeholder="ATK">
                                                </el-input>
                                            </el-col>
                                        </el-row>
                                        <el-row class="optionbox" :gutter="4" type="flex" align="middle" justify="end">
                                            <el-col class="textcenter" :span="12">SpecialATK6(DEF之後)</el-col>
                                            <el-col :span="12">
                                                <el-input v-model.number="computeattribute['SpecialATK6']"
                                                    v-on:change="onSpecialATKChange" placeholder="ATK">
                                                </el-input>
                                            </el-col>
                                        </el-row>
                                        <el-row class="optionbox" :gutter="4" type="flex" align="middle" justify="end">
                                            <el-col class="textcenter" :span="12">SpecialMATK1(技能倍率+)</el-col>
                                            <el-col :span="12">
                                                <el-input v-model.number="computeattribute['SpecialMATK1']"
                                                    v-on:change="onSpecialATKChange" placeholder="MATK">
                                                </el-input>
                                            </el-col>
                                        </el-row>
                                    </div>
                                </el-collapse-transition>

                            </el-row>
                        </el-row>
                    </el-scrollbar>
                </el-col>
                <el-col :span="8">
                    <el-row class="titlebox" type="flex" align="middle" justify="space-around" style="height:40px;">
                        <el-col class="textcenter" :span="6"> </el-col>
                        <el-col class="textcenter" :span="10">
                            <span class="textcenter">裝備</span>
                        </el-col>
                        <el-col class="textcenter" :span="6" style="text-align: right;">
                            <el-tooltip class="item" effect="dark" content="讀取已經儲存的裝備" placement="left">
                                <el-button v-on:click="TogglePanel('EquipDBDialog')" size="small">
                                    裝備清單
                                </el-button>
                            </el-tooltip>
                        </el-col>
                    </el-row>
                    <el-scrollbar wrap-class="body2col-container" :native="true" :noresize="false">
                        <el-row>
                            <div class="boxborder EquipBlock" >
                                <!--主手-->
                                <div class="bg-purple" style="padding: 0px 2px;">
                                    <el-row class="effectline" :gutter="4" type="flex" align="middle">
                                        <el-col class="textcenter" :span="4">
                                            <div>
                                                <span>{{equipspartlist[0].label}}</span>
                                            </div>
                                        </el-col>
                                        <el-col class="textcenter">
                                            <div>
                                                <el-input v-model="equipspartlist[0].equipname" placeholder="裝備名稱">
                                                </el-input>
                                            </div>
                                        </el-col>
                                        <el-col class="textcenter" :span="5">
                                            <el-button v-on:click="onClearEquipPart(0)" size="mini">
                                                清空
                                            </el-button>
                                        </el-col>
                                        <el-tooltip class="item" effect="dark" content="增加效果" placement="bottom-start">
                                            <el-col class="textcenter" :span="5">
                                                <el-button v-on:click="OpenEffectDialogue(0)"
                                                    icon="el-icon-circle-plus-outline" type="success" plain>
                                                </el-button>
                                            </el-col>
                                        </el-tooltip>
                                        <el-col class="textcenter" :span="5">
                                            <el-tooltip class="item" effect="dark" content="儲存裝備" placement="bottom-start">
                                                <el-button v-on:click="onSaveEquip(0)" icon="el-icon-collection-tag">
                                                </el-button>
                                            </el-tooltip>
                                        </el-col>
                                    </el-row>
                                    <el-row class="bg-purple" :gutter="4" style="padding: 5px 5px;">
                                        <el-row :gutter="4" type="flex" align="middle" justify="start">
                                            <el-col :span="4" style="text-align: right;">
                                                <span>主手武器</span>
                                            </el-col>
                                            <el-col :span="8">
                                                <el-select value-key="id" v-model="weapon.type"
                                                    v-on:change="onSelectedWeaponType" placeholder="武器類型">
                                                    <el-option v-for="item in weapontypelist" :key="item.id" :label="item.label"
                                                        :value="item">
                                                    </el-option>
                                                </el-select>
                                            </el-col>
                                            <el-col :span="12" v-show="weapon.type.id=='Bows'|weapon.type.id=='Instruments'|weapon.type.id=='Whips'">
                                                <el-row :gutter="4" type="flex" align="middle" justify="space-around">
                                                    <el-col :span="12" style="text-align: right;">
                                                        <span>箭矢ATK:</span>
                                                    </el-col>
                                                    <el-col :span="12">
                                                        <el-input v-model.number="weapon.ArrowATK" placeholder="箭矢ATK">
                                                        </el-input>
                                                    </el-col>
                                                </el-row>
                                            </el-col>
                                        </el-row>
                                        <el-row v-show="weapon.type.id!='Empty'">
                                            <el-row class="" :gutter="4" type="flex" align="middle" justify="space-around">
                                                <el-col :span="4" style="text-align: right;">
                                                    <span>武器等級</span>
                                                </el-col>
                                                <el-col :span="8">
                                                    <el-select value-key="id" v-model="weapon.level"
                                                        v-on:change="onSelectedWeaponLevel" placeholder="武器等級">
                                                        <el-option v-for="item in weaponlevellist" :key="item.id"
                                                            :label="item.label" :value="item">
                                                        </el-option>
                                                    </el-select>
                                                </el-col>
                                                <el-col :span="6" style="text-align: right;">
                                                    <span>精鍊等級</span>
                                                </el-col>
                                                <el-col :span="6">
                                                    <div>
                                                        <el-input v-model.number="weapon.refinelevel"
                                                            v-on:input="onChangeRefineLevel" placeholder="精鍊等級">
                                                        </el-input>
                                                    </div>
                                                </el-col>
                                            </el-row>
                                            <el-row class="" :gutter="4" type="flex" align="middle" justify="start">
                                                <el-col :span="6" style="text-align: right;">
                                                    <span>武器ATK: </span>
                                                </el-col>
                                                <el-col :span="6">
                                                    <el-input v-model.number="weapon.ATK" placeholder="武器ATK">
                                                    </el-input>
                                                </el-col>
                                                <el-col :span="6" style="text-align: right;">
                                                    <span>武器MATK: </span>
                                                </el-col>
                                                <el-col :span="6">
                                                    <el-input v-model.number="weapon.MATK" placeholder="武器MATK">
                                                    </el-input>
                                                </el-col>
                                            </el-row>
                                            <el-row class="" :gutter="4" type="flex" align="middle" justify="start">
                                                <el-col :span="6" style="text-align: right;">
                                                    <span>武器重量: </span>
                                                </el-col>
                                                <el-col :span="6">
                                                    <el-input v-model.number="weapon.Weight" placeholder="WGT">
                                                    </el-input>
                                                </el-col>
                                                <el-col :span="6" style="text-align: right;">
                                                    <span>砲彈ATK: </span>
                                                </el-col>
                                                <el-col :span="6">
                                                    <el-input v-model.number="weapon.BulletATK" placeholder="砲彈ATK">
                                                    </el-input>
                                                </el-col>
                                            </el-row>
                                        </el-row>
                                    </el-row>
                                    <el-row>
                                        <div class="Item" v-for="(item, index) in equipspartlist[0].effectlist"
                                            v-bind:key="item.effecttypelist">
                                            <el-row class="effectline" :gutter="4" type="flex" align="middle" justify="end"
                                                style="height:40px;">
                                                <el-col class="textcenter" :span="4">
                                                </el-col>
                                                <el-col class="textcenter" style="text-align: right;">
                                                    <span class="EffectType">{{ item.EffectType.label }}</span>
                                                </el-col>
                                                <el-col class="textcenter" :span="2">
                                                    <span class="">{{ item.EffectType.opersymbol }}</span>
                                                </el-col>
                                                <el-col class="textcenter" :span="3">
                                                    <span class="">{{ item.EffectNumber }}</span>
                                                </el-col>
                                                <el-col class="textcenter" :span="2">
                                                    <span lass="">{{ item.EffectType.suffixsymbol }}</span>
                                                </el-col>
                                                <el-col class="textcenter" :span="5">
                                                </el-col>
                                                <el-col class="textcenter" :span="15">
                                                    <el-button v-on:click="RemoveEffect(0, index)" icon="el-icon-delete"
                                                        type="danger" size="mini">
                                                    </el-button>
                                                </el-col>
                                            </el-row>
                                        </div>
                                    </el-row>
                                </div>
                                <!--副手-->
                                <div class="bg-purple" style="padding: 0px 2px;">
                                    <el-row class="effectline" :gutter="4" type="flex" align="middle">
                                        <el-col class="textcenter" :span="4">
                                            <div>
                                                <span>{{equipspartlist[1].label}}</span>
                                            </div>
                                        </el-col>
                                        <el-col class="textcenter">
                                            <div>
                                                <el-input v-model="equipspartlist[1].equipname" clearable placeholder="裝備名稱">
                                                </el-input>
                                            </div>
                                        </el-col>
                                        <el-col class="textcenter" :span="5">
                                            <el-button v-on:click="onClearEquipPart(1)" size="mini">
                                                清空
                                            </el-button>
                                        </el-col>
                                        <el-tooltip class="item" effect="dark" content="增加效果" placement="bottom-start">
                                            <el-col class="textcenter" :span="5">
                                                <el-button v-on:click="OpenEffectDialogue(1)"
                                                    icon="el-icon-circle-plus-outline" type="success" plain>
                                                </el-button>
                                            </el-col>
                                        </el-tooltip>
                                        <el-col class="textcenter" :span="5">
                                            <el-tooltip class="item" effect="dark" content="儲存裝備" placement="bottom-start">
                                                <el-button v-on:click="onSaveEquip(1)" icon="el-icon-collection-tag">
                                                </el-button>
                                            </el-tooltip>
                                        </el-col>
                                    </el-row>
                                    <el-row class="statusbox bg-purple" :gutter="4" type="flex" align="middle" justify="start"
                                        v-show="weapon.type.isTwohand?false:true">
                                        <el-col :span="4" style="text-align: right;">
                                            <span>副手裝備</span>
                                        </el-col>
                                        <el-col :span="8">
                                            <el-select value-key="id" v-model="subweapon.type"
                                                v-on:change="onSelectedWeaponType" placeholder="類型">
                                                <el-option v-for="item in subhandtype" :key="item.id" :label="item.label"
                                                    :value="item">
                                                </el-option>
                                            </el-select>
                                        </el-col>
                                    </el-row>
                                    <el-row class="effectline" :gutter="4" type="flex" align="middle"
                                        v-show="subweapon.type.id==1">
                                        <el-col :span="6" style="text-align: right;">
                                            <span>盾牌重量: </span>
                                        </el-col>
                                        <el-col :span="6">
                                            <div class="grid-content">
                                                <el-input v-model.number="subweapon.ShieldWeight" placeholder="SHWGT">
                                                </el-input>
                                            </div>
                                        </el-col>
                                    </el-row>
                                    <div v-show="subweapon.type.id==2">
                                        <el-row class="" :gutter="4" type="flex" align="middle" justify="space-around">
                                            <el-col :span="4" style="text-align: right;">
                                                <span>武器等級</span>
                                            </el-col>
                                            <el-col :span="8">
                                                <div class="grid-content">
                                                    <el-select value-key="id" v-model="subweapon.level"
                                                        v-on:change="onSelectedWeaponLevel" placeholder="武器等級">
                                                        <el-option v-for="item in weaponlevellist" :key="item.id"
                                                            :label="item.label" :value="item">
                                                        </el-option>
                                                    </el-select>
                                                </div>
                                            </el-col>
                                            <el-col :span="6" style="text-align: right;">
                                                <span>精鍊等級</span>
                                            </el-col>
                                            <el-col :span="6">
                                                <div>
                                                    <el-input v-model.number="subweapon.refinelevel"
                                                        v-on:input="onChangeRefineLevel" placeholder="精鍊等級">
                                                    </el-input>
                                                </div>
                                            </el-col>
                                        </el-row>
                                        <el-row class="" :gutter="4" type="flex" align="middle" justify="start">
                                            <el-col :span="6" style="text-align: right;">
                                                <span>武器ATK: </span>
                                            </el-col>
                                            <el-col :span="6">
                                                <div class="grid-content">
                                                    <el-input v-model.number="subweapon.ATK" placeholder="武器ATK">
                                                    </el-input>
                                                </div>
                                            </el-col>
                                            <el-col :span="6" style="text-align: right;">
                                                <span>武器MATK: </span>
                                            </el-col>
                                            <el-col :span="6">
                                                <div class="grid-content">
                                                    <el-input v-model.number="subweapon.MATK" placeholder="武器MATK">
                                                    </el-input>
                                                </div>
                                            </el-col>
                                        </el-row>
                                    </div>
                                    <el-row>
                                        <div class="Item" v-for="(item, index) in equipspartlist[1].effectlist"
                                            v-bind:key="item.effecttypelist">
                                            <el-row class="effectline" :gutter="4" type="flex" align="middle" justify="end"
                                                style="height:40px;">
                                                <el-col class="textcenter" :span="4">
                                                </el-col>
                                                <el-col class="textcenter" style="text-align: right;">
                                                    <span class="EffectType">{{ item.EffectType.label }}</span>
                                                </el-col>
                                                <el-col class="textcenter" :span="2">
                                                    <span class="">{{ item.EffectType.opersymbol }}</span>
                                                </el-col>
                                                <el-col class="textcenter" :span="3">
                                                    <span class="">{{ item.EffectNumber }}</span>
                                                </el-col>
                                                <el-col class="textcenter" :span="2">
                                                    <span lass="">{{ item.EffectType.suffixsymbol }}</span>
                                                </el-col>
                                                <el-col class="textcenter" :span="5">
                                                </el-col>
                                                <el-col class="textcenter" :span="15">
                                                    <el-button v-on:click="RemoveEffect(1, index)" icon="el-icon-delete"
                                                        type="danger" size="mini">
                                                    </el-button>
                                                </el-col>
                                            </el-row>
                                        </div>
                                    </el-row>
                                </div>
                                <!--裝備-->
                                <div class="Item bg-purple-light" v-for="(item,eqindex) in equipspartlist.slice(2)">
                                    <div class="" style="padding: 0px 4px;">
                                        <el-row class="effectline" :gutter="4" type="flex" align="middle">
                                            <el-col class="textcenter" :span="4">
                                                <div>
                                                    <span>{{item.label}}</span>
                                                </div>
                                            </el-col>
                                            <el-col class="textcenter">
                                                <div>
                                                    <el-input v-model="equipspartlist[eqindex+2].equipname"
                                                        placeholder="裝備名稱">
                                                    </el-input>
                                                </div>
                                            </el-col>
                                            <el-col class="textcenter" :span="5">
                                                <el-button v-on:click="onClearEquipPart(eqindex+2)" size="mini">
                                                    清空
                                                </el-button>
                                            </el-col>
                                            <el-tooltip class="item" effect="dark" content="增加效果"
                                                placement="bottom-start">
                                                <el-col class="textcenter" :span="5">
                                                    <el-button v-on:click="OpenEffectDialogue(eqindex+2)"
                                                        icon="el-icon-circle-plus-outline" type="success" plain>
                                                    </el-button>
                                                </el-col>
                                            </el-tooltip>
                                            <el-col class="textcenter" :span="5">
                                                <el-tooltip class="item" effect="dark" content="儲存裝備"
                                                    placement="bottom-start">
                                                    <el-button v-on:click="onSaveEquip(eqindex+2)"
                                                        icon="el-icon-collection-tag">
                                                    </el-button>
                                                </el-tooltip>
                                            </el-col>
                                        </el-row>
                                        <el-row>
                                            <div v-for="(item, index) in equipspartlist[eqindex+2].effectlist"
                                                v-bind:key="item.effecttypelist">
                                                <el-row class="effectline" :gutter="4" type="flex" align="middle"
                                                    justify="end" style="height:40px;">
                                                    <el-col class="textcenter" :span="4">
                                                    </el-col>
                                                    <el-col class="textcenter" style="text-align: right;">
                                                        <span class="EffectType">{{ item.EffectType.label }}</span>
                                                    </el-col>
                                                    <el-col class="textcenter" :span="2">
                                                        <span class="">{{ item.EffectType.opersymbol }}</span>
                                                    </el-col>
                                                    <el-col class="textcenter" :span="3">
                                                        <span class="">{{ item.EffectNumber }}</span>
                                                    </el-col>
                                                    <el-col class="textcenter" :span="2">
                                                        <span lass="">{{ item.EffectType.suffixsymbol }}</span>
                                                    </el-col>
                                                    <el-col class="textcenter" :span="5">
                                                    </el-col>
                                                    <el-col class="textcenter" :span="15">
                                                        <el-button v-on:click="RemoveEffect(eqindex+2, index)"
                                                            icon="el-icon-delete" type="danger" size="mini">
                                                        </el-button>
                                                    </el-col>
                                                </el-row>
                                            </div>
                                        </el-row>
                                    </div>
                                </div>
                            </div>
                        </el-row>
                        <!--武器-->
                        <el-row class="titlebox" type="flex" align="middle" justify="space-around" style="height:40px;">
                            <el-col class="textcenter" :span="10">
                                <span class="textcenter">武器&裝備效果整合</span>
                            </el-col>
                        </el-row>
                        <el-row>
                            <el-row class="bg-purple-light effectline" type="flex" align="middle" justify="center">
                                <el-col class="textcenter" :span="8" style="text-align: right;">
                                    <span>精鍊Atk / Matk:</span>
                                </el-col>
                                <el-col class="textcenter" :span="4">
                                    <span>{{weapon.refineatk}} / {{weapon.refinematk}}</span>
                                </el-col>
                                <el-col class="textcenter" :span="8" style="text-align: right;">
                                    <span>過度精鍊Atk / Matk:</span>
                                </el-col>
                                <el-col class="textcenter" :span="4">
                                    <span>{{weapon.refineatk2}}</span>
                                </el-col>
                            </el-row>
                            <el-row class="bg-purple-light effectline" type="flex" align="middle" justify="center">
                                <el-col class="textcenter" :span="2">
                                    <span>小:</span>
                                </el-col>
                                <el-col class="textcenter" :span="4">
                                    <span>{{weapon.type.sizefix.small}}%</span>
                                </el-col>
                                <el-col class="textcenter" :span="2">
                                    <span>中:</span>
                                </el-col>
                                <el-col class="textcenter" :span="4">
                                    <span>{{weapon.type.sizefix.middle}}%</span>
                                </el-col>
                                <el-col class="textcenter" :span="2">
                                    <span>大:</span>
                                </el-col>
                                <el-col class="textcenter" :span="4">
                                    <span>{{weapon.type.sizefix.large}}%</span>
                                </el-col>
                            </el-row>
                            <el-row class="bg-purple-light effectline" type="flex" align="middle" justify="center"
                                v-show="weapon.type.isRangedattack">
                                <el-col class="textcenter skilltag">
                                    <span>普攻遠傷</span>
                                </el-col>
                            </el-row>
                        </el-row>
                        <el-row>
                            <div class="boxborder EffectListBlock">
                                <el-row>
                                    <el-col :span="24">
                                        <el-row>
                                            <div v-for="(item, id) in this.effecttypelist" v-bind:key="item.id">

                                                <el-row v-if="item.totalvalue!=0" class="statusbox bg-purple"
                                                    type="flex" align="middle" justify="center" style="height:40px;">
                                                    <el-col class="textcenter" :span="6" style="text-align: right;">
                                                        <span>{{ item.label }}</span>
                                                    </el-col>
                                                    <el-col class="textcenter" :span="2">
                                                        <span class="">{{ item.opersymbol }}</span>
                                                    </el-col>
                                                    <el-col class="textcenter" :span="2">
                                                        <span>{{item.totalvalue}}</span>
                                                    </el-col>
                                                    <el-col class="textcenter" :span="2 ">
                                                        <span lass="">{{ item.suffixsymbol }}</span>
                                                    </el-col>
                                                </el-row>
                                            </div>
                                        </el-row>
                                    </el-col>
                                </el-row>
                            </div>
                        </el-row>
                    </el-scrollbar>
                </el-col>
                <el-col :span="8">
                    <el-scrollbar wrap-class="bodycol-container" :native="true" :noresize="false">
                        <el-row>
                            <div class="Attribute">
                                <el-row class="titlebox" type="flex" align="middle" justify="end" style="height:40px; padding: 0px 5px;">
                                    <el-col class="textcenter" :span="8">
                                    </el-col>
                                    <el-col class="textcenter" :span="8">
                                    </el-col>
                                    <el-col class="textcenter" :span="8">
                                        <el-button v-on:click="onOpenAllSet" size="mini">
                                            整頁儲存(測試)
                                        </el-button>
                                    </el-col>
                                </el-row>
                                <el-row class="titlebox" type="flex" align="middle" style="height:40px; padding: 0px 5px;">
                                    <el-col class="textcenter" :span="2">
                                    </el-col>
                                    <el-col class="textcenter" :span="20">
                                        <span class="textcenter">一般</span>
                                    </el-col>
                                    <el-col v-if="UIPanel['General']" class="textcenter" :span="2">
                                        <el-button type="info" v-on:click="TogglePanel('General')" size="mini"><i class="el-icon-arrow-down"></i></el-button>
                                    </el-col>
                                    <el-col v-else class="textcenter" :span="2">
                                        <el-button type="info" v-on:click="TogglePanel('General')" size="mini"><i class="el-icon-arrow-up"></i></el-button>
                                    </el-col>
                                </el-row>
                                <el-row class="statusbox" type="flex" align="middle" justify="space-around"
                                    style="height:40px;">
                                    <el-col class="bg-purple-light" :span="10" style="text-align: right;">
                                        <span>Atk 素質(前)+面版後:</span>
                                    </el-col>
                                    <el-col class="textcenter" :span="10">
                                        <span>{{attritube.StatusATK}} + {{attritube.WeaponATK}}</span>
                                    </el-col>
                                </el-row>
                                <el-row class="statusbox" type="flex" align="middle" justify="space-around"
                                    style="height:40px;">
                                    <el-col class="bg-purple-light" :span="10" style="text-align: right;">
                                        <span>Matk 素質(前)+面版後:</span>
                                    </el-col>
                                    <el-col class="textcenter" :span="10">
                                        <span>{{attritube.StatusMATK}} + {{attritube.WeaponMATK}}</span>
                                    </el-col>
                                </el-row>
                                <el-row class="statusbox" type="flex" align="middle" justify="space-around"
                                    style="height:40px;">
                                    <el-col class="bg-purple-light" :span="8" style="text-align: right;">
                                        <span>屬性相剋倍率:</span>
                                    </el-col>
                                    <el-col class="textcenter" :span="4">
                                        <span>{{skilloption.ElementalPercent}} %</span>
                                    </el-col>
                                    <el-col class="bg-purple-light" :span="8" style="text-align: right;">
                                        <span>體型修正倍率:</span>
                                    </el-col>
                                    <el-col class="textcenter" :span="4">
                                        <span>{{computeattribute.sizefix}} %</span>
                                    </el-col>
                                </el-row>
                                <el-row class="statusbox" type="flex" align="middle" justify="space-around"
                                    style="height:40px;">
                                    <el-col class="bg-purple-light" :span="8" style="text-align: right;">
                                        <span>暴擊率:</span>
                                    </el-col>
                                    <el-col class="textcenter" :span="4">
                                        <span>{{attritube['CRI']}} %</span>
                                    </el-col>
                                    <el-col class="bg-purple-light" :span="8" style="text-align: right;">
                                        <span>暴擊增傷:</span>
                                    </el-col>
                                    <el-col class="textcenter" :span="4">
                                        <span>{{attritube['CRIDP']}} %</span>
                                    </el-col>
                                </el-row>
                                <el-collapse-transition>
                                    <div v-show="UIPanel['General']">
                                        <el-row class="statusbox" type="flex" align="middle" justify="space-around"
                                            style="height:40px;">
                                            <el-col class="bg-purple-light" :span="8" style="text-align: right;">
                                                <span>敵方物防係數:</span>
                                            </el-col>
                                            <el-col class="textcenter" :span="4">
                                                <span>{{computeattribute.enemydef}} %</span>
                                            </el-col>
                                            <el-col class="bg-purple-light" :span="8" style="text-align: right;">
                                                <span>敵方魔防係數:</span>
                                            </el-col>
                                            <el-col class="textcenter" :span="4">
                                                <span>{{computeattribute.enemymdef}} %</span>
                                            </el-col>
                                        </el-row>
                                        <el-row class="statusbox" type="flex" align="middle" justify="space-around"
                                            style="height:40px;">
                                            <el-col class="bg-purple-light" :span="8" style="text-align: right;">
                                                <span>忽略物防(乘算):</span>
                                            </el-col>
                                            <el-col class="textcenter" :span="4">
                                                <span>{{attritube['BYPASSDEF']}} %</span>
                                            </el-col>
                                            <el-col class="bg-purple-light" :span="8" style="text-align: right;">
                                                <span>忽略魔防(乘算):</span>
                                            </el-col>
                                            <el-col class="textcenter" :span="4">
                                                <span>{{attritube['BYPASSMDEF']}} %</span>
                                            </el-col>
                                        </el-row>
                                    </div>
                                </el-collapse-transition>
                                <el-row class="titlebox" type="flex" align="middle" style="height:40px; padding: 0px 5px;">
                                    <el-col class="textcenter" :span="2">
                                    </el-col>
                                    <el-col class="textcenter" :span="20">
                                        <span class="textcenter">詠唱 & 延遲</span>
                                    </el-col>
                                    <el-col v-if="UIPanel['CastDelay']" class="textcenter" :span="2">
                                        <el-button type="info" v-on:click="TogglePanel('CastDelay')" size="mini"><i class="el-icon-arrow-down"></i></el-button>
                                    </el-col>
                                    <el-col v-else class="textcenter" :span="2">
                                        <el-button type="info" v-on:click="TogglePanel('CastDelay')" size="mini"><i class="el-icon-arrow-up"></i></el-button>
                                    </el-col>
                                </el-row>
                                <el-collapse-transition>
                                    <div v-show="UIPanel['CastDelay']">
                                        <el-row class="statusbox" type="flex" align="middle" justify="space-around"
                                            style="height:40px;">
                                            <el-col class="bg-purple-light" :span="10" style="text-align: right;">
                                                <span>攻擊後延遲%:</span>
                                            </el-col>
                                            <el-col class="textcenter" :span="10">
                                                <span>{{attritube['ASPDP']}} %</span>
                                            </el-col>
                                        </el-row>
                                        <el-row class="statusbox" type="flex" align="middle" justify="space-around"
                                            style="height:40px;">
                                            <el-col class="bg-purple-light" :span="10" style="text-align: right;">
                                                <span>技能獨延:</span>
                                            </el-col>
                                            <el-col class="textcenter" :span="10">
                                                <span>{{attritube['GCD']}} s</span>
                                            </el-col>
                                        </el-row>
                                        <el-row class="statusbox" type="flex" align="middle" justify="space-around"
                                            style="height:40px;">
                                            <el-col class="bg-purple-light" :span="10" style="text-align: right;">
                                                <span>技能後(共)延遲%:</span>
                                            </el-col>
                                            <el-col class="textcenter" :span="10">
                                                <span>{{attritube['GCD']}} %</span>
                                            </el-col>
                                        </el-row>
                                        <el-row class="statusbox" type="flex" align="middle" justify="space-around"
                                            style="height:40px;">
                                            <el-col class="bg-purple-light" :span="10" style="text-align: right;">
                                                <span>固定詠唱:</span>
                                            </el-col>
                                            <el-col class="textcenter" :span="10">
                                                <span>{{attritube['FCT']}} s</span>
                                            </el-col>
                                        </el-row>
                                        <el-row class="statusbox" type="flex" align="middle" justify="space-around"
                                            style="height:40px;">
                                            <el-col class="bg-purple-light" :span="10" style="text-align: right;">
                                                <span>固定詠唱%:</span>
                                            </el-col>
                                            <el-col class="textcenter" :span="10">
                                                <span>{{attritube['FCTP']}} %</span>
                                            </el-col>
                                        </el-row>
                                        <el-row class="statusbox" type="flex" align="middle" justify="space-around"
                                            style="height:40px;">
                                            <el-col class="bg-purple-light" :span="10" style="text-align: right;">
                                                <span>裝備變動詠唱%:</span>
                                            </el-col>
                                            <el-col class="textcenter" :span="10">
                                                <span>{{attritube['EQVCTP']}} %</span>
                                            </el-col>
                                        </el-row>
                                        <el-row class="statusbox" type="flex" align="middle" justify="space-around"
                                            style="height:40px;">
                                            <el-col class="bg-purple-light" :span="10" style="text-align: right;">
                                                <span>輔助技能變動詠唱%:</span>
                                            </el-col>
                                            <el-col class="textcenter" :span="10">
                                                <span>{{attritube['SK1VCTP']}} %</span>
                                            </el-col>
                                        </el-row>
                                        <el-row class="statusbox" type="flex" align="middle" justify="space-around"
                                            style="height:40px;">
                                            <el-col class="bg-purple-light" :span="10" style="text-align: right;">
                                                <span>指定技能變動詠唱%:</span>
                                            </el-col>
                                            <el-col class="textcenter" :span="10">
                                                <span>{{attritube['SK2VCTP']}} %</span>
                                            </el-col>
                                        </el-row>
                                    </div>
                                </el-collapse-transition>
                                <el-row class="statusbox" type="flex" align="middle" justify="space-around"
                                    style="height:40px;">
                                    <el-col class="bg-purple" :span="10" style="text-align: right;">
                                        <span>實際詠唱時間:</span>
                                    </el-col>
                                    <el-col class="textcenter" :span="10">
                                        <span>{{computeattribute['CastTime']}} s</span>
                                    </el-col>
                                </el-row>
                                <el-row class="statusbox" type="flex" align="middle" justify="space-around"
                                    style="height:40px;">
                                    <el-col class="bg-purple" :span="10" style="text-align: right;">
                                        <span>技能延遲時間:</span>
                                    </el-col>
                                    <el-col class="textcenter" :span="10">
                                        <span>{{computeattribute['DelayTime']}} s</span>
                                    </el-col>
                                </el-row>
                                <el-row class="statusbox" type="flex" align="middle" justify="space-around"
                                    style="height:40px;">
                                    <el-col class="bg-purple" :span="10" style="text-align: right;">
                                        <span>ASPD:{{attritube['ASPD']}} 攻擊間隔:</span>
                                    </el-col>
                                    <el-col class="textcenter" :span="10">
                                        <span>{{computeattribute['AspdDelay']}} s</span>
                                    </el-col>
                                </el-row>
                                <div v-show="computeattribute['CastTime']>1">
                                    <el-row class="statusbox" type="flex" align="middle" justify="space-around"
                                        style="height:40px;">
                                        <el-col class="textcenter">
                                            <span>詠唱>1秒，荷包不足請儲值</span>
                                        </el-col>
                                    </el-row>
                                </div>
                                <div
                                    v-show="(computeattribute['CastTime']+computeattribute['DelayTime'])>computeattribute['AspdDelay']">
                                    <el-row class="statusbox" type="flex" align="middle" justify="space-around"
                                        style="height:40px;">
                                        <el-col class="textcenter" :span="10">
                                            <span>詠唱+延遲 > 攻擊間隔時間</span>
                                        </el-col>
                                    </el-row>
                                </div>
                                <el-row class="statusbox" type="flex" align="middle" justify="space-around"
                                    style="height:40px;">
                                    <el-col class="bg-purple" :span="10" style="text-align: right;">
                                        <span>每秒攻擊次數:</span>
                                    </el-col>
                                    <el-col class="textcenter" :span="10">
                                        <span>{{computeattribute['HitperSec']}}</span>
                                    </el-col>
                                </el-row>
                                <div v-show="UIPanel['ATKPanel']">
                                    <el-row class="titlebox" type="flex" align="middle" style="height:40px; padding: 0px 5px;">
                                        <el-col class="textcenter" :span="2">
                                        </el-col>
                                        <el-col class="textcenter" :span="20">
                                            <span class="textcenter">ATK計算</span>
                                        </el-col>
                                        <el-col v-if="UIPanel['ATKCompute']" class="textcenter" :span="2">
                                            <el-button type="info" v-on:click="TogglePanel('ATKCompute')" size="mini"><i class="el-icon-arrow-down"></i></el-button>
                                        </el-col>
                                        <el-col v-else class="textcenter" :span="2">
                                            <el-button type="info" v-on:click="TogglePanel('ATKCompute')" size="mini"><i class="el-icon-arrow-up"></i></el-button>
                                        </el-col>
                                    </el-row>
                                    <el-collapse-transition>
                                        <div v-show="UIPanel['ATKCompute']">
                                            <el-row class="statusbox" type="flex" align="middle" justify="space-around"
                                                style="height:40px;">
                                                <el-col class="bg-purple-light" :span="10" style="text-align: right;">
                                                    <span>基礎ATK:</span>
                                                </el-col>
                                                <el-col class="textcenter" :span="10">
                                                    <span>{{computeattribute.atkc0_min}}~{{computeattribute.atkc0_max}}</span>
                                                </el-col>
                                            </el-row>
                                            <el-row class="statusbox" type="flex" align="middle" justify="space-around"
                                                style="height:40px;">
                                                <el-col class="bg-purple-light" :span="10" style="text-align: right;">
                                                    <span>精練&特殊ATK加值</span>
                                                </el-col>
                                                <el-col class="textcenter" :span="10">
                                                    <span>{{computeattribute.atkc1_min}}~{{computeattribute.atkc1_max}}</span>
                                                </el-col>
                                            </el-row>
                                            <el-row class="statusbox" type="flex" align="middle" justify="space-around"
                                                style="height:40px;">
                                                <el-col class="bg-purple-light" :span="10" style="text-align: right;">
                                                    <span>體型修正&箭矢傷害</span>
                                                </el-col>
                                                <el-col class="textcenter" :span="10">
                                                    <span>{{computeattribute.atkc2_min}}~{{computeattribute.atkc2_max}}</span>
                                                </el-col>
                                            </el-row>
                                            <el-row class="statusbox" type="flex" align="middle" justify="space-around"
                                                style="height:40px;">
                                                <el-col class="bg-purple-light" :span="10" style="text-align: right;">
                                                    <span>總武器ATK</span>
                                                </el-col>
                                                <el-col class="textcenter" :span="10">
                                                    <span>{{computeattribute.weaponatk_min}}~{{computeattribute.weaponatk_max}}</span>
                                                </el-col>
                                            </el-row>
                                            <el-row class="statusbox" type="flex" align="middle" justify="space-around"
                                                style="height:40px;">
                                                <el-col class="bg-purple-light" :span="10" style="text-align: right;">
                                                    <span>種族階級體型屬性</span>
                                                </el-col>
                                                <el-col class="textcenter" :span="10">
                                                    <span>{{computeattribute.atkequip_min}}~{{computeattribute.atkequip_max}}</span>
                                                </el-col>
                                            </el-row>
                                            <el-row class="statusbox" type="flex" align="middle" justify="space-around"
                                                style="height:40px;">
                                                <el-col class="bg-purple-light" :span="10" style="text-align: right;">
                                                    <span>ATK%</span>
                                                </el-col>
                                                <el-col class="textcenter" :span="10">
                                                    <span>{{computeattribute.atkbranch_min}}~{{computeattribute.atkbranch_max}}</span>
                                                </el-col>
                                            </el-row>
                                            <el-row class="statusbox" type="flex" align="middle" justify="space-around"
                                                style="height:40px;">
                                                <el-col class="bg-purple-light" :span="10" style="text-align: right;">
                                                    <span>後ATK(上面兩個和)</span>
                                                </el-col>
                                                <el-col class="textcenter" :span="10">
                                                    <span>{{computeattribute.atkc4_min}}~{{computeattribute.atkc4_max}}</span>
                                                </el-col>
                                            </el-row>
                                            <el-row class="statusbox" type="flex" align="middle" justify="space-around"
                                                style="height:40px;">
                                                <el-col class="bg-purple-light" :span="10" style="text-align: right;">
                                                    <span>最終ATK</span>
                                                </el-col>
                                                <el-col class="textcenter" :span="10">
                                                    <span>{{computeattribute.atkc5_min}}~{{computeattribute.atkc5_max}}</span>
                                                </el-col>
                                            </el-row>
                                            <el-row class="statusbox" type="flex" align="middle" justify="space-around"
                                                style="height:40px;">
                                                <el-col class="bg-purple-light" :span="10" style="text-align: right;">
                                                    <span>暴傷遠傷%</span>
                                                </el-col>
                                                <el-col class="textcenter" :span="10">
                                                    <span>{{computeattribute.atkc6_min}}~{{computeattribute.atkc6_max}}</span>
                                                </el-col>
                                            </el-row>
                                            <el-row class="statusbox" type="flex" align="middle" justify="space-around"
                                                style="height:40px;">
                                                <el-col class="bg-purple-light" :span="10" style="text-align: right;">
                                                    <span>技能倍率&敵方DEF</span>
                                                </el-col>
                                                <el-col class="textcenter" :span="10">
                                                    <span>{{computeattribute.atkc7_min}}~{{computeattribute.atkc7_max}}</span>
                                                </el-col>
                                            </el-row>
                                        </div>
                                    </el-collapse-transition>
                                    <el-row class="statusbox" type="flex" align="middle" justify="space-around"
                                        style="height:40px;">
                                        <el-col class="bg-purple" :span="10" style="text-align: right;">
                                            <span>普攻傷害</span>
                                        </el-col>
                                        <el-col class="textcenter" :span="10">
                                            <span>{{computeattribute.normalattack_min}}~{{computeattribute.normalattack_max}}</span>
                                        </el-col>
                                    </el-row>
                                    <el-row class="statusbox" type="flex" align="middle" justify="space-around"
                                        style="height:40px;">
                                        <el-col class="bg-purple" :span="10" style="text-align: right;">
                                            <span>普攻傷害(暴擊)</span>
                                        </el-col>
                                        <el-col v-if="weapon.type.id=='Katars'" class="textcenter" :span="10">
                                            <span>{{computeattribute.normalcritical}} + {{Math.floor(computeattribute.normalcritical*0.21)}}</span>
                                        </el-col>
                                        <el-col v-else class="textcenter" :span="10">
                                            <span>{{computeattribute.normalcritical}}</span>
                                        </el-col>
                                    </el-row>
                                    <el-row class="statusbox" type="flex" align="middle" justify="space-around"
                                        style="height:40px;">
                                        <el-col class="bg-purple" :span="10" style="text-align: right;">
                                            <span>普攻DPS</span>
                                        </el-col>
                                        <el-col class="textcenter" :span="10">
                                            <span>{{computeattribute.normalattack_DPS}}</span>
                                        </el-col>
                                    </el-row>
                                    <el-row class="statusbox" type="flex" align="middle" justify="space-around"
                                        style="height:40px;">
                                        <el-col class="bg-purple" :span="10" style="text-align: right;">
                                            <span>技能傷害</span>
                                        </el-col>
                                        <el-col class="textcenter" :span="10">
                                            <span>{{computeattribute.atkc9_min}}~{{computeattribute.atkc9_max}}</span>
                                        </el-col>
                                    </el-row>
                                    <el-row v-if="skill.hitnumber>1||skill.hitnumber<0" class="statusbox" type="flex"
                                        align="middle" justify="space-around" style="height:40px;">
                                        <el-col class="bg-purple" :span="10" style="text-align: right;">
                                            <span>技能總傷害</span>
                                        </el-col>
                                        <el-col class="textcenter" :span="10">
                                            <span>{{this.computeattribute.atkmulti_min}}~{{computeattribute.atkmulti_max}}</span>
                                        </el-col>
                                    </el-row>
                                    <el-row v-if="skill.critical" class="statusbox" type="flex" align="middle"
                                        justify="space-around" style="height:40px;">
                                        <el-col class="bg-purple" :span="10" style="text-align: right;">
                                            <span>技能傷害(暴擊)</span>
                                        </el-col>
                                        <el-col class="textcenter" :span="10">
                                            <span>{{computeattribute.atkskillcritical}}</span>
                                        </el-col>
                                    </el-row>
                                    <el-row class="statusbox" type="flex" align="middle" justify="space-around"
                                        style="height:40px;">
                                        <el-col class="bg-purple" :span="10" style="text-align: right;">
                                            <span>技能DPS</span>
                                        </el-col>
                                        <el-col class="textcenter" :span="10">
                                            <span>{{computeattribute.atkmulti_DPS}}</span>
                                        </el-col>
                                    </el-row>
                                </div>
                                <div v-show="UIPanel['MATKPanel']">
                                    <el-row class="titlebox" type="flex" align="middle" style="height:40px; padding: 0px 5px;">
                                        <el-col class="textcenter" :span="2">
                                        </el-col>
                                        <el-col class="textcenter" :span="20">
                                            <span class="textcenter">MATK計算</span>
                                        </el-col>
                                        <el-col v-if="UIPanel['MATKCompute']" class="textcenter" :span="2">
                                            <el-button type="info" v-on:click="TogglePanel('MATKCompute')" size="mini"><i class="el-icon-arrow-down"></i></el-button>
                                        </el-col>
                                        <el-col v-else class="textcenter" :span="2">
                                            <el-button type="info" v-on:click="TogglePanel('MATKCompute')" size="mini"><i class="el-icon-arrow-up"></i></el-button>
                                        </el-col>
                                    </el-row>
                                    <el-collapse-transition>
                                        <div v-show="UIPanel['MATKCompute']">
                                            <el-row class="statusbox" type="flex" align="middle" justify="space-around"
                                                style="height:40px;">
                                                <el-col class="bg-purple-light" :span="10" style="text-align: right;">
                                                    <span>武器MATK</span>
                                                </el-col>
                                                <el-col class="textcenter" :span="10">
                                                    <span>{{computeattribute.weaponmatk_min}}~{{computeattribute.weaponmatk_max}}</span>
                                                </el-col>
                                            </el-row>
                                            <el-row class="statusbox" type="flex" align="middle" justify="space-around"
                                                style="height:40px;">
                                                <el-col class="bg-purple-light" :span="10" style="text-align: right;">
                                                    <span>裝備MATK&魔力增幅</span>
                                                </el-col>
                                                <el-col class="textcenter" :span="10">
                                                    <span>{{computeattribute.equipmatk_min}}~{{computeattribute.equipmatk_max}}</span>
                                                </el-col>
                                            </el-row>
                                            <el-row class="statusbox" type="flex" align="middle" justify="space-around"
                                                style="height:40px;">
                                                <el-col class="bg-purple-light" :span="10" style="text-align: right;">
                                                    <span>MATK%</span>
                                                </el-col>
                                                <el-col class="textcenter" :span="10">
                                                    <span>{{computeattribute.matkpercent_min}}~{{computeattribute.matkpercent_max}}</span>
                                                </el-col>
                                            </el-row>
                                            <el-row class="statusbox" type="flex" align="middle" justify="space-around"
                                                style="height:40px;">
                                                <el-col class="bg-purple-light" :span="10" style="text-align: right;">
                                                    <span>最終MATK</span>
                                                </el-col>
                                                <el-col class="textcenter" :span="10">
                                                    <span>{{computeattribute.finalmatk_min}}~{{computeattribute.finalmatk_max}}</span>
                                                </el-col>
                                            </el-row>
                                            <el-row class="statusbox" type="flex" align="middle" justify="space-around"
                                                style="height:40px;">
                                                <el-col class="bg-purple-light" :span="10" style="text-align: right;">
                                                    <span>敵方減傷</span>
                                                </el-col>
                                                <el-col class="textcenter" :span="10">
                                                    <span>{{computeattribute.matk1_min}}~{{computeattribute.matk1_max}}</span>
                                                </el-col>
                                            </el-row>
                                            <el-row class="statusbox" type="flex" align="middle" justify="space-around"
                                                style="height:40px;">
                                                <el-col class="bg-purple-light" :span="10" style="text-align: right;">
                                                    <span>技能倍率</span>
                                                </el-col>
                                                <el-col class="textcenter" :span="10">
                                                    <span>{{computeattribute.skillmatk_min}}~{{computeattribute.skillmatk_max}}</span>
                                                </el-col>
                                            </el-row>
                                            <el-row class="statusbox" type="flex" align="middle" justify="space-around"
                                                style="height:40px;">
                                                <el-col class="bg-purple-light" :span="10" style="text-align: right;">
                                                    <span>敵方MDEF</span>
                                                </el-col>
                                                <el-col class="textcenter" :span="10">
                                                    <span>{{computeattribute.matk2_min}}~{{computeattribute.matk2_max}}</span>
                                                </el-col>
                                            </el-row>
                                            <el-row class="statusbox" type="flex" align="middle" justify="space-around"
                                                style="height:40px;">
                                                <el-col class="bg-purple-light" :span="10" style="text-align: right;">
                                                    <span>技能增傷</span>
                                                </el-col>
                                                <el-col class="textcenter" :span="10">
                                                    <span>{{computeattribute.matk3_min}}~{{computeattribute.matk3_max}}</span>
                                                </el-col>
                                            </el-row>
                                        </div>
                                    </el-collapse-transition>
                                    <el-row class="statusbox" type="flex" align="middle" justify="space-around"
                                        style="height:40px;">
                                        <el-col class="bg-purple" :span="10" style="text-align: right;">
                                            <span>技能傷害</span>
                                        </el-col>
                                        <el-col class="textcenter" :span="10">
                                            <span>{{computeattribute.matk4_min}}~{{computeattribute.matk4_max}}</span>
                                        </el-col>
                                    </el-row>
                                    <el-row v-if="skill.hitnumber>1||skill.hitnumber<0" class="statusbox" type="flex"
                                        align="middle" justify="space-around" style="height:40px;">
                                        <el-col class="bg-purple" :span="10" style="text-align: right;">
                                            <span>技能總傷害</span>
                                        </el-col>
                                        <el-col class="textcenter" :span="10">
                                            <span>{{computeattribute.matkmulti_min}}~{{computeattribute.matkmulti_max}}</span>
                                        </el-col>
                                    </el-row>
                                    <el-row class="statusbox" type="flex" align="middle" justify="space-around"
                                        style="height:40px;">
                                        <el-col class="bg-purple" :span="10" style="text-align: right;">
                                            <span>技能DPS</span>
                                        </el-col>
                                        <el-col class="textcenter" :span="10">
                                            <span>{{computeattribute.matkmulti_min_DPS}}~{{computeattribute.matkmulti_max_DPS}}</span>
                                        </el-col>
                                    </el-row>
                                </div>
                                <div v-show="UIPanel['DragonBreathPanel']">
                                    <el-row class="titlebox" type="flex" align="middle" style="height:40px;">
                                        <el-col class="textcenter" :span="2">
                                        </el-col>
                                        <el-col class="textcenter" :span="20">
                                            <span class="textcenter">龍之吐息計算</span>
                                        </el-col>
                                    </el-row>
                                    <el-row class="statusbox" type="flex" align="middle" justify="space-around"
                                        style="height:40px;">
                                        <el-col class="bg-purple" :span="10" style="text-align: right;">
                                            <span>技能傷害</span>
                                        </el-col>
                                        <el-col class="textcenter" :span="10">
                                            <span>{{computeattribute.DragonBreathDMG}}</span>
                                        </el-col>
                                    </el-row>
                                    <el-row class="statusbox" type="flex" align="middle" justify="space-around"
                                        style="height:40px;">
                                        <el-col class="bg-purple" :span="10" style="text-align: right;">
                                            <span>技能DPS</span>
                                        </el-col>
                                        <el-col class="textcenter" :span="10">
                                            <span>{{computeattribute.DragonBreathDMG_DPS}}</span>
                                        </el-col>
                                    </el-row>
                                </div>
                            </div>
                        </el-row>
                    </el-scrollbar>
                </el-col>
            </el-row>

        </div>
        <!-- footer -->
        <div class="ROCalFooter">
            <div type="flex" align="middle" justify="center">
                Copyright(c) Landgris</br>
                <a href="https://twitter.com/Landgris" target="_blank"><span>Twitter</span></a>
            </div>
        </div>
    </div>



    <script>
        evue = new Vue({
            el: '#App',
            data: {
                SkillListTabPage: 'Default',
                DefaultDB_Skill: [],
                StoreDB_Skill: [],
                StoreDB_Status: [],
                StatusName: '',
                StatusBulidString: '',

                StoreDB_EquipFliterGroup: [],
                StoreDB_Equip: [],
                EquipSelectId: '',
                EquipSelectLabel: '',
                EquipSelectEffect: [],
                TempEffectTypeList:[],

                StoreDB_AllSet:[],
                TempAllSet: {},

                TestMode: false,
                StoreDB_QuickCalc: [],
                QuickCalc: { formula: '', solution: '', remark: '' },

                SpecialthanksList: [],
                UpdateLogList: [],
                CurrentUpdateVersion: '',

                classlist:[
                    { id:'RK', label: '盧恩騎士', TranscendentClass:true, basehp:[8100,8133,8242,8352,8464,8576,8690,8804,8920,9036,9154,9273,9393,9514,9636,9759,9883,10008,10134,10261,10389,10518,10648,10779,10912,11045,11180,11315,11452,11589,11728,11868,12009,12151,12294,12438,12583,12729,12876,13024,13173,13323,13474,13626,13780,13934,14090,14246,14404,14562,14722,14883,15042,15100,15260,15321,15481,15541,15600,15760,15820,15980,16141,16303,16466,16630,16795,16961,17128,17296,17465,17635,17806,17978,18151,18325,18500,18759,19059,19269,19558,19851,20228,20491,20676,20862,21070], basesp: [300,310,313,316,319,322,325,328,331,334,337,340,343,346,349,352,355,358,361,364,367,370,373,376,379,382,385,388,391,394,397,400,403,406,409,412,415,418,421,424,427,430,433,436,439,442,445,448,451,454,457,460,500,566,629,672,710,748,781,824,847,890,894,898,902,906,910,915,920,925,930,935,941,947,953,959,965,972,980,987,995,1003,1010,1018,1026,1034,1042], baseaspd: 0 },
                    { id:'GX', label: '十字斬首者', TranscendentClass:true, basehp:[6050,6093,6208,6324,6441,6559,6678,6798,6920,7043,7167,7292,7418,7545,7673,7802,7932,8063,8196,8330,8465,8601,8738,8876,9015,9155,9296,9438,9582,9727,9873,10020,10168,10317,10467,10618,10770,10923,11078,11234,11391,11549,11708,11868,12029,12191,12354,12518,12684,12851,13019,13188,13351,13518,13684,13850,14016,14182,14349,14515,14681,14830,14966,15103,15241,15380,15520,15661,15803,15946,16090,16235,16381,16528,16676,16825,16975,17196,17368,17628,17857,18072,18361,18563,18897,19237,19449], basesp: [400,410,414,418,422,426,430,434,438,442,446,450,454,458,462,466,470,474,478,482,486,490,494,498,502,506,510,514,518,522,526,530,534,538,542,546,550,554,558,562,566,570,574,578,582,586,590,594,598,602,606,610,670,695,700,715,730,745,760,785,790,805,810,815,820,825,830,836,842,848,854,860,867,874,881,888,895,900,905,910,916,921,926,931,937,942,947], baseaspd: 0 },
                    { id:'AB', label: '大主教', TranscendentClass:true, basehp:[4300,4333,4412,4491,4570,4649,4728,4807,4886,4965,5044,5123,5202,5281,5360,5439,5518,5597,5676,5755,5834,5913,5992,6071,6150,6229,6308,6387,6466,6545,6624,6703,6782,6861,6940,7019,7098,7177,7256,7335,7414,7493,7572,7651,7730,7809,7888,7967,8046,8125,8204,8283,8362,8441,8520,8599,8678,8757,8836,8915,8994,9115,9276,9438,9601,9765,9930,10096,10263,10431,10600,10770,10941,11113,11286,11460,11635,11949,12272,12628,13006,13345,13718,14034,14427,14831,15245], basesp: [800,810,818,826,834,842,850,858,866,874,882,890,898,906,914,922,930,938,946,954,962,970,978,986,994,1002,1010,1018,1026,1034,1042,1050,1058,1066,1074,1082,1090,1098,1106,1114,1122,1130,1138,1146,1154,1162,1170,1178,1186,1194,1202,1210,1258,1286,1334,1372,1410,1458,1466,1474,1482,1490,1499,1508,1517,1526,1535,1545,1555,1565,1575,1585,1596,1607,1618,1629,1640,1651,1663,1674,1686,1697,1709,1721,1733,1745,1757], baseaspd: 0 },
                    { id:'RA', label: '遊俠', TranscendentClass:true, basehp:[4800,4828,4918,5009,5101,5194,5288,5382,5477,5573,5670,5768,5867,5967,6068,6170,6273,6377,6482,6588,6694,6801,6909,7018,7128,7239,7351,7464,7578,7693,7809,7926,8044,8162,8281,8401,8522,8644,8767,8891,9016,9142,9269,9397,9526,9656,9786,9917,10049,10182,10316,10451,10585,10719,10853,10987,11121,11255,11389,11523,11657,11790,11926,12063,12201,12340,12480,12621,12763,12906,13050,13195,13341,13488,13636,13785,13935,14088,14384,14657,14965,15280,15493,15757,16040,16281,16607], basesp: [400,410,414,418,422,426,430,434,438,442,446,450,454,458,462,466,470,474,478,482,486,490,494,498,502,506,510,514,518,522,526,530,534,538,542,546,550,554,558,562,566,570,574,578,582,586,590,594,598,602,606,610,650,675,680,695,710,725,740,765,770,785,790,795,800,805,810,816,822,828,834,840,847,854,861,868,875,881,887,893,899,906,912,918,924,931,937], baseaspd: 0 },
                    { id:'WL', label: '咒術士', TranscendentClass:true, basehp:[3200,3313,3383,3455,3528,3601,3675,3749,3824,3899,3975,4051,4129,4208,4287,4367,4447,4528,4609,4691,4773,4857,4941,5026,5112,5198,5285,5372,5460,5548,5638,5728,5819,5911,6003,6096,6189,6283,6377,6473,6569,6666,6763,6861,6960,7059,7159,7259,7361,7463,7566,7669,7771,7874,7976,8079,8181,8284,8386,8489,8591,8730,8891,9053,9216,9380,9545,9711,9878,10046,10215,10385,10556,10728,10901,11075,11250,11610,11900,12222,12564,12865,13251,13556,13990,14382,14755], basesp: [900,910,919,928,937,946,955,964,973,982,991,1000,1009,1018,1027,1036,1045,1054,1063,1072,1081,1090,1099,1108,1117,1126,1135,1144,1153,1162,1171,1180,1189,1198,1207,1216,1225,1234,1243,1252,1261,1270,1279,1288,1297,1306,1315,1324,1333,1342,1351,1360,1369,1378,1387,1396,1405,1414,1423,1432,1441,1450,1460,1470,1480,1490,1500,1511,1522,1533,1544,1555,1567,1579,1591,1603,1615,1626,1640,1653,1665,1678,1691,1704,1717,1730,1744], baseaspd: 0 },
                    { id:'ME', label: '機械工匠', TranscendentClass:true, basehp:[5807,5844,5952,6061,6172,6283,6396,6510,6625,6741,6857,6974,7093,7212,7333,7455,7578,7702,7828,7954,8081,8208,8337,8467,8598,8730,8864,8998,9134,9271,9408,9546,9685,9825,9967,10109,10253,10398,10544,10691,10838,10987,11136,11287,11439,11592,11746,11901,12057,12215,12372,12531,12688,12845,13003,13160,13318,13475,13633,13790,13948,14105,14266,14428,14591,14755,14920,15086,15253,15421,15590,15760,15931,16103,16276,16450,16625,16941,17270,17401,17645,17927,18160,18444,18697,18971,19256], basesp: [400,410,414,418,422,426,430,434,438,442,446,450,454,458,462,466,470,474,478,482,486,490,494,498,502,506,510,514,518,522,526,530,534,538,542,546,550,554,558,562,566,570,574,578,582,586,590,594,598,602,606,610,700,760,820,880,930,965,1020,1132,1160,1230,1235,1240,1245,1250,1255,1261,1267,1273,1279,1285,1292,1299,1306,1313,1320,1330,1339,1349,1358,1368,1378,1388,1398,1408,1418], baseaspd: 0 },
                    { id:'RG', label: '皇家禁衛軍', TranscendentClass:true, basehp:[6050,6093,6208,6324,6441,6559,6678,6798,6920,7043,7167,7292,7418,7545,7673,7802,7932,8063,8196,8330,8465,8601,8738,8876,9015,9155,9296,9438,9582,9727,9873,10020,10168,10317,10467,10618,10770,10923,11078,11234,11391,11549,11708,11868,12029,12191,12354,12518,12684,12851,13019,13188,13355,13522,13690,13857,14025,14192,14360,14527,14695,14860,15021,15183,15346,15510,15675,15841,16008,16176,16345,16515,16686,16858,17031,17205,17380,16901,17870,18031,18301,18594,18890,19175,19405,19657,20011], basesp: [400,410,414,418,422,426,430,434,438,442,446,450,454,458,462,466,470,474,478,482,486,490,494,498,502,506,510,514,518,522,526,530,534,538,542,546,550,554,558,562,566,570,574,578,582,586,590,594,598,602,606,610,700,760,820,880,930,965,1020,1132,1160,1230,1235,1240,1245,1250,1255,1261,1267,1273,1279,1285,1292,1299,1306,1313,1320,1326,1333,1339,1346,1352,1358,1365,1372,1378,1385], baseaspd: 0 },
                    { id:'SC', label: '魅影追蹤者', TranscendentClass:true, basehp:[6050,6093,6208,6324,6441,6559,6678,6798,6920,7043,7167,7292,7418,7545,7673,7802,7932,8063,8196,8330,8465,8601,8738,8876,9015,9155,9296,9438,9582,9727,9873,10020,10168,10317,10467,10618,10770,10923,11078,11234,11391,11549,11708,11868,12029,12191,12354,12518,12684,12851,13019,13188,13300,13420,13500,13600,13700,13800,13900,14000,14100,14200,14301,14403,14506,14610,14715,14821,14928,15036,15145,15255,15366,15478,15591,15705,15820,16152,16475,16772,17124,17415,17816,18047,18282,18684,18964], basesp: [400,410,414,418,422,426,430,434,438,442,446,450,454,458,462,466,470,474,478,482,486,490,494,498,502,506,510,514,518,522,526,530,534,538,542,546,550,554,558,562,566,570,574,578,582,586,590,594,598,602,606,610,614,618,622,626,630,634,638,642,646,650,655,660,665,670,675,681,687,693,699,705,712,719,726,733,740,753,766,780,793,807,822,836,851,866,881], baseaspd: 0 },
                    { id:'SU', label: '修羅', TranscendentClass:true, basehp:[5050,5082,5176,5271,5367,5464,5562,5661,5761,5862,5963,6065,6168,6272,6377,6483,6590,6698,6807,6917,7027,7138,7250,7363,7477,7592,7708,7825,7943,8062,8181,8301,8422,8544,8667,8791,8916,9042,9169,9297,9425,9554,9684,9815,9947,10080,10214,10349,10485,10622,10759,10897,11033,11170,11307,11444,11581,11718,11855,11992,12129,12265,12406,12548,12691,12835,12980,13126,13273,13421,13570,13720,13871,14023,14176,14330,14485,14789,15174,15538,15880,16213,16619,16951,17256,17618,17918], basesp: [400,410,414,418,422,426,430,434,438,442,446,450,454,458,462,466,470,474,478,482,486,490,494,498,502,506,510,514,518,522,526,530,534,538,542,546,550,554,558,562,566,570,574,578,582,586,590,594,598,602,606,610,614,618,622,626,630,634,638,642,646,650,655,660,665,670,675,681,687,693,699,705,712,719,726,733,740,753,765,778,792,805,819,833,847,861,880], baseaspd: 0 },
                    { id:'MI', label: '宮廷樂師', TranscendentClass:true, basehp:[4800,4828,4918,5009,5101,5194,5288,5382,5477,5573,5670,5768,5867,5967,6068,6170,6273,6377,6482,6588,6694,6801,6909,7018,7128,7239,7351,7464,7578,7693,7809,7926,8044,8162,8281,8401,8522,8644,8767,8891,9016,9142,9269,9397,9526,9656,9786,9917,10049,10182,10316,10451,10584,10717,10851,10984,11118,11251,11385,11518,11652,11785,11921,12058,12196,12335,12475,12616,12758,12901,13045,13190,13336,13483,13631,13780,13930,14209,14493,14725,14946,15289,15564,15907,16161,16420,16716], basesp: [400,410,414,418,422,426,430,434,438,442,446,450,454,458,462,466,470,474,478,482,486,490,494,498,502,506,510,514,518,522,526,530,534,538,542,546,550,554,558,562,566,570,574,578,582,586,590,594,598,602,606,610,614,648,702,726,750,774,808,822,846,850,855,860,865,870,875,881,887,893,899,905,912,919,926,933,940,952,964,976,988,1001,1013,1026,1039,1052,1065], baseaspd: 0 },
                    { id:'WA', label: '浪跡舞者', TranscendentClass:true, basehp:[4800,4828,4918,5009,5101,5194,5288,5382,5477,5573,5670,5768,5867,5967,6068,6170,6273,6377,6482,6588,6694,6801,6909,7018,7128,7239,7351,7464,7578,7693,7809,7926,8044,8162,8281,8401,8522,8644,8767,8891,9016,9142,9269,9397,9526,9656,9786,9917,10049,10182,10316,10451,10584,10717,10851,10984,11118,11251,11385,11518,11652,11785,11921,12058,12196,12335,12475,12616,12758,12901,13045,13190,13336,13483,13631,13780,13930,14209,14493,14725,14946,15289,15564,15907,16161,16420,16716], basesp: [400,410,414,418,422,426,430,434,438,442,446,450,454,458,462,466,470,474,478,482,486,490,494,498,502,506,510,514,518,522,526,530,534,538,542,546,550,554,558,562,566,570,574,578,582,586,590,594,598,602,606,610,614,648,702,726,750,774,808,822,846,850,855,860,865,870,875,881,887,893,899,905,912,919,926,933,940,952,964,976,988,1001,1013,1026,1039,1052,1065], baseaspd: 0 },
                    { id:'SO', label: '妖術師', TranscendentClass:true, basehp:[4080,4103,4180,4257,4335,4414,4494,4574,4655,4737,4819,4902,4986,5071,5157,5244,5332,5420,5509,5599,5689,5780,5872,5965,6058,6153,6248,6344,6441,6539,6637,6737,6837,6937,7038,7140,7243,7347,7451,7557,7663,7770,7878,7987,8097,8207,8318,8429,8541,8654,8768,8883,8994,9107,9220,9280,9340,9450,9570,9680,9798,9915,10036,10158,10281,10405,10530,10656,10783,10911,11040,11170,11301,11433,11566,11700,11835,12072,12398,12770,13140,13455,13724,14095,14490,14894,15312], basesp: [900,910,919,928,937,946,955,964,973,982,991,1000,1009,1018,1027,1036,1045,1054,1063,1072,1081,1090,1099,1108,1117,1126,1135,1144,1153,1162,1171,1180,1189,1198,1207,1216,1225,1234,1243,1252,1261,1270,1279,1288,1297,1306,1315,1324,1333,1342,1351,1360,1369,1378,1387,1396,1405,1414,1423,1432,1441,1450,1460,1470,1480,1490,1500,1511,1522,1533,1544,1555,1567,1579,1591,1603,1615,1622,1629,1636,1644,1651,1658,1665,1673,1680,1687], baseaspd: 0 },
                    { id:'GE', label: '基因學者', TranscendentClass:true, basehp:[4730,4766,4853,4940,5027,5113,5200,5287,5374,5461,5548,5635,5722,5809,5896,5982,6069,6156,6243,6330,6417,6504,6591,6678,6765,6851,6938,7025,7112,7199,7286,7373,7460,7547,7634,7720,7807,7894,7981,8068,8155,8242,8329,8416,8503,8589,8676,8763,8850,8937,9024,9111,9198,9285,9372,9459,9546,9633,9720,9807,9894,9980,10141,10303,10466,10630,10795,10961,11128,11296,11465,11635,11806,11978,12151,12325,12500,12800,13133,13461,13757,13991,14271,14642,15008,15353,15752], basesp: [900,910,919,928,937,946,955,964,973,982,991,1000,1009,1018,1027,1036,1045,1054,1063,1072,1081,1090,1099,1108,1117,1126,1135,1144,1153,1162,1171,1180,1189,1198,1207,1216,1225,1234,1243,1252,1261,1270,1279,1288,1297,1306,1315,1324,1333,1342,1351,1360,1369,1378,1387,1396,1405,1414,1423,1432,1441,1450,1460,1470,1480,1490,1500,1511,1522,1533,1544,1555,1567,1579,1591,1603,1615,1625,1636,1646,1657,1667,1678,1689,1700,1710,1721], baseaspd: 0 },
                    { id:'KO', label: '影狼/朧', TranscendentClass:false, basehp: [0], basesp: [0], baseaspd: 0 },
                    { id:'RE', label: '反叛者', TranscendentClass:false, basehp: [0], basesp: [0], baseaspd: 0 },
                    { id:'SE', label: '拳皇', TranscendentClass:false, basehp: [0], basesp: [0], baseaspd: 0 },
                    { id:'SL', label: '獵靈士', TranscendentClass:false, basehp: [0], basesp: [0], baseaspd: 0 },
                    { id:'SUM', label: '多蘭族召喚師', TranscendentClass:false, basehp: [0], basesp: [0], baseaspd: 0 },
                    { id:'SN', label: '超級初心者', TranscendentClass:false, basehp: [0], basesp: [0], baseaspd: 0 },
                ],
                equipspartlist: [
                    { id: 'weaponr', label: '主手', equipname: '', effectlist: [] },
                    { id: 'weaponl', label: '副手', equipname: '', effectlist: [] },
                    { id: 'helm', label: '頭飾', equipname: '', effectlist: [] },
                    { id: 'helm1', label: '頭中', equipname: '', effectlist: [] },
                    { id: 'helm2', label: '頭下', equipname: '', effectlist: [] },
                    { id: 'armor', label: '衣服', equipname: '', effectlist: [] },
                    { id: 'robe', label: '披肩', equipname: '', effectlist: [] },
                    { id: 'shoes', label: '靴子', equipname: '', effectlist: [] },
                    { id: 'acc1', label: '飾品', equipname: '', effectlist: [] },
                    { id: 'acc2', label: '飾品', equipname: '', effectlist: [] },
                    { id: 'shadow', label: '影子', equipname: '', effectlist: [] },
                    { id: 'costume', label: '服飾', equipname: '', effectlist: [] },
                    { id: 'cardset', label: '套卡', equipname: '', effectlist: [] },
                    { id: 'other', label: '自訂', equipname: '', effectlist: [] },
                ],
                effecttypelist: [
                    { label: 'STR', id: 'STR', totalvalue: '', opersymbol: '\+', suffixsymbol: '' },
                    { label: 'AGI', id: 'AGI', totalvalue: '', opersymbol: '\+', suffixsymbol: '' },
                    { label: 'VIT', id: 'VIT', totalvalue: '', opersymbol: '\+', suffixsymbol: '' },
                    { label: 'INT', id: 'INT', totalvalue: '', opersymbol: '\+', suffixsymbol: '' },
                    { label: 'DEX', id: 'DEX', totalvalue: '', opersymbol: '\+', suffixsymbol: '' },
                    { label: 'LUK', id: 'LUK', totalvalue: '', opersymbol: '\+', suffixsymbol: '' },
                    { label: '全能力', id: 'AllStatus', totalvalue: '', opersymbol: '\+', suffixsymbol: '' },

                    { label: 'Atk', id: 'Atk', totalvalue: '', opersymbol: '\+', suffixsymbol: '' },
                    { label: 'Atk %', id: 'AtkPercent', totalvalue: '', opersymbol: '\+', suffixsymbol: '\%' },
                    { label: '物理種族 %', id: 'RaceAtkPercent', totalvalue: '', opersymbol: '\+', suffixsymbol: '\%' },
                    { label: '物理體型 %', id: 'SizeAtkPercent', totalvalue: '', opersymbol: '\+', suffixsymbol: '\%' },
                    { label: '對屬性魔物Atk %', id: 'ElementalAtkPercent', totalvalue: '', opersymbol: '\+', suffixsymbol: '\%' },
                    { label: '物理階級 %', id: 'LevelAtkPercent', totalvalue: '', opersymbol: '\+', suffixsymbol: '\%' },
                    { label: '暴傷 %', id: 'CriDamagePercent', totalvalue: '', opersymbol: '\+', suffixsymbol: '\%' },
                    { label: '遠傷 %', id: 'RangedDamagePercent', totalvalue: '', opersymbol: '\+', suffixsymbol: '\%' },
                    { label: '無視物理防禦 %', id: 'BypassDEFPercent', totalvalue: '', opersymbol: '\+', suffixsymbol: '\%' },

                    { label: 'Matk', id: 'Matk', totalvalue: '', opersymbol: '\+', suffixsymbol: '' },
                    { label: 'Matk %', id: 'MatkPercent', totalvalue: '', opersymbol: '\+', suffixsymbol: '\%' },
                    { label: '魔法種族 %', id: 'RaceMatkPercent', totalvalue: '', opersymbol: '\+', suffixsymbol: '\%' },
                    { label: '魔法體型 %', id: 'SizeMatkPercent', totalvalue: '', opersymbol: '\+', suffixsymbol: '\%' },
                    { label: '魔法階級 %', id: 'LevelMatkPercent', totalvalue: '', opersymbol: '\+', suffixsymbol: '\%' },
                    { label: '對屬性魔物Matk %', id: 'ElementalMatkPercent', totalvalue: '', opersymbol: '\+', suffixsymbol: '\%' },
                    { label: '屬性魔法 %', id: 'ElementalMagicPercent', totalvalue: '', opersymbol: '\+', suffixsymbol: '\%' },
                    { label: '無視魔法防禦 %', id: 'BypassMDEFPercent', totalvalue: '', opersymbol: '\+', suffixsymbol: '\%' },

                    { label: '技能增傷 %', id: 'SkillDamagePercent', totalvalue: '0', opersymbol: '\+', suffixsymbol: '\%' },
                    { label: 'ASPD', id: 'ASPD', totalvalue: '', opersymbol: '\+', suffixsymbol: '' },
                    { label: '攻擊後延%', id: 'AspdPercent', totalvalue: '', opersymbol: '\-', suffixsymbol: '\%' },
                    { label: '暴擊率 %', id: 'Cri', totalvalue: '', opersymbol: '\+', suffixsymbol: '\%' },
                    { label: '技能獨延', id: 'CDTime', totalvalue: '', opersymbol: '\-', suffixsymbol: '\s' },
                    { label: '技能後(共)延%', id: 'GCDPercent', totalvalue: '', opersymbol: '\-', suffixsymbol: '\%' },
                    { label: '變詠 %', id: 'VariableCastPercent', totalvalue: '', opersymbol: '\-', suffixsymbol: '\%' },
                    { label: '指定技能變詠 %', id: 'SPSkillVariableCastPercent', totalvalue: '', opersymbol: '\-', suffixsymbol: '\%' },
                    { label: '固詠', id: 'FixedCast', totalvalue: '', opersymbol: '\-', suffixsymbol: 's' },
                    { label: '固詠 %', id: 'FixedCastPercent', totalvalue: '', opersymbol: '\-', suffixsymbol: '\%' },

                    { label: 'HP %', id: 'HPPercent', totalvalue: '0', opersymbol: '\+', suffixsymbol: '\%' },
                    { label: 'HP', id: 'HP', totalvalue: '0', opersymbol: '\+', suffixsymbol: '' },
                    { label: 'SP %', id: 'SPPercent', totalvalue: '0', opersymbol: '\+', suffixsymbol: '\%' },
                    { label: 'SP', id: 'SP', totalvalue: '0', opersymbol: '\+', suffixsymbol: '' },

                ],
                effectdialogue: {
                    EffectType: '',
                    EffectNumber: ''
                },
                weapontypelist: [
                    { id: 'Empty', label: '空手', sizefix: { small: 100, middle: 100, large: 100 }, baseaspd: '', isRangedattack: false, isTwohand: false },
                    { id: 'Daggers', label: '短劍', sizefix: { small: 100, middle: 75, large: 50 }, baseaspd: '', isRangedattack: false, isTwohand: false },
                    { id: 'OneHandedSwords', label: '單手劍', sizefix: { small: 75, middle: 100, large: 75 }, baseaspd: '', isRangedattack: false, isTwohand: false },
                    { id: 'TwoHandedSword', label: '雙手劍', sizefix: { small: 75, middle: 75, large: 100 }, baseaspd: '', isRangedattack: false, isTwohand: true },
                    { id: 'Katars', label: '拳刃', sizefix: { small: 75, middle: 100, large: 75 }, baseaspd: '', isRangedattack: false, isTwohand: true },
                    { id: 'Spears', label: '矛類', sizefix: { small: 75, middle: 75, large: 100 }, baseaspd: '', isRangedattack: false, isTwohand: false },
                    { id: 'Axes', label: '斧類', sizefix: { small: 50, middle: 75, large: 100 }, baseaspd: '', isRangedattack: false, isTwohand: false },
                    { id: 'Maces', label: '鈍器', sizefix: { small: 75, middle: 100, large: 100 }, baseaspd: '', isRangedattack: false, isTwohand: false },
                    { id: 'Knuckles', label: '拳套', sizefix: { small: 100, middle: 100, large: 75 }, baseaspd: '', isRangedattack: false, isTwohand: false },
                    { id: 'Rods', label: '杖類', sizefix: { small: 100, middle: 100, large: 100 }, baseaspd: '', isRangedattack: false, isTwohand: false },
                    { id: 'Books', label: '書本', sizefix: { small: 100, middle: 100, large: 50 }, baseaspd: '', isRangedattack: false, isTwohand: false },
                    { id: 'Bows', label: '弓', sizefix: { small: 100, middle: 100, large: 75 }, baseaspd: '', isRangedattack: true, isTwohand: true },
                    { id: 'Instruments', label: '樂器', sizefix: { small: 75, middle: 100, large: 75 }, baseaspd: '', isRangedattack: false, isTwohand: false },
                    { id: 'Whips', label: '鞭子', sizefix: { small: 75, middle: 100, large: 75 }, baseaspd: '', isRangedattack: false, isTwohand: false },
                    { id: 'Guns', label: '槍', sizefix: { small: 100, middle: 100, large: 100 }, baseaspd: '', isRangedattack: true, isTwohand: true },
                    { id: 'Shuriken', label: '手裏劍', sizefix: { small: 75, middle: 75, large: 100 }, baseaspd: '', isRangedattack: false, isTwohand: true },
                ],
                lefthandweapon: false,
                subhandtype: [
                    { id: 0, label: '空手' },
                    { id: 1, label: '盾牌' },
                    { id: 2, label: '武器' },
                ],
                weaponlevellist: [
                    { id: 1, label: '一級武器', upgradeatk: 2, saferefine: 7, overatk: 3 },
                    { id: 2, label: '二級武器', upgradeatk: 3, saferefine: 6, overatk: 5 },
                    { id: 3, label: '三級武器', upgradeatk: 5, saferefine: 5, overatk: 8 },
                    { id: 4, label: '四級武器', upgradeatk: 7, saferefine: 4, overatk: 14 }
                ],
                weapon: {
                    type: '', level: '',
                    ATK: 0, MATK: 0, refinelevel: 0,
                    refineatk: 0, refinematk: 0, refineatk2: 0,
                    ArrowATK: 0, BulletATK: 0,
                    Weight: 0, 
                },
                weapon_init: {},
                subweapon:{
                    type: '', level: '',
                    ATK: 0, MATK: 0, refinelevel: 0, 
                    refineatk: 0, refinematk: 0,
                    ShieldWeight: 0,
                },
                subweapon_init: {},
                status: {
                    Level: 1, JOBLevel: 1, Transcendent: false, classid: 'AB',
                    STR: 0, AGI: 0, VIT: 0, INT: 0, DEX: 0, LUK: 0,
                    ASPD: 0, HP: 0, SP: 0,
                },
                status_add: {
                    STR: 0, AGI: 0, VIT: 0, INT: 0, DEX: 0, LUK: 0,
                },
                status_add_init: {},
                status_total: {
                    STR: 0, AGI: 0, VIT: 0, INT: 0, DEX: 0, LUK: 0,
                },
                status_total_init: {},
                /*
                 SK1VCTP %布萊齊 犧牲祈福 
                 SK2VCTP %指定技能 小雪獸卡
                 EQVCTP %變詠裝
                 FCT 固詠秒
                 FCTP 固詠%
                 GCD 共延%
                */
                attritube: {
                    StatusATK: 0, WeaponATK: 0, StatusMATK: 0, WeaponMATK: 0,
                    ATK: 0, MATK: 0, ATKP: 0, MATKP: 0, DEF: 0, MDEF: 0, HP:0, HPP:0, SP:0, SPP:0,
                    ASPD: 0, ASPDP: 0, CRI: 0, HIT: 0, CRIDP: 0, RNGDP: 0,
                    SK1VCTP: 0, SK2VCTP: 0, EQVCTP: 0, FCT: 0, FCTP: 0, CD: 0, GCD: 0,
                    BYPASSDEF: 0, BYPASSMDEF: 0,
                    ElementalMagicPercent: 0,
                },
                HP_JOB_A: 0, HP_JOB_B: 0,
                attritube_init: {},
                sizetypelist: [
                    { id: 0, label: '小型' },
                    { id: 1, label: '中型' },
                    { id: 2, label: '大型' },
                ],
                elementtypelist: [
                    { id: 0, label: '無' },
                    { id: 1, label: '火' },
                    { id: 2, label: '水' },
                    { id: 3, label: '風' },
                    { id: 4, label: '地' },
                    { id: 5, label: '毒' },
                    { id: 6, label: '聖' },
                    { id: 7, label: '暗' },
                    { id: 8, label: '念' },
                    { id: 9, label: '不死' }
                ],
                elementlevel: [{ id: 1 }, { id: 2 }, { id: 3 }, { id: 4 }],
                elementalmap: [
                    100, 100, 100, 100, 100, 100, 100, 100, 70, 100,
                    100, 25, 90, 100, 150, 100, 75, 100, 100, 125,
                    100, 150, 25, 90, 100, 100, 75, 100, 100, 100,
                    100, 100, 175, 25, 90, 100, 75, 100, 100, 100,
                    100, 90, 100, 150, 25, 100, 75, 100, 100, 100,
                    100, 125, 100, 125, 125, 0, 75, 50, 100, -25,
                    100, 100, 100, 100, 100, 100, 0, 125, 100, 150,
                    100, 100, 100, 100, 100, 50, 125, 0, 100, -25,
                    70, 100, 100, 100, 100, 100, 75, 75, 125, 100,
                    100, 100, 100, 100, 100, 50, 100, 0, 100, 0,
                    100, 100, 100, 100, 100, 100, 100, 100, 50, 100,
                    100, 0, 80, 100, 175, 100, 50, 75, 100, 150,
                    100, 175, 0, 80, 100, 100, 50, 75, 100, 100,
                    100, 100, 175, 0, 80, 100, 50, 75, 100, 100,
                    100, 80, 100, 175, 0, 100, 50, 75, 100, 100,
                    100, 125, 75, 125, 125, 0, 50, 25, 75, -50,
                    100, 100, 100, 100, 100, 100, -25, 150, 100, 175,
                    100, 100, 100, 100, 100, 25, 150, -25, 100, -50,
                    50, 75, 75, 75, 75, 75, 50, 50, 150, 125,
                    100, 75, 75, 75, 75, 25, 125, 0, 100, 0,
                    100, 100, 100, 100, 100, 100, 100, 100, 0, 100,
                    100, -25, 70, 100, 200, 100, 25, 50, 100, 175,
                    100, 200, -25, 70, 100, 100, 25, 50, 100, 125,
                    100, 100, 200, -25, 70, 100, 25, 50, 100, 100,
                    100, 70, 100, 200, -25, 100, 25, 50, 100, 75,
                    100, 100, 50, 100, 100, 0, 25, 0, 50, -75,
                    100, 100, 100, 100, 100, 125, -50, 175, 100, 200,
                    100, 100, 100, 100, 100, 0, 175, -50, 100, -75,
                    0, 50, 50, 50, 50, 50, 25, 25, 175, 150,
                    100, 50, 50, 50, 50, 0, 150, 0, 100, 0,
                    100, 100, 100, 100, 100, 100, 100, 100, 0, 100,
                    100, -50, 60, 100, 200, 75, 0, 25, 100, 200,
                    100, 200, -50, 60, 100, 75, 0, 25, 100, 150,
                    100, 100, 200, -50, 60, 75, 0, 25, 100, 100,
                    100, 60, 100, 200, -50, 75, 0, 25, 100, 50,
                    100, 75, 25, 75, 75, 0, 0, -25, 25, -100,
                    100, 75, 75, 75, 75, 125, -100, 200, 100, 200,
                    100, 75, 75, 75, 75, -25, 200, -100, 100, -100,
                    0, 25, 25, 25, 25, 25, 0, 0, 200, 175,
                    100, 25, 25, 25, 25, -25, 175, 0, 100, 0
                ],
                enemyattribute: {
                    name: '',
                    level: 0, hp: 0, VIT: 0, INT: 0, LUK: 0,
                    elemental: 0, elementallevel: 1, size: '',
                    StatusDEF: 0, WeaponDEF: 0,
                    StatusMDEF: 0, WeaponMDEF: 0,
                    sizeResist: 0, levelResist: 0, elementalResist: 0, moneletResist: 0,
                    rangedResist: 0, raceResist: 0, criResist: 0,
                    doram: false,
                },
                enemylist: [],
                KeywordReplaceList: [],
                skill: {
                    id: '',
                    name: '',
                    level: 0,
                    formula: 0,
                    ranged: false,
                    critical: false,
                    cannon: false,
                    transWeaponDEF: false,
                    laterformula: false,
                    hitnumber: 1,
                    elemental: 0,
                    FCT: 0,
                    VCT: 0,
                    CD: 0,
                    GCD: 0,
                    SpecialATK1: 0,
                    SpecialATK2: 0,
                    SpecialATK3: 0,
                    SpecialATK4: 0,
                    SpecialATK5: 0,
                    SpecialATK6: 0,
                    SpecialMATK1: 0,
                    DamageTypeIdx: 0,
                },
                DamageType: [
                    { id: 0, label: '物理傷害' },
                    { id: 1, label: '魔法傷害' },
                    { id: 2, label: '龍息傷害' }
                ],
                skilloption: {
                    AttackElementalIdx: 0,      //玩家攻擊屬性
                    ElementalPercent: 0,        //屬性倍率
                    WeaponMasteryATKInput: 0,
                    WeaponMasteryATK: 0,        //武器修練
                },
                option_init: '',
                option:
                {

                    Loud: false,                //大聲吶喊
                    MaximizePower: false,       //武器值最大化
                    WeaponPerfection: false,    //無視體型攻擊
                    Overthrust: false,          //兇砍
                    OverthrustParty: false,     //兇砍隊伍
                    OverthrustMax: false,       //兇砍最大值
                    AdrenalineRush: false,      //速度激發
                    AxeTornado: false,          //戰斧颶風
                    Pyroclastic: false,         //火山塵暴
                    HomunculusLevel: 1,         //生命體等級

                    Riding: false,              //騎乘
                    TwoHandQuicken: false,      //雙劍加速
                    Concentration: false,       //集中攻擊
                    AuraBlade: false,           //靈氣劍 等級*10
                    AuraBladeValue: 8,
                    Berserk: false,             //狂怒之槍
                    ShieldSpell: false,         //盾咒
                    ShieldDEF: 0,
                    Inspiration: false,         //靈感

                    MagnumBreak: false,             //怒暴
                    MagnumBreakValue: 20,
                    EnchantDeadlyPoison: false,     //致命塗毒
                    EnchantDeadlyPoisonValue: 25,
                    EnchantDeadlyPoisonPercent: 300,
                    MagnumPoison2Value: 0,          //怒暴致毒

                    VENOMIMPRESS: false,            //毒耐性弱化
                    VENOMIMPRESSLevel: 0,
                    AdvancedKatarReserch: false,    //高階拳刃修練
                    AdvancedKatarReserchValue: 20,
                    AS_RIGHT: false,
                    AS_RIGHTLevel: 5,
                    AS_LEFT: false,
                    AS_LEFTLevel: 5,

                    RECOGNIZEDSPELL: false,         //魔法省悟
                    MagicPower: false,              //魔力增幅
                    MagicPowerValue: 50,
                    Striking: false,                //打擊強化
                    StrikingLevel: 5,
                    EndowLevel_Total: 0,            //屬附總等級
                    SO_FIRE_INSIGNIA: false,
                    SO_FIRE_INSIGNIA_ENEMY: false,
                    FireInsigniaLevel: 0,
                    SO_WATER_INSIGNIA: false,
                    SO_WATER_INSIGNIA_ENEMY: false,
                    WaterInsigniaLevel: 0,
                    SO_WIND_INSIGNIA: false,
                    SO_WIND_INSIGNIA_ENEMY: false,
                    WindInsigniaLevel: 0,
                    SO_EARTH_INSIGNIA: false,
                    SO_EARTH_INSIGNIA_ENEMY: false,
                    EarthInsigniaLevel: 0,

                    IncreaseAgility: false,     //加速
                    IncreaseAgilityValue: 10,
                    Blessing: false,            //天賜
                    CREMENTIA: false,           //慈悲
                    CANTOCANDIDUS: false,       //純白百合花
                    ABJobLevel: 65,              //施展者JOB等級
                    SpiritSpheres: false,       //蓄氣
                    SpiritSpheresCount: 0,
                    GentleTouchCharge: false,   //點穴-反
                    Suffragium: false,          //犧牲祈福
                    SuffragiumLevel: 1,
                    ImpositioManus: false,      //神威祈福
                    ImpositioManusLevel: 5,
                    Basilica: false,            //神聖殿堂
                    LAUDARAMUS: false,          //折枝讚頌
                    LAUDARAMUSLevel: 0,
                    SECRAMENT: false,           //聖典
                    EXPIATIO: false,            //贖罪
                    EXPIATIOLevel: 5,
                    ORATIO: false,              //祈禱文
                    ORATIOLevel: 0,

                    TrueSight: false,               //狙殺瞄準  命中率 +30%, 傷害力 +20%, 必殺攻擊率+10
                    TrueSightValue: 20,
                    UNLIMIT: false,                 //精英狙擊
                    UNLIMITLevel: 5,

                    MusicalDancingLesson: false,    // 操控樂器練習舞蹈
                    BA_POEMBRAGI: false,             // 布萊奇之詩

                    SevenWinde: false,          //溫暖的風
                    Kihop: false,               //加油
                    KihopLevel: 5,
                    PartyMemberCount: 0,
                    SLSOpposition: false,           //太陽和月亮和星星的憎惡
                    SLSMiracle: false,              //太陽和月亮和星星的奇蹟
                    SLSFusion: false,               //太陽和月亮和星星的融合

                    SOULCOLLECT: false,         //靈魂蓄積
                    SoulCount: 0,
                    SOULSHADOW: false,          //影子靈魂
                    SOULFAIRY: false,           //精靈靈魂
                    SOULFALCON: false,          //隼鷹靈魂
                    SOULGOLEM: false,           //巨人靈魂

                    NJ_NEN: false,              //念
                    KO_KAHU_ENTEN: false,       //火符
                    KO_HYOUHU_HUBUKI: false,    //冰符
                    KO_KAZEHU_SEIRAN: false,    //風符
                    KO_DOHU_KOUKAI: false,      //地符
                    KO_CharmCount: 0,           //符咒數量
                    KO_IZAYOI: false,          //十六夜
                    OB_ZANGETSU: false,         //上弦月
                    KO_RIGHT: false,
                    KO_RIGHTLevel: 5,
                    KO_LEFT:false,
                    KO_LEFTLevel: 5,

                    PowerofLife: false,         //生命力量
                    PowerofLand: false,         //大地力量
                    MeowMeow: false,            //喵喵/喵喵不休

                    //TODO[戰斧颶風]的風屬性武器增傷125%
                    SkillPercent: 0,
                    SkillFormulaError: '',

                    EquipSkillAddDamage: 0,         //裝備技能增傷
                    BaseCriticalValue: 40,          //基礎暴擊增傷

                    OdinsPower: false,           //奧汀之神力
                    OdinsPowerLevel: 2,

                    IgnoreDEF: false,
                    IgnoreMDEF: false,
                    MemoryofThanatosCard: false,
                },
                computeattribute:
                {
                    StatsPoint: 0,
                    RaisingStatsPoint: 0,
                    TransSTR: 0, // STR DEX Trans

                    elementalpercent: 0,
                    sizefix: 0,
                    enemydef: 0,
                    enemymdef: 0,

                    SpecialATK1: 0, // 特殊技能加值  體型修正之前 打擊強化、點穴(半)、祈禱文 
                    SpecialATK2: 0, // 特殊加值  種族體型屬性階級+ATK%分支(後ATK)+SpecialATK2   舞蹈練習 砲彈
                    SpecialATK3: 0, // 特殊屬性乘值  ATK%分支 屬性倍率之後 素質ATK之前  要分開乘 但 毒弱 紋章 通常只會有一種
                    // 技能倍率*SpecialATK4+SpecialATK5
                    SpecialATK4: 0, // 特殊技能乘值  技能倍率後 DEF之前  戰斧風屬性倍率 
                    SpecialATK5: 0, // 特殊技能加值  技能倍率後 DEF之前  凶砍 狙殺 狂怒之槍
                    SpecialATK6: 0, // 特殊技能加值  DEF之後 靈氣劍
                    SpecialRLHand: 0,   //特殊乘值 左右手修練 刺客/忍者

                    atkc0_min: 0,   //武器基礎ATK x [ 1 + ( STR ÷ 200 ) - ( 武器等級 x 0.05 ) 
                    atkc0_max: 0,   //武器基礎ATK x [ 1 + ( STR ÷ 200 ) + ( 武器等級 x 0.05 ) 

                    atkc1_min: 0,   // atkc0 + 精煉ATK  + SpecialATK1 )
                    atkc1_max: 0,

                    atkc2_min: 0,   //(atkc1 x 體形修正 + 箭矢ATK)
                    atkc2_max: 0,

                    weaponatk_min: 0,
                    weaponatk_max: 0,
                    //(atkc2 x ( 1 + 怒暴20％ 或  致命塗毒25%(二選一)  x  屬性表 ) + 卡裝ATK))

                    atkequip_min: 0,
                    atkequip_max: 0,
                    //weaponatk_min x ( 1 + 種族ATK% ) x ( 1 + 體型ATK% ) x (1 + 屬性ATK% ) x ( 1 + 階級ATK% ) x ( 1 + 致命塗毒 )

                    atkbranch_min: 0,
                    atkbranch_max: 0,
                    //weaponatk_min x (霸氣ATK% + ATK% )
                    //x 對方( 1 - 體型減傷% ) x ( 1 - 階級減傷% ) x ( 1 - 攻擊屬性減傷% ) x ( 1 - 怪物屬性減傷% )
                    //+ 砲彈ATK

                    atkc4_min: 0,
                    atkc4_max: 0,
                    //weaponatk_min + atkbranch_min+SpecialATK2

                    atkc5_min: 0,
                    atkc5_max: 0,
                    //atkc4_max x 屬性倍率 x (1 + SpecialATK3) x (使用左手武器時 1 - 25%)
                    // + 素質ATK x 2+ 修煉ATK + 武器強悍

                    atkc6_min: 0,
                    atkc6_max: 0,
                    atkskillcritical: 0,  //技能暴擊 
                    //x 本身 ( 1 + 遠距增傷% ) x ( 1 +暴擊增傷卡裝% )
                    //x 對方為喵族 ( 1 + 10% )x 對方 ( 1 -  遠距減傷% ) x ( 1 - 種族減傷%) x ( 1 - 暴擊減傷%)

                    atkc7_min: 0,
                    atkc7_max: 0,
                    //x 本身( 技能倍率% x [戰斧颶風]的風屬性武器增傷125% + SpecialATK5)
                    //x ( 高階拳刃修練等級 x 2% + 10%)
                    //x 對方 ( ( 4000 + 後DEF ) ÷ ( 4000 + 10 x 後DEF ) ) - 前DEF

                    normalattack_min: 0,
                    normalattack_max: 0,
                    normalcritical: 0,
                    normalattack_DPS: 0,

                    atkc8_min: 0,// x ( 1 + 技能增傷的卡裝%) x ( 1 + 技能增傷的技能% )
                    atkc8_max: 0,

                    atkc9_min: 0,// x ( 1 + 技能增傷的卡裝%) x ( 1 + 技能增傷的技能% )
                    atkc9_max: 0,

                    atkmulti_min: 0,
                    atkmulti_max: 0,
                    atkmulti_DPS: 0,
                    /*
                    x ( 致命爪痕 1 + 250% (限定近距離物理攻擊))
                    x ( 天使之怒或天罰(效果不累加) 1 + 100% )
                    x ( 二刀連擊 1 + 100% )
                    x ( 潛擊 1 + 30%(BOSS型怪為15%) )
                    x (右手修練等級 x 10% + 50% 或 左手修練等級 x 10% + 30%)
                    x 對方(1 + 抵抗魔法等級 x 20% )
                    x 對方(1 - 鋼筋鐵骨等級 x 20% )
                    x 對方(1 - 金剛不壞 90% )
                    x 對方(1 - 俯身 90% )
                    */

                    SpecialMATK1: 0, // 特殊技能加值  技能倍率後 用加的  忍者符咒

                    weaponmatk_min: 0,  // statusmatk + (( 武器MATK + 精煉MATK ) x ( 1 -  武器等級 x 0.10 ))
                    weaponmatk_max: 0,  // statusmatk + (( 武器MATK + 精煉MATK ) x ( 1 +  武器等級 x 0.10 ))
                    equipmatk_min: 0,   // weaponmatk_min x (1 + 0.05 × 魔力增幅等級 ) + 卡裝MATK )
                    equipmatk_max: 0,
                    matkpercent_min: 0, // equipmatk_min x 本身( 1 + MATK增傷%)
                    matkpercent_max: 0,
                    finalmatk_min: 0,   // x ( 1 + 我方屬性增傷%) x ( 1 + 對方屬性增傷%) x ( 1+ 種族增傷%) x (1 + 體型增傷%)
                    finalmatk_max: 0,
                    matk1_min: 0,  // 對方為喵族 ( 1 + 10% ) x 對方(1 -  體型減傷%) x ( 1-  屬性減傷%) x ( 1 - 種族減傷%) x ( 1 -  階級減傷% )
                    matk1_max: 0,
                    skillmatk_min: 0,   //x 本身(技能倍率%)
                    skillmatk_max: 0,
                    matk2_min: 0,      //x 對方(1000+後MDEF) / (1000+10 x 後MDEF) - 前MDEF)
                    matk2_max: 0,
                    matk3_min: 0,       // x (1 + 技能增傷的卡裝%)  x (1 + 技能增傷的技能%)
                    matk3_max: 0,
                    matk4_min: 0,       // x 屬性倍率
                    matk4_max: 0,
                    matkmulti_min: 0,
                    matkmulti_max: 0,
                    matkmulti_min_DPS: 0,
                    matkmulti_max_DPS: 0,

                    /*
                    魔法最終傷害公式=
                    ((( INT + INT/2 + LUK/3 + BaseLv/4 + DEX/5 )
                    + (( 武器MATK + 精煉MATK ) x ( 1 ±  武器等級 x 0.10 ))
                    x (1 + 0.05 × 魔力增幅等級 ) + 卡裝MATK )
                    x 本身( 1 + MATK增傷%) x ( 1 + 我方屬性增傷%) x ( 1 + 對方屬性增傷%) x ( 1+ 種族增傷%) x (1 + 體型增傷%)
                    x 對方為喵族 ( 1 + 10% )
                    x 對方(1 -  體型減傷%) x ( 1-  屬性減傷%) x ( 1 - 種族減傷%) x ( 1 -  階級減傷% )
                    x 本身(技能倍率%)
                    x 對方(1000+後MDEF) / (1000+10 x 後MDEF) - 前MDEF)
                    x 屬性倍率
                    x (1 + 技能增傷的卡裝%)  x (1 + 技能增傷的技能%)
                    x ( 天使之怒或天罰(效果不累加) 1 + 100% )
                    x ( 潛擊 1 + 30%(BOSS型怪為15%) )
                    */

                    DragonBreathDMG: 0,
                    DragonBreathDMG_DPS: 0,
                    /*
                        (DOWN(HP/50)+DOWN(SP/4))*SLV*BLV/150*1.2
                        ｛〔（HP現值 / 50）+（MaxSP / 4）〕× 技能等級 × BaseLv /150 ×（0.95 + 龍騎術等級 × 0.05）
                        －（目標素質DEF + 目標裝備DEF）｝
                        ×（1 + 遠距攻擊力卡裝+%總和）
                        × 屬性表
                    */

                    CastTime: 0,    // 詠唱時間
                    DelayTime: 0,   // 獨延共延取最大
                    HitperSec: 0,   // 一秒可以打的次數 = 50 / ( 200 - ASPD)
                    AspdDelay: 0,   // 施展動作秒數 = ( 200 - ASPD) / 50
                },
                UIPanel: {
                    General: false,
                    CastDelay: false,
                    ATKCompute: false,
                    MATKCompute: false,
                    DragonBreathCompute: false,
                    SwordmanSkillPage: false,
                    MageSkillPage: false,
                    ArcherSkillPage: false,
                    BardDancerSkillPage: false,
                    MerchantSkillPage: false,
                    ThiefSkillPage: false,
                    AcolyteSkillPage: false,
                    TaekwonSkillPage: false,
                    StarEmperorSkillPage: false,
                    SoulReaperSkillPage: false,
                    KagerouOboroSkillPage: false,
                    SummonerSkillPage: false,
                    EquipSkillPage: false,
                    SpecialATKPage: false,

                    UpdateLogDialog: false,
                    SpecialthanksDialog: false,
                    StatusDBDialog: false,
                    SkillDBDialog: false,
                    EquipDBDialog: false,
                    EquipEffectDialog: false,
                    AllSetDBDialog: false,
                    QuickCalcDialog: false,

                    StatusPanel: true,
                    EnemyPanel: true,
                    SkillPanel: false,
                    ATKPanel: true,
                    MATKPanel: true,
                    DragonBreathPanel: true,
                },
            },
            methods: {
                TogglePanel(id) {
                    this.UIPanel[id] = !this.UIPanel[id];
                },
                ClosePanel(id) {
                    this.UIPanel[id] = false;
                },
                OpenPanel(id) {
                    this.UIPanel[id] = true;
                },
                CombineEquipsAttribute() {
                    this.effecttypelist.forEach(element => {
                        var result = 0;
                        if (element.id == 'FixedCastPercent') {
                            result = Enumerable.From(this.equipspartlist)
                                .Where("($.effectlist).some(function (x) { return x.EffectType.id == '" + element.id + "'; })")
                                .Select(function (x) {
                                    var xx = x.effectlist.filter(x => x.EffectType.id == (element.id.toString()))
                                    return Number(xx[0].EffectNumber);
                                })
                                .DefaultIfEmpty(0)
                                .Max();
                        } else {
                            result = Enumerable.From(this.equipspartlist)
                                .Where("($.effectlist).some(function (x) { return x.EffectType.id == '" + element.id + "'; })")
                                .Select(function (x) {
                                    var xx = x.effectlist.filter(x => x.EffectType.id == (element.id.toString()))
                                    return Number(xx[0].EffectNumber);
                                })
                                .Sum();
                        }
                        element.totalvalue = result;
                    });
                    this.onOption();
                    /*
                    //全身裝的 ATK 效果加總
                    //方法一
                    var idd = 'ATK'
                    var ef = Enumerable
                        .from(this.equipspartlist)
                        .where(function(e){ return e.effectlist.find(x=> x.EffectType.id == idd); })
                        //.select("value, index => value.effectlist.filter(x => x.EffectType.id == 'ATK')")
                        .select(function (x) {
                            var xx = x.effectlist.filter(x => x.EffectType.id == (element.id.toString()))
                            return Number(xx[0].EffectNumber);
                        })
                        .sum();
                    console.log(ef);
                    
                    //方法2 參考 https://stackoverflow.com/questions/33739726/linq-js-get-subitems
                    var result = Enumerable.from(this.equipspartlist)
                        .where("($.effectlist).some(function (x) { return x.EffectType.id == 'ATK'; })")
                        .select("Number($.effectlist[0].EffectNumber)")
                        .sum();

                    console.log("result:" + result);
                    */
                },
                AddEffect() {
                    if (this.effectdialogue.EffectNumber === '') { return; }

                    // 檢查已經存在該效果後覆蓋
                    if (this.equipspartlist[this.EquipSelectId].effectlist.length > 0) {
                        var index = this.equipspartlist[this.EquipSelectId].effectlist.findIndex(x => this.effectdialogue.EffectType.label === x.EffectType.label);

                        if (index > -1) {
                            this.equipspartlist[this.EquipSelectId].effectlist[index] = {
                                EffectNumber: Number(this.effectdialogue.EffectNumber),
                                EffectType: this.effectdialogue.EffectType
                            };
                            console.log("CoverEffect: " + this.equipspartlist[this.EquipSelectId].effectlist[index].EffectType + " /" + this.equipspartlist[this.EquipSelectId].effectlist[index].EffectNumber);

                            this.$set(this.equipspartlist[this.EquipSelectId].effectlist,
                                index,
                                {
                                    EffectNumber: Number(this.equipspartlist[this.EquipSelectId].effectlist[index].EffectNumber),
                                    EffectType: this.equipspartlist[this.EquipSelectId].effectlist[index].EffectType
                                })
                            this.effectdialogue.EffectNumber = '';
                            this.ClosePanel('EquipEffectDialog');
                            this.CombineEquipsAttribute();
                            return;
                        }
                    }
                    this.equipspartlist[this.EquipSelectId].effectlist.push({
                        EffectNumber: Number(this.effectdialogue.EffectNumber),
                        EffectType: this.effectdialogue.EffectType,
                    })
                    console.log("AddEffect: " + this.effectdialogue.EffectType + " /" + this.effectdialogue.EffectNumber);
                    this.effectdialogue.EffectNumber = '';
                    this.ClosePanel('EquipEffectDialog');
                    this.CombineEquipsAttribute();
                },
                RemoveEffect(eqindex, index) {
                    console.log("RemoveEffect: [" + eqindex + "] " + index);
                    //var index = this.equipspartlist[eqindex].indexOf(item)
                    if (index >= 0) {
                        this.equipspartlist[eqindex].effectlist.splice(index, 1)
                        this.CombineEquipsAttribute();
                    }
                },
                onSelectedDrug(item) {
                    console.log("onSelectedDrug " + item.label);
                },
                onSelectEffect(item) {
                    this.effectdialogue.EffectType = item;
                },
                OpenEffectDialogue(eqindex) {
                    this.UIPanel['EquipEffectDialog'] = true;
                    this.EquipSelectId = eqindex;
                    this.EquipSelectLabel = this.equipspartlist[eqindex].label;
                    this.EquipSelectEffect = this.equipspartlist[eqindex].effectlist;
                },
                CloseEffectDialogue() {
                    this.EquipSelectId = '';
                },
                ComputRefineATK() {
                    this.weapon.refineatk = this.weapon.refinelevel * this.weaponlevellist[this.weapon.level.id - 1].upgradeatk;
                    this.weapon.refinematk = this.weapon.refineatk;
                    this.subweapon.refineatk = this.subweapon.refinelevel * this.weaponlevellist[this.subweapon.level.id - 1].upgradeatk;
                    this.subweapon.refinematk = this.subweapon.refineatk;
                    if (this.weapon.refinelevel <= this.weaponlevellist[this.weapon.level.id - 1].saferefine) {
                        this.weapon.refineatk2 = 0;
                    }
                    else {
                        this.weapon.refineatk2 = (this.weapon.refinelevel - this.weaponlevellist[this.weapon.level.id - 1].saferefine)
                            * this.weaponlevellist[this.weapon.level.id - 1].overatk
                    }

                    if (this.weapon.type.id === 'Bows') {
                        this.weapon.refinematk = 0;
                        this.weapon.refineatk2 = 0;
                    }
                    this.weapon.refineatk = this.weapon.refineatk;
                    this.weapon.refinematk = this.weapon.refinematk + this.subweapon.refinematk;
                },
                onSelectedWeaponLevel(item) {
                    this.ComputRefineATK();
                },
                onSelectedWeaponType(item) {
                    this.ChangeWeapon();
                },
                ChangeWeapon() {
                    if (this.weapon.type.isTwohand) { this.subweapon.type = this.subhandtype[0]; }
                    if (this.weapon.type.id == 'Empty') {
                        this.weapon.level = this.weaponlevellist[0];
                        this.weapon.refinelevel = 0;
                        this.weapon.ATK = 0;
                        this.weapon.MATK = 0;
                        this.weapon.Weight = 0;
                    }
                    if (this.subweapon.type.id != 2) {
                        this.subweapon.level = this.weaponlevellist[0];
                        this.subweapon.refinelevel = 0;
                        this.subweapon.ATK = 0;
                        this.subweapon.MATK = 0;
                        this.weapon.ShieldWeight = 0;
                    }

                    this.ComputRefineATK();
                    this.ComputeSizefix();
                },
                onChangeRefineLevel() {
                    this.ComputRefineATK();
                },
                onStatusChange() {
                    //this.status.STR = eval(this.$refs.STRInput.value);
                    if (this.status.STR == '') this.status.STR = 0;
                    if (this.status.AGI == '') this.status.AGI = 0;
                    if (this.status.VIT == '') this.status.VIT = 0;
                    if (this.status.INT == '') this.status.INT = 0;
                    if (this.status.DEX == '') this.status.DEX = 0;
                    if (this.status.LUK == '') this.status.LUK = 0;
                    this.ComputStatus();
                },
                RaisingStats(str){
                    var _String = str+'';
                    var _Val = Number(_String.split('+',1)[0]);
                    var _Pt = 0;
                    for(i=1;i<_Val;i++){
                        if(i<100){
                            _Pt += Math.floor((i-1)/10)+2;
                        }else{
                            _Pt += 4*Math.floor((i-100)/5)+16;
                        }
                    }
                    return _Pt;
                },
                ComputStatus() {
                    try {
                        this.status_total.STR = Number(eval(this.status.STR)) + Number(this.status_add.STR);
                        this.status_total.AGI = Number(eval(this.status.AGI)) + Number(this.status_add.AGI);
                        this.status_total.VIT = Number(eval(this.status.VIT)) + Number(this.status_add.VIT);
                        this.status_total.INT = Number(eval(this.status.INT)) + Number(this.status_add.INT);
                        this.status_total.DEX = Number(eval(this.status.DEX)) + Number(this.status_add.DEX);
                        this.status_total.LUK = Number(eval(this.status.LUK)) + Number(this.status_add.LUK);

                        if( this.status.classid == null ) this.status.classid = 'AB';
                        var _ClassInfo;
                        _ClassInfo = Enumerable.From(this.classlist)
                                    .Where("$.id == '" + this.status.classid + "'")
                                    .Single();

                        this.computeattribute['TransSTR'] = this.status_total.STR;
                        var TempDEX = this.status_total.DEX;
                        if (this.weapon.type.id === 'Bows' || this.weapon.type.id === 'Instruments' || this.weapon.type.id === 'Whips' || this.weapon.type.id === 'Guns') {
                            this.computeattribute['TransSTR'] = this.status_total.DEX;
                            TempDEX = this.status_total.STR;
                        }
                        this.attritube['StatusATK'] = Math.floor(this.status.Level / 4 + this.computeattribute['TransSTR'] + TempDEX / 5 + this.status_total.LUK / 3);
                        this.attritube['StatusMATK'] = (
                            Math.floor(this.status_total.INT * 1.5) +
                            Math.floor(this.status_total.LUK / 3) +
                            Math.floor(this.status.Level / 4) +
                            Math.floor(this.status_total.DEX / 5)
                        );

                        this.attritube['CRI'] += 2.2 + this.status_total.LUK * 0.3;
                        if (this.weapon.id == 'Katars') this.attritube['CRI'] = this.attritube['CRI'] * 2;
                        this.attritube['CRI'] = Math.floor((this.attritube['CRI'] - this.enemyattribute.LUK * 0.2) * 100) / 100;
                        this.onSkillPercentChange();

                        if (_ClassInfo.TranscendentClass==false) this.status.Transcendent = false;
                        var _Pt = this.status.Transcendent? 100 : 100-52;
                        for(i=1;i<this.status.Level;i++)
                        {
                            if(i<100){
                                _Pt += Math.floor(i/5)+3;
                            }else if(i<=150){
                                _Pt += Math.floor(i/10)+13;
                            }else if(i>150){
                                _Pt += 28 + Math.floor((i-150)/7);
                            }
                        }
                        this.computeattribute['StatsPoint'] = _Pt;
                        this.computeattribute['RaisingStatsPoint'] = 
                            this.RaisingStats(this.status.STR)+this.RaisingStats(this.status.AGI)+this.RaisingStats(this.status.VIT)+
                            this.RaisingStats(this.status.INT)+this.RaisingStats(this.status.DEX)+this.RaisingStats(this.status.LUK);

                        
                        // over 100 level
                        var _BaseHP = 35, _BaseSP = 10;
                        _BaseHP += this.status.Level * this.HP_JOB_B;
                        for(i=2;i<=this.status.Level;i++)
                        {
                            _BaseHP += Math.round(this.HP_JOB_A * i);
                        }
                        // 3rd
                        if( this.status.Level >= 99 && this.status.Level <= 185 && _ClassInfo.TranscendentClass )
                        {
                            _BaseHP = _ClassInfo.basehp[Number(this.status.Level - 99)];
                            _BaseSP = _ClassInfo.basesp[Number(this.status.Level - 99)];
/*                             _BaseHP = Enumerable.From(this.classlist)
                                    .Where("$.id == '" + this.status.classid + "'")
                                    .Select("$.basehp[" + Number(this.status.Level - 99) + "]")
                                    .Single(); 
                            _BaseSP = Enumerable.From(this.classlist)
                                    .Where("$.id == '" + this.status.classid + "'")
                                    .Select("$.basesp[" + Number(this.status.Level - 99) + "]")
                                    .Single();
                                    */
                        }
                        var _MaxHP = _BaseHP;
                        var HP_MOD_A = this.attritube['HP'];
                        var HP_MOD_B = this.attritube['HPP'];
                        _MaxHP = Math.floor(_MaxHP * (this.status.Transcendent?1.25:1));
                        _MaxHP = Math.floor(_MaxHP * (100+this.status_total.VIT)/100);
                        _MaxHP += HP_MOD_A;
                        _MaxHP = Math.floor( _MaxHP );
                        _MaxHP = Math.floor( _MaxHP * (100+HP_MOD_B)/100 );
                        this.status.HP = _MaxHP; 
                        var _MaxSP = _BaseSP;
                        var SP_MOD_A = this.attritube['SP'];
                        var SP_MOD_B = this.attritube['SPP'];
                        _MaxSP = Math.floor(_MaxSP * (this.status.Transcendent?1.25:1));
                        _MaxSP = Math.floor(_MaxSP * (100+this.status_total.INT)/100);
                        _MaxSP += SP_MOD_A; 
                        _MaxSP = Math.floor( _MaxSP );
                        _MaxSP = Math.floor( _MaxSP * (100+SP_MOD_B)/100 );
                        this.status.SP = _MaxSP; 

                    } catch (e) {
                        console.log("ComputStatus error " + e);
                    }
                },
                getElementalPercent(attackelementalid, enemyelemental, enemyelementlevel) {
                    var count = this.elementtypelist.length;
                    var _base = attackelementalid * count;
                    var _enemy = enemyelemental;
                    var _level = (enemyelementlevel - 1) * count * count
                    var percent = this.elementalmap[_base + _enemy + _level];
                    return percent;
                },
                ComputElementalPercent() {
                    this.skilloption.ElementalPercent = this.getElementalPercent(
                        this.skilloption.AttackElementalIdx,
                        this.enemyattribute.elemental,
                        this.enemyattribute.elementallevel);
                    this.onOption();
                },
                ComputeSizefix() {
                    if (this.option.WeaponPerfection) {
                        this.computeattribute.sizefix = 100;
                    }
                    else if (this.option.Riding && this.weapon.type.id == 'Spears') {
                        this.computeattribute.sizefix = 100;
                    } else {
                        switch (this.enemyattribute.size) {
                            case 0:
                                this.computeattribute.sizefix = this.weapon.type.sizefix.small;
                                break;
                            case 1:
                                this.computeattribute.sizefix = this.weapon.type.sizefix.middle;
                                break;
                            case 2:
                                this.computeattribute.sizefix = this.weapon.type.sizefix.large;
                                break;
                        }
                    }
                    this.onOption();
                },
                ComputeCastDelay() {
                    var _MaxCastTime = 999;
                    var _StatusDI = (this.status_total.DEX * 2 + this.status_total.INT);
                    if (_StatusDI > 530) _StatusDI = 530;
                    this.computeattribute.CastTime =
                        this.skill.VCT * (1 - Math.sqrt(_StatusDI / 530)) * (1 + this.attritube['EQVCTP']/100) * (1 + this.attritube['SK1VCTP']/100) * (1 + this.attritube['SK2VCTP']/100) +
                        this.clamp((this.skill.FCT - (-this.attritube['FCT'])), 0, 999) * (1 - (-this.attritube['FCTP']) / 100);
                    this.computeattribute.CastTime = this.clamp(Math.floor(this.computeattribute.CastTime * 10000) / 10000, 0, _MaxCastTime);
                    this.computeattribute.DelayTime = Math.max(Math.floor(this.skill.GCD * (1 - (-this.attritube['GCD']) / 100) * 100) / 100,
                        this.skill.CD - (-this.attritube['CD']));
                    this.computeattribute.AspdDelay = Math.floor((200 - this.attritube.ASPD) / 50 * 100) / 100;
                    var _MAxDelay = Math.max(this.computeattribute.CastTime + this.computeattribute.DelayTime, this.computeattribute.AspdDelay);
                    this.computeattribute.HitperSec = Math.floor(1 / _MAxDelay * 100) / 100;
                },
                ComputeATKAtttibute() {

                    var para1 = this.computeattribute['TransSTR'] / 200;
                    var para2 = this.weapon.level.id * 0.05
                    this.computeattribute.atkc0_min = Math.floor(Number(this.weapon.ATK) * (1 + para1 - para2));
                    this.computeattribute.atkc0_max = Math.floor(Number(this.weapon.ATK) * (1 + para1 + para2));
                    if (this.option.MaximizePower) this.computeattribute.atkc0_min = this.computeattribute.atkc0_max;

                    var para3 = Number(this.weapon.refineatk) + this.computeattribute['SpecialATK1'];
                    var paraminirefineatk2 = this.weapon.refineatk2 > 0 ? 1 : 0;
                    this.computeattribute.atkc1_min = Number(this.computeattribute.atkc0_min) + para3 + Number(paraminirefineatk2);
                    this.computeattribute.atkc1_max = Number(this.computeattribute.atkc0_max) + para3 + Number(this.weapon.refineatk2);

                    if (this.computeattribute.sizefix < 100) {
                        this.computeattribute.atkc2_min = Math.floor(Number(this.computeattribute.atkc1_min) * (this.computeattribute.sizefix / 100));
                        this.computeattribute.atkc2_max = Math.floor(Number(this.computeattribute.atkc1_max) * (this.computeattribute.sizefix / 100));
                    }
                    else {
                        this.computeattribute.atkc2_min = Number(this.computeattribute.atkc1_min);
                        this.computeattribute.atkc2_max = Number(this.computeattribute.atkc1_max);
                    }
                    this.computeattribute.atkc2_min += Number(this.weapon.ArrowATK);
                    this.computeattribute.atkc2_max += Number(this.weapon.ArrowATK);

                    var para5 = 0; //屬性
                    if (this.option.MagnumBreak) { para5 = 1; }
                    else if (this.option.EnchantDeadlyPoison) { para5 = 5; }
                    var para5value = this.getElementalPercent(para5,
                        this.enemyattribute.elemental,
                        this.enemyattribute.elementallevel);
                    var para6 = Number(1) + (this.option.MagnumPoison2Value / 100) * (para5value / 100);
                    this.computeattribute.weaponatk_min = this.MulOper(this.computeattribute.atkc2_min, para6);
                    this.computeattribute.weaponatk_max = this.MulOper(this.computeattribute.atkc2_max, para6);

                    this.computeattribute.weaponatk_min += this.attritube['ATK'];
                    this.computeattribute.weaponatk_max += this.attritube['ATK'];

                    var para_race = Number(1) + Number(this.effecttypelist.find(x => x.id == 'RaceAtkPercent').totalvalue) / 100;
                    var para_size = Number(1) + Number(this.effecttypelist.find(x => x.id == 'SizeAtkPercent').totalvalue) / 100;
                    var para_elemt = Number(1) + Number(this.effecttypelist.find(x => x.id == 'ElementalAtkPercent').totalvalue) / 100;
                    var para_level = Number(1) + Number(this.effecttypelist.find(x => x.id == 'LevelAtkPercent').totalvalue) / 100;
                    var para_posion = Number(1) + (this.option.EnchantDeadlyPoison ? (Number(this.option.EnchantDeadlyPoisonPercent / 100)) : Number(0));
                    this.computeattribute.atkequip_min = this.MulOper(this.computeattribute.weaponatk_min, para_race);
                    this.computeattribute.atkequip_max = this.MulOper(this.computeattribute.weaponatk_max, para_race);
                    this.computeattribute.atkequip_min = this.MulOper(this.computeattribute.atkequip_min, para_size);
                    this.computeattribute.atkequip_max = this.MulOper(this.computeattribute.atkequip_max, para_size);
                    this.computeattribute.atkequip_min = this.MulOper(this.computeattribute.atkequip_min, para_elemt);
                    this.computeattribute.atkequip_max = this.MulOper(this.computeattribute.atkequip_max, para_elemt);
                    this.computeattribute.atkequip_min = this.MulOper(this.computeattribute.atkequip_min, para_level);
                    this.computeattribute.atkequip_max = this.MulOper(this.computeattribute.atkequip_max, para_level);
                    this.computeattribute.atkequip_min = this.MulOper(this.computeattribute.atkequip_min, para_posion);
                    this.computeattribute.atkequip_max = this.MulOper(this.computeattribute.atkequip_max, para_posion);

                    // 霸氣 ATK% 似乎不適用小於1進位
                    // 從MulOper改為Mathfloor 捨去
                    this.computeattribute.atkbranch_min = Math.floor(this.computeattribute.weaponatk_min * (this.attritube['ATKP']) / 100);
                    this.computeattribute.atkbranch_max = Math.floor(this.computeattribute.weaponatk_max * (this.attritube['ATKP']) / 100);

                    this.computeattribute.atkbranch_min = this.MulOper(this.computeattribute.atkbranch_min, Number(1) + Number(this.enemyattribute.sizeResist / 100));
                    this.computeattribute.atkbranch_max = this.MulOper(this.computeattribute.atkbranch_max, Number(1) + Number(this.enemyattribute.sizeResist / 100));
                    this.computeattribute.atkbranch_min = this.MulOper(this.computeattribute.atkbranch_min, Number(1) + Number(this.enemyattribute.levelResist / 100));
                    this.computeattribute.atkbranch_max = this.MulOper(this.computeattribute.atkbranch_max, Number(1) + Number(this.enemyattribute.levelResist / 100));
                    this.computeattribute.atkbranch_min = this.MulOper(this.computeattribute.atkbranch_min, Number(1) + Number(this.enemyattribute.elementalResist / 100));
                    this.computeattribute.atkbranch_max = this.MulOper(this.computeattribute.atkbranch_max, Number(1) + Number(this.enemyattribute.elementalResist / 100));
                    this.computeattribute.atkbranch_min = this.MulOper(this.computeattribute.atkbranch_min, Number(1) + Number(this.enemyattribute.moneletResist / 100));
                    this.computeattribute.atkbranch_max = this.MulOper(this.computeattribute.atkbranch_max, Number(1) + Number(this.enemyattribute.moneletResist / 100));

                    this.computeattribute.atkc4_min = this.computeattribute.atkequip_min + this.computeattribute.atkbranch_min + Number(this.computeattribute['SpecialATK2']);
                    this.computeattribute.atkc4_max = this.computeattribute.atkequip_max + this.computeattribute.atkbranch_max + Number(this.computeattribute['SpecialATK2']);

                    this.computeattribute.atkc5_min = this.MulOper(this.computeattribute.atkc4_min, Number(this.skilloption.ElementalPercent / 100));
                    this.computeattribute.atkc5_max = this.MulOper(this.computeattribute.atkc4_max, Number(this.skilloption.ElementalPercent / 100));

                    this.computeattribute.atkc5_min = this.MulOper(this.computeattribute.atkc5_min, Number(1) + Number(this.computeattribute['SpecialATK3'] / 100));
                    this.computeattribute.atkc5_max = this.MulOper(this.computeattribute.atkc5_max, Number(1) + Number(this.computeattribute['SpecialATK3'] / 100));

/*                     if (this.subweapon.type.id == 2) {
                        this.computeattribute.atkc5_min = this.MulOper(this.computeattribute.atkc5_min, Number(0.75));
                        this.computeattribute.atkc5_max = this.MulOper(this.computeattribute.atkc5_max, Number(0.75));
                    } */
                    var para7 = (this.subweapon.type.id == 2 ? Number(this.attritube['StatusATK']) : Number(this.attritube['StatusATK'] * 2));
                    var para7ele = 100;
                    if (this.enemyattribute.elemental == 8) {
                        para7ele = this.getElementalPercent(
                            0,
                            this.enemyattribute.elemental,
                            this.enemyattribute.elementallevel);
                    }
                    if (this.option.SevenWinde) {
                        para7ele = this.getElementalPercent(
                            this.skilloption.AttackElementalIdx,
                            this.enemyattribute.elemental,
                            this.enemyattribute.elementallevel);
                    }
                    para7 = this.MulOper(Number(para7), Number(para7ele / 100));
                    this.computeattribute.atkc5_min += Number(para7) + Number(this.skilloption.WeaponMasteryATK);
                    this.computeattribute.atkc5_max += Number(para7) + Number(this.skilloption.WeaponMasteryATK);

                    if (this.option.Kihop) {
                        var paraKihop = Number(1) + Number((this.option.PartyMemberCount - 1) * this.option.KihopLevel * 2 / 100);
                        this.computeattribute.atkc5_min = this.MulOper(this.computeattribute.atkc5_min, paraKihop);
                        this.computeattribute.atkc5_max = this.MulOper(this.computeattribute.atkc5_max, paraKihop);
                    }

                    if (this.option.SLSMiracle) {
                        paraSLSO = this.status.Level + this.status_total.DEX + this.status_total.LUK + this.status_total.STR;
                        paraSLSO = 1 + Math.floor(paraSLSO / 3) / 100;
                        this.computeattribute.atkc5_min = this.MulOper(this.computeattribute.atkc5_min, Math.floor(paraSLSO));
                        this.computeattribute.atkc5_max = this.MulOper(this.computeattribute.atkc5_max, Math.floor(paraSLSO));
                    }
                    else if (this.option.SLSOpposition) {
                        var paraSLSO;
                        switch (this.enemyattribute.size) {
                            case 0:
                            case 1:
                                paraSLSO = this.status.Level + this.status_total.DEX + this.status_total.LUK;
                                break;
                            case 2:
                                paraSLSO = this.status.Level + this.status_total.DEX + this.status_total.LUK + this.status_total.STR;
                                break;
                        }
                        paraSLSO = 1 + Math.floor(paraSLSO / 3) / 100;
                        this.computeattribute.atkc5_min = this.MulOper(this.computeattribute.atkc5_min, paraSLSO);
                        this.computeattribute.atkc5_max = this.MulOper(this.computeattribute.atkc5_max, paraSLSO);
                    }

                    //暴擊增傷
                    var para_crid = Number(1) + Number(this.attritube['CRIDP']) / 100;
                    if (this.skill.critical) {
                        this.computeattribute.atkskillcritical = this.MulOper(this.computeattribute.atkc5_max, para_crid);
                    }
                    this.computeattribute.atkc6_min = this.computeattribute.atkc5_min;
                    this.computeattribute.atkc6_max = this.computeattribute.atkc5_max;
                    this.computeattribute.normalattack_min = this.computeattribute.atkc5_min, para_crid;
                    this.computeattribute.normalattack_max = this.computeattribute.atkc5_max, para_crid;
                    this.computeattribute.normalcritical = this.MulOper(this.computeattribute.atkc5_max, para_crid);

                    //遠程增傷 技能移去後段
                    var para_ranged = Number(1) + Number(this.attritube['RNGDP']) / 100;
                    
                    if (this.skill.ranged ) {
                        this.computeattribute.atkc6_min = this.MulOper(this.computeattribute.atkc6_min, para_ranged);
                        this.computeattribute.atkc6_max = this.MulOper(this.computeattribute.atkc6_max, para_ranged);
                        this.computeattribute.atkskillcritical = this.MulOper(this.computeattribute.atkskillcritical, para_ranged);
                    }
                    
                    if (this.weapon.type.isRangedattack) {
                        this.computeattribute.normalattack_min = this.MulOper(this.computeattribute.normalattack_min, para_ranged);
                        this.computeattribute.normalattack_max = this.MulOper(this.computeattribute.normalattack_max, para_ranged);
                        this.computeattribute.normalcritical = this.MulOper(this.computeattribute.normalcritical, para_ranged);
                    }

                    //技能倍率 
                    var para_sk = Number(1) + Number(this.computeattribute['SpecialATK4'] / 100);
                    var para_na = Number(this.computeattribute['SpecialATK5']);
                    var para8 = this.MulOper(Math.floor(Number(this.option.SkillPercent)), para_sk) + Number(para_na); // 這邊不確定SpecialATK3跟 para8要 先乘再加 還是 先加再乘
                    para_na = Number(1) + Number(para_na / 100);
                    para8 = Number(para8 / 100);
                    this.computeattribute.atkc7_min = this.MulOper(this.computeattribute.atkc6_min, para8);
                    this.computeattribute.atkc7_max = this.MulOper(this.computeattribute.atkc6_max, para8);
                    this.computeattribute.atkskillcritical = this.MulOper(this.computeattribute.atkskillcritical, para8);
                    this.computeattribute.normalattack_min = this.MulOper(this.computeattribute.normalattack_min, para_na);
                    this.computeattribute.normalattack_max = this.MulOper(this.computeattribute.normalattack_max, para_na);
                    this.computeattribute.normalcritical = this.MulOper(this.computeattribute.normalcritical, para_na);
                    //高階拳刃修練
                    if (this.option.AdvancedKatarReserch) {
                        var paraAdvancedKatarReserchValue = Number(1) + Number(this.option.AdvancedKatarReserchValue / 100);
                        this.computeattribute.atkc7_min = this.MulOper(this.computeattribute.atkc7_min, paraAdvancedKatarReserchValue);
                        this.computeattribute.atkc7_max = this.MulOper(this.computeattribute.atkc7_max, paraAdvancedKatarReserchValue);
                        this.computeattribute.atkskillcritical = this.MulOper(this.computeattribute.atkskillcritical, paraAdvancedKatarReserchValue);
                        this.computeattribute.normalattack_min = this.MulOper(this.computeattribute.normalattack_min, paraAdvancedKatarReserchValue);
                        this.computeattribute.normalattack_max = this.MulOper(this.computeattribute.normalattack_max, paraAdvancedKatarReserchValue);
                        this.computeattribute.normalcritical = this.MulOper(this.computeattribute.normalcritical, paraAdvancedKatarReserchValue);
                    }
                    //敵方DEF
                    if (this.option.IgnoreDEF == false) {
                        var parabypassDEF = Number(1) - Number(this.attritube['BYPASSDEF']) / 100;
                        var paraDEF = ((4000 + this.MulOper(Number(this.enemyattribute.WeaponDEF), parabypassDEF)) /
                            (4000 + 10 * this.MulOper(Number(this.enemyattribute.WeaponDEF), parabypassDEF)));
                        this.computeattribute.enemydef = (paraDEF * 100).toFixed(2);
                        if (this.skill.transWeaponDEF) {
                            this.computeattribute.atkc7_min = this.computeattribute.atkc7_min - Number(this.enemyattribute.WeaponDEF) - Number(this.enemyattribute.StatusDEF);
                            this.computeattribute.atkc7_max = this.computeattribute.atkc7_max - Number(this.enemyattribute.WeaponDEF) - Number(this.enemyattribute.StatusDEF);
                            this.computeattribute.atkskillcritical = this.computeattribute.atkskillcritical - Number(this.enemyattribute.WeaponDEF) - Number(this.enemyattribute.StatusDEF);
                        } else {
                            this.computeattribute.atkc7_min = Math.floor(this.computeattribute.atkc7_min * paraDEF) - Number(this.enemyattribute.StatusDEF);
                            this.computeattribute.atkc7_max = Math.floor(this.computeattribute.atkc7_max * paraDEF) - Number(this.enemyattribute.StatusDEF);
                            this.computeattribute.atkskillcritical = Math.floor(this.computeattribute.atkskillcritical * paraDEF) - Number(this.enemyattribute.StatusDEF);
                        }
                        this.computeattribute.normalattack_min = Math.floor(this.computeattribute.normalattack_min * paraDEF) - Number(this.enemyattribute.StatusDEF);
                        this.computeattribute.normalattack_max = Math.floor(this.computeattribute.normalattack_max * paraDEF) - Number(this.enemyattribute.StatusDEF);
                        this.computeattribute.normalcritical = Math.floor(this.computeattribute.normalcritical * paraDEF) - Number(this.enemyattribute.StatusDEF);
                    }

                    this.computeattribute.atkc8_min = this.computeattribute.atkc7_min;
                    this.computeattribute.atkc8_max = this.computeattribute.atkc7_max;
                    var parasp6 = Number(this.computeattribute['SpecialATK6']);
                    this.computeattribute.atkc8_min += parasp6;
                    this.computeattribute.atkc8_max += parasp6;
                    this.computeattribute.atkskillcritical += parasp6;
                    this.computeattribute.normalattack_min += parasp6;
                    this.computeattribute.normalattack_max += parasp6;
                    this.computeattribute.normalcritical += parasp6;
                    if (this.subweapon.type.id == 2)
                    {
                        this.computeattribute.normalattack_min = Math.floor(this.computeattribute.normalattack_min* Number(this.computeattribute['SpecialRLHand'] / 100));
                        this.computeattribute.normalattack_max = Math.floor(this.computeattribute.normalattack_max* Number(this.computeattribute['SpecialRLHand'] / 100));
                        this.computeattribute.normalcritical = Math.floor(this.computeattribute.normalcritical* Number(this.computeattribute['SpecialRLHand'] / 100));
                    }

                    var _CRIRate = this.attritube['CRI'];
                    var _CRIRateN = this.clamp(100 - _CRIRate, 0, 100);
                    this.computeattribute.normalattack_DPS = Math.floor((this.computeattribute.normalattack_min + this.computeattribute.normalattack_max) / 2) * _CRIRateN / 100 +
                        this.computeattribute.normalcritical * _CRIRate;

                     // 技能遠傷
                     /* 
                    if (this.skill.ranged ) {
                        this.computeattribute.atkc8_min = this.MulOper(this.computeattribute.atkc8_min, para_ranged);
                        this.computeattribute.atkc8_max = this.MulOper(this.computeattribute.atkc8_max, para_ranged);
                        this.computeattribute.atkskillcritical = this.MulOper(this.computeattribute.atkskillcritical, para_ranged);
                    }  */
                    // 技能增傷裝
                    this.computeattribute.atkc8_min = this.MulOper(this.computeattribute.atkc8_min, Number(1) + Number(this.option.EquipSkillAddDamage / 100));
                    this.computeattribute.atkc8_max = this.MulOper(this.computeattribute.atkc8_max, Number(1) + Number(this.option.EquipSkillAddDamage / 100));
                    this.computeattribute.atkskillcritical = this.MulOper(this.computeattribute.atkskillcritical, Number(1) + Number(this.option.EquipSkillAddDamage / 100));


                    this.computeattribute.atkc9_min = this.computeattribute.atkc8_min;
                    this.computeattribute.atkc9_max = this.computeattribute.atkc8_max;
                    // 技能暴擊 *1.4
                    if (this.skill.critical) {
                        this.computeattribute.atkskillcritical = this.MulOper(this.computeattribute.atkskillcritical, Number(1) + Number(this.option.BaseCriticalValue / 100));
                    }

                    var _paradiv = this.skill.hitnumber;
                    if (_paradiv == 0) _paradiv = 1;
                    if (_paradiv < 0) {
                        _paradiv *= -1;
                        this.computeattribute.atkc9_min = Math.floor(this.computeattribute.atkc9_min / _paradiv);
                        this.computeattribute.atkc9_max = Math.floor(this.computeattribute.atkc9_max / _paradiv);
                    }
                    this.computeattribute.atkmulti_min = this.computeattribute.atkc9_min * _paradiv;
                    this.computeattribute.atkmulti_max = this.computeattribute.atkc9_max * _paradiv;
                    // 普攻暴擊 *1.4
                    this.computeattribute.normalcritical = this.MulOper(this.computeattribute.normalcritical, Number(1) + Number(this.option.BaseCriticalValue / 100));

                    var _CRIRate = this.attritube['CRI'];
                    var _CRIRateN = this.clamp(100 - _CRIRate, 0, 100);
                    this.computeattribute.normalattack_DPS = Math.floor((this.computeattribute.normalattack_min + this.computeattribute.normalattack_max) / 2) * _CRIRateN / 100 +
                        this.computeattribute.normalcritical * _CRIRate / 100;
                    this.computeattribute.normalattack_DPS = Math.floor(this.computeattribute.normalattack_DPS * this.computeattribute.HitperSec * 100) / 100;
                    if (this.weapon.type.id=='Katars') 
                        this.computeattribute.normalattack_DPS = Math.floor(this.computeattribute.normalattack_DPS*1.21*100) / 100;
                    this.computeattribute.atkmulti_DPS = Math.floor((this.computeattribute.atkmulti_min + this.computeattribute.atkmulti_max) / 2)
                    if (this.skill.critical) {
                        this.computeattribute.atkmulti_DPS = this.computeattribute.atkmulti_DPS * _CRIRateN / 100 +
                            this.computeattribute.atkskillcritical * _CRIRate / 100;
                    }
                    this.computeattribute.atkmulti_DPS = Math.floor(this.computeattribute.atkmulti_DPS * this.computeattribute.HitperSec * 100) / 100;

                },
                MulOper(value, percent) {
                    if (percent > 1) {
                        var _S = Math.round(value * (Number(percent) * 100));
                        var _L = Math.floor(_S / 100);
                        return _L;
                    }
                    if (percent < 1) {
                        var _S = Math.round(value * (Number(percent) * 100));
                        var _L = Math.ceil(_S / 100);
                        return _L;
                    }
                    return value * percent;
                },
                ComputeMATKAtttibute() {

                    var para1 = this.weapon.level.id * 0.1;
                    var paraminirefineatk2 = this.weapon.refineatk2 > 0 ? 1 : 0;
                    var floatmatk_min = (1 - para1);
                    var floatmatk_max = (1 + para1);
                    if (this.option.RECOGNIZEDSPELL) floatmatk_min = floatmatk_max;
                    this.computeattribute.weaponmatk_min = Number(this.attritube['StatusMATK']) +
                        Math.floor((Number(this.weapon.MATK) + Number(this.subweapon.MATK) + Number(this.weapon.refinematk)) * floatmatk_min) + Number(paraminirefineatk2);
                    this.computeattribute.weaponmatk_max = Number(this.attritube['StatusMATK']) +
                        Math.floor((Number(this.weapon.MATK) + Number(this.subweapon.MATK) + Number(this.weapon.refinematk)) * floatmatk_max) + Number(this.weapon.refineatk2);

                    var para2 = Number(1) + (this.option.MagicPower ? Number(this.option.MagicPowerValue / 100) : 0);
                    var para3 = this.attritube['MATK'];
                    this.computeattribute.equipmatk_min = this.MulOper(this.computeattribute.weaponmatk_min, para2) + para3;
                    this.computeattribute.equipmatk_max = this.MulOper(this.computeattribute.weaponmatk_max, para2) + para3;

                    //var para4 = Number(1) + Number(this.effecttypelist.find(x => x.id == 'MatkPercent').totalvalue / 100) +
                    //    Number(this.effecttypelist.find(x => x.id == 'LevelMatkPercent').totalvalue / 100);

                    var para4 = Number(1) + Number(this.attritube['MATKP'] / 100);
                    var para5 = Number(1) + Number(this.effecttypelist.find(x => x.id == 'LevelMatkPercent').totalvalue / 100);
                    this.computeattribute.matkpercent_min = this.MulOper(this.computeattribute.equipmatk_min, para4);
                    this.computeattribute.matkpercent_max = this.MulOper(this.computeattribute.equipmatk_max, para4);
                    this.computeattribute.matkpercent_min = this.MulOper(this.computeattribute.matkpercent_min, para5);
                    this.computeattribute.matkpercent_max = this.MulOper(this.computeattribute.matkpercent_max, para5);


                    var para_elemt = Number(1) + Number(this.effecttypelist.find(x => x.id == 'ElementalMatkPercent').totalvalue) / 100;
                    var para_magicelemt = Number(1) + Number(this.attritube['ElementalMagicPercent']) / 100;
                    var para_race = Number(1) + Number(this.effecttypelist.find(x => x.id == 'RaceMatkPercent').totalvalue) / 100;
                    var para_size = Number(1) + Number(this.effecttypelist.find(x => x.id == 'SizeMatkPercent').totalvalue) / 100;
                    this.computeattribute.finalmatk_min = this.MulOper(this.computeattribute.matkpercent_min, para_elemt);
                    this.computeattribute.finalmatk_max = this.MulOper(this.computeattribute.matkpercent_max, para_elemt);
                    this.computeattribute.finalmatk_min = this.MulOper(this.computeattribute.finalmatk_min, para_magicelemt);
                    this.computeattribute.finalmatk_max = this.MulOper(this.computeattribute.finalmatk_max, para_magicelemt);
                    this.computeattribute.finalmatk_min = this.MulOper(this.computeattribute.finalmatk_min, para_race);
                    this.computeattribute.finalmatk_max = this.MulOper(this.computeattribute.finalmatk_max, para_race);
                    this.computeattribute.finalmatk_min = this.MulOper(this.computeattribute.finalmatk_min, para_size);
                    this.computeattribute.finalmatk_max = this.MulOper(this.computeattribute.finalmatk_max, para_size);

                    this.computeattribute.matk1_min = this.MulOper(this.computeattribute.finalmatk_min, Number(1) + Number(this.enemyattribute.sizeResist / 100));
                    this.computeattribute.matk1_max = this.MulOper(this.computeattribute.finalmatk_max, Number(1) + Number(this.enemyattribute.sizeResist / 100));
                    this.computeattribute.matk1_min = this.MulOper(this.computeattribute.matk1_min, Number(1) + Number(this.enemyattribute.elementalResist / 100));
                    this.computeattribute.matk1_max = this.MulOper(this.computeattribute.matk1_max, Number(1) + Number(this.enemyattribute.elementalResist / 100));
                    this.computeattribute.matk1_min = this.MulOper(this.computeattribute.matk1_min, Number(1) + Number(this.enemyattribute.raceResist / 100));
                    this.computeattribute.matk1_max = this.MulOper(this.computeattribute.matk1_max, Number(1) + Number(this.enemyattribute.raceResist / 100));
                    this.computeattribute.matk1_min = this.MulOper(this.computeattribute.matk1_min, Number(1) + Number(this.enemyattribute.levelResist / 100));
                    this.computeattribute.matk1_max = this.MulOper(this.computeattribute.matk1_max, Number(1) + Number(this.enemyattribute.levelResist / 100));

                    if (this.skill.laterformula == false) {
                        this.option.SkillPercent = Math.floor(this.option.SkillPercent) + this.computeattribute.SpecialMATK1;
                        this.computeattribute.skillmatk_min = Math.floor(this.computeattribute.matk1_min * Number(this.option.SkillPercent / 100));
                        this.computeattribute.skillmatk_max = Math.floor(this.computeattribute.matk1_max * Number(this.option.SkillPercent / 100));
                    } else {
                        this.computeattribute.skillmatk_min = this.computeattribute.matk1_min;
                        this.computeattribute.skillmatk_max = this.computeattribute.matk1_max;
                    }

                    this.computeattribute.matk2_min = this.computeattribute.skillmatk_min;
                    this.computeattribute.matk2_max = this.computeattribute.skillmatk_max;
                    if (this.option.IgnoreMDEF == false) {
                        var parabypassMDEF = Number(1) - Number(this.attritube['BYPASSMDEF']) / 100;
                        var paraMDEF = ((1000 + this.MulOper(Number(this.enemyattribute.WeaponMDEF), parabypassMDEF)) /
                            (1000 + 10 * this.MulOper(Number(this.enemyattribute.WeaponMDEF), parabypassMDEF)));
                        this.computeattribute.enemymdef = (paraMDEF * 100).toFixed(2);
                        this.computeattribute.matk2_min = Math.floor(this.computeattribute.skillmatk_min * paraMDEF) - Number(this.enemyattribute.StatusMDEF);
                        this.computeattribute.matk2_max = Math.floor(this.computeattribute.skillmatk_max * paraMDEF) - Number(this.enemyattribute.StatusMDEF);
                    }

                    this.computeattribute.matk3_min = this.MulOper(this.computeattribute.matk2_min, Number(1) + Number(this.option.EquipSkillAddDamage / 100));
                    this.computeattribute.matk3_max = this.MulOper(this.computeattribute.matk2_max, Number(1) + Number(this.option.EquipSkillAddDamage / 100));

                    this.computeattribute.matk4_min = this.MulOper(this.computeattribute.matk3_min, Number(this.skilloption.ElementalPercent / 100));
                    this.computeattribute.matk4_max = this.MulOper(this.computeattribute.matk3_max, Number(this.skilloption.ElementalPercent / 100));

                    if (this.skill.laterformula == true) {
                        this.option.SkillPercent = Math.floor(this.option.SkillPercent);
                        this.computeattribute.matk4_min = Math.floor(this.computeattribute.matk4_min * Number(this.option.SkillPercent / 100));
                        this.computeattribute.matk4_max = Math.floor(this.computeattribute.matk4_max * Number(this.option.SkillPercent / 100));
                    } else {
                        this.computeattribute.matk4_min = this.computeattribute.matk4_min;
                        this.computeattribute.matk4_max = this.computeattribute.matk4_max;
                    }

                    if( this.option.SO_WATER_INSIGNIA_ENEMY ){
                        this.computeattribute.matk4_min = this.MulOper(this.computeattribute.matk4_min, Number(1.5));
                        this.computeattribute.matk4_max = this.MulOper(this.computeattribute.matk4_max, Number(1.5));
                    }

                    var _paradiv = this.skill.hitnumber;
                    if (_paradiv == 0) _paradiv = 1;
                    if (_paradiv < 0) {
                        _paradiv *= -1;
                        this.computeattribute.matk4_min = Math.floor(this.computeattribute.matk4_min / _paradiv);
                        this.computeattribute.matk4_max = Math.floor(this.computeattribute.matk4_max / _paradiv);
                    }

                    this.computeattribute.matkmulti_min = this.computeattribute.matk4_min * _paradiv;
                    this.computeattribute.matkmulti_max = this.computeattribute.matk4_max * _paradiv;
                    this.computeattribute.matkmulti_min_DPS = Math.floor(this.computeattribute.matkmulti_min * this.computeattribute.HitperSec * 100) / 100;
                    this.computeattribute.matkmulti_max_DPS = Math.floor(this.computeattribute.matkmulti_max * this.computeattribute.HitperSec * 100) / 100;


                    /*
                        weaponmatk_min: 0,  // statusmatk + (( 武器MATK + 精煉MATK ) x ( 1 -  武器等級 x 0.10 ))
                        weaponmatk_max: 0,  // statusmatk + (( 武器MATK + 精煉MATK ) x ( 1 +  武器等級 x 0.10 ))
                        equipmatk_min: 0,   // weaponmatk_min x (1 + 0.05 × 魔力增幅等級 ) + 卡裝MATK )
                        equipmatk_max: 0, 
                        matkpercent_min: 0, // equipmatk_min x 本身( 1 + MATK增傷%)
                        matkpercent_max: 0,
                        finalmatk_min: 0,   // x ( 1 + 我方屬性增傷%) x ( 1 + 對方屬性增傷%) x ( 1+ 種族增傷%) x (1 + 體型增傷%)
                        finalmatk_max: 0,
                        matk1_min: 0,  // 對方為喵族 ( 1 + 10% ) x 對方(1 -  體型減傷%) x ( 1-  屬性減傷%) x ( 1 - 種族減傷%) x ( 1 -  階級減傷% )
                        matk1_max: 0,
                        skillmatk_min: 0,   //x 本身(技能倍率%)
                        skillmatk_max: 0,
                        matk2_min: 0,      //x 對方(1000+後MDEF) / (1000+10 x 後MDEF) - 前MDEF)
                        matk2_max: 0,
                        matk3_min: 0,       // x 屬性倍率
                        matk3_max: 0,
                        matk4_min: 0,       // x (1 + 技能增傷的卡裝%)  x (1 + 技能增傷的技能%)
                        matk4_max: 0,
                    */

                },
                ComputeDRAGONBREATH() {

                    this.computeattribute.DragonBreathDMG = 1;
                    this.option.SkillPercent = Math.floor(this.option.SkillPercent) * 100;
                    this.computeattribute.DragonBreathDMG = Math.floor(this.computeattribute.DragonBreathDMG * Number(this.option.SkillPercent / 100));

                    if (this.option.IgnoreDEF == false) {
                        if (this.skill.transWeaponDEF) {
                            this.computeattribute.DragonBreathDMG = this.computeattribute.DragonBreathDMG - Number(this.enemyattribute.WeaponDEF) - Number(this.enemyattribute.StatusDEF);
                        }
                    }
                    //遠程增傷
                    var para_ranged = Number(1) + Number(this.attritube['RNGDP']) / 100;
                    if (this.skill.ranged) {
                        this.computeattribute.DragonBreathDMG = this.MulOper(this.computeattribute.DragonBreathDMG, para_ranged);
                    }
                    //屬性增傷
                    this.computeattribute.DragonBreathDMG = this.MulOper(this.computeattribute.DragonBreathDMG, Number(this.skilloption.ElementalPercent / 100));

                    this.computeattribute.DragonBreathDMG_DPS = Math.floor(this.computeattribute.DragonBreathDMG * this.computeattribute.HitperSec * 100) / 100;

                },
                onChangeEnemyStatus() {

                },
                onSelectEnemy(item) {
                    // 拿資料 傳值就好
                    //https://wcc723.github.io/javascript/2017/12/10/javascript-reference/
                    this.enemyattribute = Object.assign({}, item);
                    console.log("onSelectEnemy: " + this.enemyattribute.elemental);
                },
                onSkillPercentChange() {
                    if (this.skill.hitnumber == '') this.skill.hitnumber = 1;
                    if (this.skill.level == '') this.skill.level = 1;
                    var _formula = this.skill.formula;
                    if (this.status.level < 100) _formula = _formula.replace(new RegExp("BLV", "g"), "100");
                    this.option.SkillPercent = eval(this.SkillFormulaReplace(_formula));
                    this.ComputeCastDelay();
                    this.ClosePanel('ATKPanel');
                    this.ClosePanel('MATKPanel');
                    this.ClosePanel('DragonBreathPanel');
                    switch (this.skill.DamageTypeIdx) {
                        case 0:
                            this.ComputeATKAtttibute();
                            this.OpenPanel('ATKPanel');
                            break;
                        case 1:
                            this.ComputeMATKAtttibute();
                            this.OpenPanel('MATKPanel');
                            break;
                        case 2:
                            this.ComputeDRAGONBREATH();
                            this.OpenPanel('DragonBreathPanel');
                            break;
                    }
                },
                SkillFormulaReplace(f) {
                    for (x of this.KeywordReplaceList) {
                        f = f.toString().replace(new RegExp(x.str1, "g"), x.str2);
                    }
                    return f;
                },
                onSpecialATKChange() {
                    this.ComputeATKAtttibute();
                },
                ResetOption() {
                    this.option = Object.assign({}, this.option_init);
                    this.ComputeSizefix(); // 包含onOption
                },
                onOption() {
                    this.status_add = Object.assign({}, this.status_add_init);
                    this.attritube = Object.assign({}, this.attritube_init);

                    this.option.EquipSkillAddDamage = 0;
                    if (this.skilloption.WeaponMasteryATKInput == '') this.skilloption.WeaponMasteryATKInput = 0;
                    this.skilloption.WeaponMasteryATK = this.skilloption.WeaponMasteryATKInput;
                    this.computeattribute['SpecialATK1'] = 0;   // 打強 點穴
                    this.computeattribute['SpecialATK2'] = 0;   // 練習舞蹈 砲彈ATK
                    this.computeattribute['SpecialATK3'] = 0;   // 毒弱
                    this.computeattribute['SpecialATK4'] = 0;   // 戰斧風屬性倍率 
                    this.computeattribute['SpecialATK5'] = 0;   // 兇砍 狂怒之槍
                    this.computeattribute['SpecialATK6'] = 0;   // 靈氣劍
                    this.computeattribute['SpecialMATK1'] = 0;   // 忍者符

                    //雙手劍攻擊速度增加
                    if (this.option.TwoHandQuicken) {
                        if (this.weapon.type.id == 'TwoHandedSword') {
                            this.attritube['CRI'] += 12;
                            this.attritube['HIT'] += 20;
                            this.attritube['ASPDP'] += 40;
                        }
                    }
                    // 集中
                    if (this.option.Concentration) {
                        this.attritube['ATKP'] += 15;
                        this.attritube['HIT'] += 50;
                    }
                    if (this.option.AuraBlade) {
                        this.computeattribute['SpecialATK6'] += this.status.Level * (3 + 1 * 5);
                    }
                    // 狂怒之槍
                    if (this.option.Berserk) {
                        this.computeattribute['SpecialATK5'] += 200;
                    }
                    // 盾咒
                    if (this.option.ShieldSpell) {
                        this.attritube['ATK'] += this.option.ShieldDEF;
                    }
                    // 靈感
                    if (this.option.Inspiration) {
                        this.attritube['HIT'] += this.status.JOBLevel / 2;
                        this.attritube['ATK'] += this.status.JOBLevel * 3;
                        var _ad = this.status.Level / 10 + this.status.JOBLevel / 5;
                        this.status_add.STR += _ad;
                        this.status_add.AGI += _ad;
                        this.status_add.VIT += _ad;
                        this.status_add.INT += _ad;
                        this.status_add.DEX += _ad;
                        this.status_add.LUK += _ad;
                    }
                    // 怒暴
                    if (this.option.MagnumBreak) {
                        this.option.MagnumPoison2Value = this.option.MagnumBreakValue;
                        this.skilloption.AttackElementalIdx = 1;    //改變攻擊屬性 火
                    }
                    // 致毒
                    if (this.option.EnchantDeadlyPoison) {
                        this.option.MagnumPoison2Value = this.option.EnchantDeadlyPoisonValue;
                    }
                    if (this.option.MagnumBreak == false && this.option.EnchantDeadlyPoison == false) {
                        this.option.MagnumPoison2Value = 0;
                    }
                    if (this.option.AdrenalineRush) {
                        if (this.weapon.type.id == 'Axes' || this.weapon.type.id == 'Maces') {
                            this.attritube['ASPDP'] += 40;
                        }
                    }
                    if (this.option.VENOMIMPRESS) {
                        if (this.skilloption.AttackElementalIdx == 5) {
                            this.computeattribute['SpecialATK3'] += this.option.VENOMIMPRESSLevel * 10;
                        }
                    }
                    // 大聲吶喊
                    if (this.option.Loud) {
                        this.status_add.STR += 4;
                        this.attritube['ATK'] += 30;
                    }
                    // 兇砍
                    if (this.option.Overthrust) {
                        this.computeattribute['SpecialATK5'] += 5 * 5;
                    }
                    if (this.option.OverthrustParty) {
                        this.computeattribute['SpecialATK5'] += 5 * 3;
                    }
                    if (this.option.OverthrustMax) {
                        this.computeattribute['SpecialATK5'] += 5 * 20;
                    }
                    // 火山塵暴
                    if (this.option.Pyroclastic) {
                        this.attritube['ATK'] += Number(this.option.HomunculusLevel) + 10 * 10;
                    }
                    if (this.skill.cannon) {
                        this.computeattribute['SpecialATK2'] += this.weapon.BulletATK;
                    }
                    // 戰斧颶風
                    if (this.option.AxeTornado) {
                        if (this.skilloption.AttackElementalIdx == 3) {
                            this.computeattribute['SpecialATK4'] += 25;
                        }
                    }
                    // 心神
                    if (this.option.AttentionConcentrate) {
                        var _Dex = Math.floor(this.status_total.DEX * Number(this.option.AttentionConcentrateValue / 100));
                        this.status_add.DEX += _Dex;
                        var _Agi = Math.floor(this.status_total.AGI * Number(this.option.AttentionConcentrateValue / 100));
                        this.status_add.AGI += _Agi;
                    }
                    // 狙殺
                    if (this.option.TrueSight) {
                        this.status_add.STR += 5;
                        this.status_add.AGI += 5;
                        this.status_add.VIT += 5;
                        this.status_add.INT += 5;
                        this.status_add.DEX += 5;
                        this.status_add.LUK += 5;
                        this.attritube['CRI'] += 10;
                        this.computeattribute['SpecialATK5'] += 10 * 2;
                    }
                    if (this.option.UNLIMIT) {
                        this.attritube['RNGDP'] += this.option.UNLIMITLevel * 50 + 100;
                    }
                    // 練習舞蹈
                    if (this.option.MusicalDancingLesson) {
                        this.attritube['ATK'] += 3 * 10;
                    }
                    // 布萊奇
                    if (this.option.BA_POEMBRAGI) {
                        this.attritube['SK1VCTP'] += 2 * 10;
                        this.attritube['GCD'] += 3 * 10;
                    }
                    // 打強
                    if (this.option.Striking) {
                        this.attritube['CRI'] += this.option.StrikingLevel;
                        this.computeattribute['SpecialATK1'] += this.weapon.level.id * (this.option.StrikingLevel * 2 + 8) + this.option.EndowLevel_Total * 5;
                    }
                    // 紋章
                    if (this.option.SO_FIRE_INSIGNIA) {
                        if (this.skilloption.AttackElementalIdx == 1) {
                            this.attritube['MATK'] += 50;
                            this.attritube['ElementalMagicPercent'] += 25;
                        }
                    }
                    if (this.option.SO_WATER_INSIGNIA) {
                        if (this.skilloption.AttackElementalIdx == 2) {
                            this.attritube['ElementalMagicPercent'] += 25;
                        }
                    }
                    if (this.option.SO_WIND_INSIGNIA) {
                        if (this.skilloption.AttackElementalIdx == 3) {
                            this.attritube['ElementalMagicPercent'] += 25;
                        }
                    }
                    if (this.option.SO_EARTH_INSIGNIA) {
                        if (this.skilloption.AttackElementalIdx == 4) {
                            this.attritube['ElementalMagicPercent'] += 25;
                        }
                    }
                    if (this.option.SO_FIRE_INSIGNIA_ENEMY) {
                        if (this.skilloption.AttackElementalIdx == 1) {
                        }
                    }
                    if (this.option.SO_WATER_INSIGNIA_ENEMY) {
                        if (this.skilloption.AttackElementalIdx == 2) {
                        }
                    }
                    if (this.option.SO_WIND_INSIGNIA_ENEMY) {
                        if (this.skilloption.AttackElementalIdx == 3) {
                        }
                    }
                    if (this.option.SO_EARTH_INSIGNIA_ENEMY) {
                        if (this.skilloption.AttackElementalIdx == 4) {
                        }
                    }
                    // 加速
                    if (this.option.IncreaseAgility) {
                        this.status_add.AGI += 12;
                        this.attritube['ASPDP'] += this.option.IncreaseAgilityValue;
                    }
                    if (this.option.CANTOCANDIDUS) {
                        var jc = Math.floor(this.option.ABJobLevel / 10);
                        this.status_add.AGI += 12 + jc;
                        this.attritube['ASPDP'] += this.option.IncreaseAgilityValue;
                    }
                    // 天賜
                    if (this.option.Blessing) {
                        this.status_add.STR += 10;
                        this.status_add.INT += 10;
                        this.status_add.DEX += 10;
                        this.attritube['HIT'] += 20;
                    }
                    if (this.option.CREMENTIA) {
                        var jc = Math.floor(this.option.ABJobLevel / 10);
                        this.status_add.STR += 10 + jc;
                        this.status_add.INT += 10 + jc;
                        this.status_add.DEX += 10 + jc;
                        this.attritube['HIT'] += 20;
                    }
                    if (this.option.SpiritSpheres) {
                        this.skilloption.WeaponMasteryATK += this.option.SpiritSpheresCount * 3;
                    }
                    // 點穴
                    if (this.option.GentleTouchCharge) {
                        this.computeattribute['SpecialATK1'] += (this.status_total.STR / 2 + this.status_total.DEX / 4) * 5 / 5;
                        this.attritube['ASPDP'] += this.status_total.AGI * 5 / 60;
                        this.attritube['MDEF'] += 200 / this.status_total.INT * 5;
                    }
                    //犧牲祈福
                    if (this.option.Suffragium) {
                        this.attritube['SK1VCTP'] += 5 + this.option.SuffragiumLevel * 5;
                    }
                    //神威祈福
                    if (this.option.ImpositioManus) {
                        this.attritube['ATK'] += Number(this.option.ImpositioManusLevel) * 5;
                        this.attritube['MATK'] += Number(this.option.ImpositioManusLevel) * 5;
                    }
                    // 神聖殿堂
                    if (this.option.Basilica) {
                        if (this.skilloption.AttackElementalIdx == 6) {
                            this.attritube['ElementalMagicPercent'] += 15;
                        }
                    }
                    //聖典
                    if (this.option.SECRAMENT) {
                        this.attritube['FCTP'] = Math.max(this.attritube['FCTP'], 50);
                    }
                    //祈禱文
                    if (this.option.ORATIO) {
                        if (this.skilloption.AttackElementalIdx == 6) {
                            this.computeattribute['SpecialATK1'] += this.weapon.ATK * ((this.option.ORATIOLevel * 2) / 100);
                        }
                    }
                    //折枝
                    if (this.option.LAUDARAMUS) {
                        this.attritube['CRIDP'] += Number(this.option.LAUDARAMUSLevel) * 5;
                    }
                    if (this.option.EXPIATIO) {
                        this.attritube['BYPASSDEF'] += Number(this.option.EXPIATIOLevel) * 5;
                        this.attritube['BYPASSMDEF'] += Number(this.option.EXPIATIOLevel) * 5;
                    }
                    //融合
                    if (this.option.SLSFusion) {
                        this.skill.critical = true;
                    }
                    //靈魂
                    if (this.option.SOULCOLLECT) {
                        this.attritube['MATK'] += this.option.SoulCount * 3;
                    }
                    if (this.option.SOULSHADOW) {
                        this.attritube['CRI'] += 10 + 2 * 5;
                        this.attritube['ASPD'] += 3;
                    }
                    if (this.option.SOULFAIRY) {
                        this.attritube['MATK'] += 10 * 5;
                        this.attritube['EQVCTP'] += 10;
                    }
                    if (this.option.SOULFALCON) {
                        this.attritube['ATK'] += 10 * 5;
                        this.attritube['HIT'] += 15;
                    }
                    if (this.option.SOULGOLEM) {
                        this.attritube['DEF'] += 60 * 5;
                        this.attritube['MDEF'] += 15 + 5 * 5;
                    }
                    //念
                    if (this.option.NJ_NEN) {
                        this.status_add.STR += 5;
                        this.status_add.INT += 5;
                    }
                    //符
                    if (this.option.KO_KAHU_ENTEN) {
                        this.computeattribute['SpecialMATK1'] += this.option.KO_CharmCount * 20;
                    }
                    if (this.option.KO_HYOUHU_HUBUKI) {
                        this.computeattribute['SpecialMATK1'] += this.option.KO_CharmCount * 20;
                    }
                    if (this.option.KO_KAZEHU_SEIRAN) {
                        this.computeattribute['SpecialMATK1'] += this.option.KO_CharmCount * 20;
                    }
                    if (this.option.KO_DOHU_KOUKAI) {
                        this.computeattribute['SpecialATK1'] += Math.floor(this.weapon.ATK * (this.option.KO_CharmCount * 15) / 100);
                    }
                    //十六夜
                    if (this.option.KO_IZAYOI) {
                        this.attritube['MATK'] += Math.floor(this.status.JOBLevel / 2 * 5);
                        this.attritube['SK1VCTP'] += 50;
                        this.attritube['FCTP'] = Math.max(this.attritube['FCTP'], 100);
                    }
                    //上弦月
                    if (this.option.OB_ZANGETSU) {
                        this.attritube['ATK'] += Math.floor(this.status.Level / 3) + 5 * 20;
                        this.attritube['MATK'] += Math.floor(this.status.Level / 3) + 5 * 20;
                    }
                    if (this.option.KO_RIGHT) {
                        this.computeattribute['SpecialRLHand'] = 70 + this.option.KO_RIGHTLevel*10;
                        this.computeattribute['SpecialRLHand'] = 70;
                    }
                    if (this.option.KO_LEFT) {
                        this.computeattribute['SpecialRLHand'] = 50 + this.option.KO_LEFTLevel*10;
                        this.computeattribute['SpecialRLHand'] = 50;
                    }
                    //生命力量
                    if (this.option.PowerofLife) {
                        this.attritube['CRI'] += 20;
                        this.attritube['HIT'] += 20;
                        //this.attritube['FLEE'] += 20;
                        this.attritube['RNGDP'] += 20;
                    }
                    //大地力量
                    if (this.option.PowerofLand) {
                        this.attritube['MATKP'] += 20;
                    }
                    //喵喵/喵喵不休
                    if (this.option.MeowMeow) {
                        this.attritube['MATK'] += 100;
                    }

                    // 奧汀神力
                    if (this.option.OdinsPower && this.option.OdinsPowerLevel > 0) {
                        this.attritube['ATK'] += this.option.OdinsPowerLevel * 30 + 40;
                        this.attritube['MATK'] += this.option.OdinsPowerLevel * 30 + 40;
                        this.attritube['DEF'] -= this.option.OdinsPowerLevel * 20;
                        this.attritube['MDEF'] -= this.option.OdinsPowerLevel * 20;
                    }
                    // 魔劍士
                    if (this.option.MemoryofThanatosCard) {
                        this.attritube['ATK'] += this.enemyattribute.WeaponDEF / 2;
                        this.option.IgnoreDEF = true;
                    }

                    var _AllStatus = Number(this.effecttypelist.find(x => x.id == 'AllStatus').totalvalue);
                    this.status_add.STR += Number(this.effecttypelist.find(x => x.id == 'STR').totalvalue) + _AllStatus;
                    this.status_add.AGI += Number(this.effecttypelist.find(x => x.id == 'AGI').totalvalue) + _AllStatus;
                    this.status_add.VIT += Number(this.effecttypelist.find(x => x.id == 'VIT').totalvalue) + _AllStatus;
                    this.status_add.INT += Number(this.effecttypelist.find(x => x.id == 'INT').totalvalue) + _AllStatus;
                    this.status_add.DEX += Number(this.effecttypelist.find(x => x.id == 'DEX').totalvalue) + _AllStatus;
                    this.status_add.LUK += Number(this.effecttypelist.find(x => x.id == 'LUK').totalvalue) + _AllStatus;

                    this.attritube['HP'] += Number(this.effecttypelist.find(x => x.id == 'HP').totalvalue) + _AllStatus;
                    this.attritube['HPP'] += Number(this.effecttypelist.find(x => x.id == 'HPPercent').totalvalue) ;
                    this.attritube['SP'] += Number(this.effecttypelist.find(x => x.id == 'SP').totalvalue) + _AllStatus;
                    this.attritube['SPP'] += Number(this.effecttypelist.find(x => x.id == 'SPPercent').totalvalue) ;

                    this.attritube['ATK'] += Number(this.effecttypelist.find(x => x.id == 'Atk').totalvalue);
                    this.attritube['ATKP'] += Number(this.effecttypelist.find(x => x.id == 'AtkPercent').totalvalue);
                    this.attritube['MATK'] += Number(this.effecttypelist.find(x => x.id == 'Matk').totalvalue);
                    this.attritube['MATKP'] += Number(this.effecttypelist.find(x => x.id == 'MatkPercent').totalvalue);
                    this.attritube['CRI'] += Number(this.effecttypelist.find(x => x.id == 'Cri').totalvalue);
                    this.attritube['CRIDP'] += Number(this.effecttypelist.find(x => x.id == 'CriDamagePercent').totalvalue);
                    this.attritube['RNGDP'] += Number(this.effecttypelist.find(x => x.id == 'RangedDamagePercent').totalvalue);
                    this.attritube['BYPASSDEF'] += Number(this.effecttypelist.find(x => x.id == 'BypassDEFPercent').totalvalue);
                    if (this.attritube['BYPASSDEF'] > 100) this.attritube['BYPASSDEF'] = 100;
                    this.attritube['BYPASSMDEF'] += Number(this.effecttypelist.find(x => x.id == 'BypassMDEFPercent').totalvalue);
                    if (this.attritube['BYPASSMDEF'] > 100) this.attritube['BYPASSMDEF'] = 100;
                    this.attritube['ASPD'] += Number(this.effecttypelist.find(x => x.id == 'ASPD').totalvalue);
                    this.attritube['ASPD'] += Number(this.status.ASPD);
                    this.attritube['ASPDP'] += Number(this.effecttypelist.find(x => x.id == 'AspdPercent').totalvalue);
                    this.attritube['ASPDP'] = -Math.abs(this.attritube['ASPDP']);
                    this.attritube['FCTP'] = Math.max(this.attritube['FCTP'],
                        Number(this.effecttypelist.find(x => x.id == 'FixedCastPercent').totalvalue));
                    this.attritube['FCTP'] = -Math.abs(this.attritube['FCTP']);
                    this.attritube['FCT'] += Number(this.effecttypelist.find(x => x.id == 'FixedCast').totalvalue);
                    this.attritube['FCT'] = -1 * Math.abs(this.attritube['FCT']);
                    this.attritube['EQVCTP'] += Number(this.effecttypelist.find(x => x.id == 'VariableCastPercent').totalvalue);
                    this.attritube['EQVCTP'] = -1 * this.clamp(Math.abs(this.attritube['EQVCTP']), -100, 100);
                    this.attritube['SK1VCTP'] = -1 * this.clamp(Math.abs(this.attritube['SK1VCTP']), 0, 100);
                    this.attritube['SK2VCTP'] = Number(this.effecttypelist.find(x => x.id == 'SPSkillVariableCastPercent').totalvalue);
                    this.attritube['SK2VCTP'] = -1 * this.clamp(Math.abs(this.attritube['SK2VCTP']), 0, 100);
                    this.attritube['GCD'] += Number(this.effecttypelist.find(x => x.id == 'GCDPercent').totalvalue);
                    this.attritube['GCD'] = -Math.abs(this.attritube['GCD']);
                    this.attritube['CD'] = Number(this.effecttypelist.find(x => x.id == 'CDTime').totalvalue);
                    this.attritube['CD'] = -Math.abs(this.attritube['CD']);

                    this.attritube['WeaponATK'] = this.attritube['ATK'] + this.weapon.ATK + this.weapon.refineatk + this.subweapon.ATK;
                    this.attritube['WeaponMATK'] = this.attritube['MATK'] + this.weapon.MATK + this.weapon.refinematk + this.subweapon.MATK;
                    this.attritube['ElementalMagicPercent'] += Number(this.effecttypelist.find(x => x.id == 'ElementalMagicPercent').totalvalue);

                    this.option.EquipSkillAddDamage += Number(this.effecttypelist.find(x => x.id == 'SkillDamagePercent').totalvalue);

                    this.computeattribute['SpecialATK1'] += eval(this.SkillFormulaReplace(this.skill.SpecialATK1));
                    this.computeattribute['SpecialATK2'] += eval(this.SkillFormulaReplace(this.skill.SpecialATK2));
                    this.computeattribute['SpecialATK3'] += eval(this.SkillFormulaReplace(this.skill.SpecialATK3));
                    this.computeattribute['SpecialATK4'] += eval(this.SkillFormulaReplace(this.skill.SpecialATK4));
                    this.computeattribute['SpecialATK5'] += eval(this.SkillFormulaReplace(this.skill.SpecialATK5));
                    this.computeattribute['SpecialATK6'] += eval(this.SkillFormulaReplace(this.skill.SpecialATK6));
                    this.computeattribute['SpecialMATK1'] += eval(this.SkillFormulaReplace(this.skill.SpecialMATK1));

                    this.ComputStatus();
                },
                onOptionMagnumBreak() {
                    if (this.option.MagnumBreak) {
                        this.option.EnchantDeadlyPoison = false;
                    }
                    else {
                        if (this.skilloption.AttackElementalIdx == 1)
                            this.skilloption.AttackElementalIdx = 0;    //改變攻擊屬性 無
                    }
                    this.onOption();
                },
                onOptionEnchantDeadlyPoison() {
                    if (this.option.EnchantDeadlyPoison) {
                        this.option.MagnumBreak = false;
                    }
                    this.onOption();
                },
                onOptionBlessing(type) {
                    switch (type) {
                        case '1st': this.option.CREMENTIA = false; break;
                        case '3rd': this.option.Blessing = false; break;
                    }
                    this.onOption();
                },
                onOptionIncreaseAgility(type) {
                    switch (type) {
                        case '1st': this.option.CANTOCANDIDUS = false; break;
                        case '3rd': this.option.IncreaseAgility = false; break;
                    }
                    this.onOption();
                },
                onOptionOverthrust(type) {
                    switch (type) {
                        case 'Self': this.option.OverthrustParty = false; this.option.OverthrustMax = false; break;
                        case 'Party': this.option.Overthrust = false; this.option.OverthrustMax = false; break;
                        case 'Max': this.option.Overthrust = false; this.option.OverthrustParty = false; break;
                    }
                    this.onOption();
                },
                onSoulReaperSoul(type) {
                    switch (type) {
                        case 'SOULSHADOW': this.option.SOULFAIRY = false; this.option.SOULFALCON = false; this.option.SOULGOLEM = false; break;
                        case 'SOULFAIRY': this.option.SOULSHADOW = false; this.option.SOULFALCON = false; this.option.SOULGOLEM = false; break;
                        case 'SOULFALCON': this.option.SOULSHADOW = false; this.option.SOULFAIRY = false; this.option.SOULGOLEM = false; break;
                        case 'SOULGOLEM': this.option.SOULSHADOW = false; this.option.SOULFAIRY = false; this.option.SOULFALCON = false; break;
                    }
                    this.onOption();
                },
                onKOCharm(type) {
                    switch (type) {
                        case 'KO_KAHU_ENTEN': this.option.KO_HYOUHU_HUBUKI = false; this.option.KO_KAZEHU_SEIRAN = false; this.option.KO_DOHU_KOUKAI = false; break;
                        case 'KO_HYOUHU_HUBUKI': this.option.KO_KAHU_ENTEN = false; this.option.KO_KAZEHU_SEIRAN = false; this.option.KO_DOHU_KOUKAI = false; break;
                        case 'KO_KAZEHU_SEIRAN': this.option.KO_KAHU_ENTEN = false; this.option.KO_HYOUHU_HUBUKI = false; this.option.KO_DOHU_KOUKAI = false; break;
                        case 'KO_DOHU_KOUKAI': this.option.KO_KAHU_ENTEN = false; this.option.KO_HYOUHU_HUBUKI = false; this.option.KO_KAZEHU_SEIRAN = false; break;
                    }
                    this.onOption();
                },
                onChangeEquipName(epidx){
                    
                },
                onSaveEquip(epidx) {
                    if (this.equipspartlist[epidx].equipname.trim() == '') return;
                    this.StoreDB_Equip.unshift({
                        uuid: this._uuid(),
                        equip: Object.assign({},this.equipspartlist[epidx]),
                        date: Date.now(),
                        weapon: (epidx<2)?((epidx==0)?
                                    Object.assign({},this.weapon):
                                    Object.assign({},this.subweapon)):
                                    null
                    });
                    this.SaveEquipDB();
                },
                onClearEquipPart(idx) {
                    var _id = this.equipspartlist[idx].id;
                    var _label = this.equipspartlist[idx].label;
                    if (idx==0){
                        this.weapon = Object.assign({}, this.weapon_init);
                        this.ChangeWeapon();
                    }
                    if (idx==1){
                        this.subweapon = Object.assign({}, this.subweapon_init);
                        this.ChangeWeapon();
                    }
                    this.$set(this.equipspartlist,
                        idx,
                        {
                            id: _id,
                            label: _label,
                            equipname: '',
                            effectlist: [],
                        })
                    this.CombineEquipsAttribute();
                },
                onLoadEquipSave(uuid) {
                    var _dbidx = this.StoreDB_Equip.findIndex(x => x.uuid == uuid);
                    var idx = this.equipspartlist.findIndex(x => x.id == this.StoreDB_Equip[_dbidx].equip.id);
                    if (idx > -1) {
                        if (idx == 8 && this.equipspartlist[idx].equipname != '') { idx = 9; }
                        if (idx == 9 && this.equipspartlist[idx].equipname != '') { idx = 8; }
                        //this.equipspartlist[idx] = Object.assign({}, JSON.parse(JSON.stringify(this.StoreDB_Equip[_dbidx].equip)));
                        this.$set(this.equipspartlist,
                            idx,
                            {
                                id: this.StoreDB_Equip[_dbidx].equip.id,
                                label: this.StoreDB_Equip[_dbidx].equip.label,
                                equipname: this.StoreDB_Equip[_dbidx].equip.equipname,
                                effectlist: this.StoreDB_Equip[_dbidx].equip.effectlist.concat(),
                            })
                        this.CombineEquipsAttribute();
                    }
                    if (idx == 0 && this.StoreDB_Equip[_dbidx].weapon!=null){
                        this.weapon = Object.assign({},this.StoreDB_Equip[_dbidx].weapon);
                        this.ChangeWeapon();
                    }
                    if (idx == 1 && this.StoreDB_Equip[_dbidx].weapon!=null){
                        this.subweapon = Object.assign({},this.StoreDB_Equip[_dbidx].weapon);
                        this.ChangeWeapon();
                    }
                },
                onRemoveEquipSave(uuid) {
                    var _dbidx = this.StoreDB_Equip.findIndex(x => x.uuid == uuid);
                    if (_dbidx > -1) {
                        this.StoreDB_Equip.splice(_dbidx, 1)
                        this.SaveEquipDB();
                    }
                },
                onFliterEquipPart() {
                },
                onFliterEquipClear() {
                    this.StoreDB_EquipFliterGroup = [];
                },
                SaveEquipDB() {
                    const parsed = JSON.stringify(this.StoreDB_Equip);
                    localStorage.setItem('StoreDB_Equip', parsed);
                },
                onSaveStatus() {
                    // https://kanboo.github.io/2018/01/27/JS-ShallowCopy-DeepCopy/
                    // let copy = $.extend(true, {}, obj); //使用 jquery.extend
                    // JSON.parse(JSON.stringify(this.)) 
                    if (this.StatusName.trim() == '') return;
                    this.StoreDB_Status.unshift({
                        uuid: this._uuid(), name: this.StatusName
                        , statusstring: this.StatusBulidString
                        , classname: Enumerable.From(this.classlist).Where("$.id == '" + this.status.classid + "'").Select("$.label").Single()
                        , status: JSON.parse(JSON.stringify(this.status))
                    });
                    this.SaveStatusDB();
                },
                OpenStatusDBDialogDialogue() {
                    this.UIPanel['StatusDBDialog'] = true;
                    this.StatusBulidString = '';
                    for (const [key, value] of Object.entries(this.status)) {
                        this.StatusBulidString += key + ":" + value + "/";
                    }
                    this.StatusBulidString = this.StatusBulidString.slice(0, this.StatusBulidString.length - 1);
                },
                onLoadStatusSave(saveid) {
                    this.status = Object.assign({}, this.StoreDB_Status[saveid].status);
                    this.StatusName = this.StoreDB_Status[saveid].name;
                    if (this.status.ASPD == null) this.status.ASPD = 0;
                    if (this.status.HP == null) this.status.HP = 0;
                    if (this.status.SP == null) this.status.SP = 0;
                    if (this.status.Transcendent == null) this.status.Transcendent = false;
                    if (this.status.classid == null) this.status.classid = "AB";
                    this.onOption();
                    this.ClosePanel('StatusDBDialog');
                },
                onRemoveStatusSave(saveid) {
                    if (saveid > -1) {
                        this.StoreDB_Status.splice(saveid, 1)
                        this.SaveStatusDB();
                    }
                },
                SaveStatusDB() {
                    const parsed = JSON.stringify(this.StoreDB_Status);
                    localStorage.setItem('StoreDB_Status', parsed);
                },
                onQuickCalcInput() {
                    try {
                        this.QuickCalc.solution = eval(this.QuickCalc.formula);
                        this.StoreDB_QuickCalc.unshift({
                            uuid: this._uuid(),
                            formula: this.QuickCalc.formula,
                            solution: this.QuickCalc.solution,
                            remark: this.QuickCalc.remark
                        });
                        if (this.StoreDB_QuickCalc.length > 8)
                            this.StoreDB_QuickCalc.splice(this.StoreDB_QuickCalc.length - 1, 1);
                        const parsed = JSON.stringify(this.StoreDB_QuickCalc);
                        localStorage.setItem('StoreDB_QuickCalc', parsed);
                    } catch (e) {
                        this.QuickCalc.solution = "錯誤:" + e;
                    }
                },
                CloseSkillFormulaDialogue() {
                    if (this.skill.formula == '')
                        this.skill.formula = 0;
                },
                onSaveSkill() {
                    // https://kanboo.github.io/2018/01/27/JS-ShallowCopy-DeepCopy/
                    // let copy = $.extend(true, {}, obj); //使用 jquery.extend
                    // JSON.parse(JSON.stringify(this.)) 
                    if (this.skill.formula == '') { this.option.SkillFormulaError = "公式為空"; return; }
                    if (this.skill.name == '') { this.option.SkillFormulaError = "技能名為空"; return; }
                    if (this.skill.level < 1) this.skill.level = 1;
                    if (this.skill.hitnumber == '') this.skill.hitnumber = 0;
                    this.skill.elemental = this.skilloption.AttackElementalIdx;
                    this.option.SkillFormulaError = '';
                    try {
                        var _valid = eval(this.SkillFormulaReplace(this.skill.formula));
                        this.StoreDB_Skill.unshift({
                            uuid: this._uuid(),
                            skill: Object.assign({}, this.skill)
                        });
                        this.SaveSkillDB();
                    } catch (e) {
                        this.option.SkillFormulaError = "公式錯誤 " + e;
                    }
                },
                onLoadSkillDefault(saveid) {
                    this.skill = Object.assign({}, this.DefaultDB_Skill[saveid].skill);
                    this.LoadSkill();
                },
                onLoadSkillSave(saveid) {
                    this.skill = Object.assign({}, this.StoreDB_Skill[saveid].skill);
                    this.LoadSkill();
                },
                LoadSkill() {
                    if (this.skill.ranged == null) this.skill.ranged = false;
                    if (this.skill.critical == null) this.skill.critical = false;
                    if (this.skill.cannon == null) this.skill.cannon = false;
                    if (this.skill.transWeaponDEF == null) this.skill.transWeaponDEF = false;
                    if (this.skill.laterformula == null) this.skill.laterformula = false;
                    if (this.skill.VCT == null) this.skill.VCT = 0;
                    if (this.skill.FCT == null) this.skill.FCT = 0;
                    if (this.skill.CD == null) this.skill.CD = 0;
                    if (this.skill.GCD == null) this.skill.GCD = 0;
                    if (this.skill.SpecialATK1 == null) this.skill.SpecialATK1 = 0;
                    if (this.skill.SpecialATK2 == null) this.skill.SpecialATK2 = 0;
                    if (this.skill.SpecialATK3 == null) this.skill.SpecialATK3 = 0;
                    if (this.skill.SpecialATK4 == null) this.skill.SpecialATK4 = 0;
                    if (this.skill.SpecialATK5 == null) this.skill.SpecialATK5 = 0;
                    if (this.skill.SpecialATK6 == null) this.skill.SpecialATK6 = 0;
                    if (this.skill.SpecialMATK1 == null) this.skill.SpecialMATK1 = 0;
                    if (this.skill.DamageTypeIdx == null) this.skill.DamageTypeIdx = 0;
                    this.skilloption.AttackElementalIdx = this.skill.elemental;
                    this.onSkillPercentChange();
                    this.ClosePanel('SkillDBDialog');
                },
                onRemoveSkillSave(saveid) {
                    if (saveid > -1) {
                        this.StoreDB_Skill.splice(saveid, 1)
                        this.SaveSkillDB();
                    }
                },
                SaveSkillDB() {
                    const parsed = JSON.stringify(this.StoreDB_Skill);
                    localStorage.setItem('StoreDB_Skill', parsed);
                },
                onOpenAllSet(){
                    this.$set(this.TempAllSet, 'Name', '');
                    this.$set(this.TempAllSet, 'Equip', this.equipspartlist);
                    this.$set(this.TempAllSet, 'Weapon', this.weapon);
                    this.$set(this.TempAllSet, 'SubWeapon', this.subweapon);
                    this.$set(this.TempAllSet, 'Status', this.status);
                    this.$set(this.TempAllSet, 'SkillName', this.skill.name);
                    this.$set(this.TempAllSet, 'Skill', this.skill);
                    this.$set(this.TempAllSet, 'SkillOption', this.skilloption);
                    this.$set(this.TempAllSet, 'Option', this.option);
                    this.$set(this.TempAllSet, 'EnemyName', this.enemyattribute.name);
                    this.$set(this.TempAllSet, 'Enemy', this.enemyattribute);
                    this.$set(this.TempAllSet, 'Damage', 0);
                    this.$set(this.TempAllSet, 'DamageDPS', 0);
                    this.$set(this.TempAllSet, 'NormalAttackDPS', 0);
                    this.OpenPanel('AllSetDBDialog');
                    
                },
                onSaveAllSet(){
                    this.StoreDB_AllSet.unshift({
                        uuid: this._uuid(),
                        AllSet: this.TempAllSet,
                    });
                    const parsed = JSON.stringify(this.StoreDB_AllSet);
                    localStorage.setItem('StoreDB_AllSet', parsed);
                },
                onRemoveAllSetSave(dbidx){
                    if (dbidx > -1) {
                        this.StoreDB_AllSet.splice(dbidx, 1)
                        this.SaveStatusDB();
                        const parsed = JSON.stringify(this.StoreDB_AllSet);
                        localStorage.setItem('StoreDB_AllSet', parsed);
                    }
                },
                onLoadAllSetSave(_dbidx){
                    //this.equipspartlist[idx] = Object.assign({}, JSON.parse(JSON.stringify(this.StoreDB_Equip[_dbidx].equip)));
                    this.skill.name = this.StoreDB_AllSet[_dbidx].AllSet.SkillName;
                    for( eqi=0; eqi<this.equipspartlist.length; ++eqi){
                        this.$set(this.equipspartlist,
                            eqi,
                            {
                                id: this.equipspartlist[eqi].id,
                                label: this.equipspartlist[eqi].label,
                                equipname: this.StoreDB_AllSet[_dbidx].AllSet.Equip[eqi].equipname,
                                effectlist: this.StoreDB_AllSet[_dbidx].AllSet.Equip[eqi].effectlist.concat(),
                            })
                    }
                    this.weapon = Object.assign({}, this.StoreDB_AllSet[_dbidx].AllSet.Weapon);
                    if( this.weapon == null ) this.weapon = Object.assign({}, this.weapon_init);
                    this.subweapon = Object.assign({}, this.StoreDB_AllSet[_dbidx].AllSet.SubWeapon);
                    if( this.subweapon == null ) this.subweapon = Object.assign({}, this.subweapon_init);

                    this.status = Object.assign({}, this.StoreDB_AllSet[_dbidx].AllSet.Status);
                    this.skill = Object.assign({}, this.StoreDB_AllSet[_dbidx].AllSet.Skill);
                    this.skilloption = Object.assign({}, this.StoreDB_AllSet[_dbidx].AllSet.SkillOption);
                    //this.option = Object.assign({}, this.StoreDB_AllSet[_dbidx].AllSet.Option);
                    this.CombineEquipsAttribute();
                    this.ChangeWeapon();
                    this.enemyattribute.name = this.StoreDB_AllSet[_dbidx].AllSet.EnemyName;
                    this.enemyattribute = this.StoreDB_AllSet[_dbidx].AllSet.Enemy;

                },
                LoadDB() {
                    if (localStorage.getItem('StoreDB_Status')) {
                        try {
                            this.StoreDB_Status = JSON.parse(localStorage.getItem('StoreDB_Status'));
                        } catch (e) {
                            console.log("catch e:" + e);
                        }
                    }
                    if (localStorage.getItem('StoreDB_Equip')) {
                        try {
                            this.StoreDB_Equip = JSON.parse(localStorage.getItem('StoreDB_Equip'));
                            Enumerable.From(this.StoreDB_Equip).OrderBy(x => x.equip.id);
                        } catch (e) {
                            console.log("catch e:" + e);
                        }
                    }
                    if (localStorage.getItem('StoreDB_QuickCalc')) {
                        try {
                            this.StoreDB_QuickCalc = JSON.parse(localStorage.getItem('StoreDB_QuickCalc'));
                            Enumerable.From(this.StoreDB_QuickCalc).OrderBy(x => x.id);
                        } catch (e) {
                            console.log("catch e:" + e);
                        }
                    }
                    if (localStorage.getItem('TestMode')) {
                        try {
                            this.TestMode = JSON.parse(localStorage.getItem('TestMode'));
                        } catch (e) {
                            console.log("catch e:" + e);
                        }
                    }else{
                        const parsed = JSON.stringify(this.TestMode);
                        localStorage.setItem('TestMode', parsed);
                    }
                    if (localStorage.getItem('StoreDB_Skill')) {
                        try {
                            this.StoreDB_Skill = JSON.parse(localStorage.getItem('StoreDB_Skill'));
                        } catch (e) {
                            console.log("catch e:" + e);
                        }
                    }
                    if (localStorage.getItem('StoreDB_AllSet')) {
                        try {
                            this.StoreDB_AllSet = JSON.parse(localStorage.getItem('StoreDB_AllSet'));
                        } catch (e) {
                            console.log("catch e:" + e);
                        }
                    }
                    
/*                     for (let i=0; i<this.equipspartlist.length; i++) {
                        //this.equipspartlist[i].equipname = Object.assign({}, '111')
                    } */

                    this.DefaultDB_Skill.push(
                        { skill: { id: 'RK_DRAGONBREATH', name: '龍之氣息', level: 10, formula: '(DOWN(HP/50)+DOWN(SP/4))*SLV*BLV/150*1.2', DamageTypeIdx: 2, ranged: true, critical: false, cannon: false, transWeaponDEF: true, laterformula: false, hitnumber: 1, elemental: 0, FCT: 0.5, VCT: 2, CD: 0, GCD: 2, SpecialATK1: 0, SpecialATK2: 0, SpecialATK3: 0, SpecialATK4: 0, SpecialATK5: 0, SpecialATK6: 0, SpecialMATK1: 0, } },
                        { skill: { id: 'WL_CRIMSONROCK', name: '碧血隕石', level: 5, formula: '1300+SLV*300*BLV/100', DamageTypeIdx: 1, ranged: false, critical: false, cannon: false, transWeaponDEF: false, laterformula: false, hitnumber: -7, elemental: 1, FCT: 2, VCT: 5, CD: 5, GCD: 2, SpecialATK1: 0, SpecialATK2: 0, SpecialATK3: 0, SpecialATK4: 0, SpecialATK5: 0, SpecialATK6: 0, SpecialMATK1: 0, } },
                        { skill: { id: 'WL_EARTHSTRAIN', name: '地牛翻身', level: 5, formula: '(2000+SLV*100)*BLV/100', DamageTypeIdx: 1, ranged: false, critical: false, cannon: false, transWeaponDEF: false, laterformula: false, hitnumber: -10, elemental: 4, FCT: 2, VCT: 6, CD: 10, GCD: 1, SpecialATK1: 0, SpecialATK2: 0, SpecialATK3: 0, SpecialATK4: 0, SpecialATK5: 0, SpecialATK6: 0, SpecialMATK1: 0, } },
                        { skill: { id: 'WL_JACKFROST', name: '凍僵術(未結凍)', level: 5, formula: '(SLV*100+500)*BLV/150', DamageTypeIdx: 1, ranged: false, critical: false, cannon: false, transWeaponDEF: false, laterformula: false, hitnumber: -5, elemental: 2, FCT: 4, VCT: 1, CD: 0, GCD: 1, SpecialATK1: 0, SpecialATK2: 0, SpecialATK3: 0, SpecialATK4: 0, SpecialATK5: 0, SpecialATK6: 0, SpecialMATK1: 0, } },
                        { skill: { id: 'AB_ADORAMUS', name: '謳歌', level: 10, formula: '(330+SLV*70)*BLV/100', DamageTypeIdx: 1, ranged: false, critical: false, cannon: false, transWeaponDEF: false, laterformula: false, hitnumber: -10, elemental: 6, FCT: 0.5, VCT: 2, CD: 2.5, GCD: 0.5, SpecialATK1: 0, SpecialATK2: 0, SpecialATK3: 0, SpecialATK4: 0, SpecialATK5: 0, SpecialATK6: 0, SpecialMATK1: 0, } },
                        { skill: { id: 'GC_CROSSIMPACT', name: '十字斬', level: 5, formula: '(1000+SLV*100)*BLV/120', DamageTypeIdx: 0, ranged: false, critical: false, cannon: false, transWeaponDEF: false, laterformula: false, hitnumber: -7, elemental: 0, FCT: 0, VCT: 0, CD: 0, GCD: 0.5, SpecialATK1: 0, SpecialATK2: 0, SpecialATK3: 0, SpecialATK4: 0, SpecialATK5: 0, SpecialATK6: 0, SpecialMATK1: 0, } },
                        { skill: { id: 'GC_ROLLINGCUTTER', name: '迴旋刀刃', level: 5, formula: '(50+SLV*50)*BLV/100', DamageTypeIdx: 0, ranged: false, critical: false, cannon: false, transWeaponDEF: false, laterformula: false, hitnumber: 1, elemental: 0, FCT: 0, VCT: 0, CD: 0, GCD: 0.5, SpecialATK1: 0, SpecialATK2: 0, SpecialATK3: 0, SpecialATK4: 0, SpecialATK5: 0, SpecialATK6: 0, SpecialMATK1: 0, } },
                        { skill: { id: 'GC_CROSSRIPPERSLASHER', name: '迴旋十字斬', level: 5, formula: '(400+SLV*80)*BLV/100+10*AGI', DamageTypeIdx: 0, ranged: true, critical: false, cannon: false, transWeaponDEF: false, laterformula: false, hitnumber: 1, elemental: 0, FCT: 0, VCT: 0, CD: 0, GCD: 1, SpecialATK1: 0, SpecialATK2: 0, SpecialATK3: 0, SpecialATK4: 0, SpecialATK5: 0, SpecialATK6: 0, SpecialMATK1: 0, } },             
                        { skill: { id: 'RA_AIMEDBOLT', name: '瞄準標靶', level: 10, formula: '(500+SLV*20)*BLV/100', DamageTypeIdx: 0, ranged: true, critical: false, cannon: false, transWeaponDEF: false, laterformula: false, hitnumber: 5, elemental: 0, FCT: 1, VCT: 4, CD: 1, GCD: 2, SpecialATK1: 0, SpecialATK2: 0, SpecialATK3: 0, SpecialATK4: 0, SpecialATK5: 0, SpecialATK6: 0, SpecialMATK1: 0, } },
                        { skill: { id: 'SN_SHARPSHOOTING', name: '銳利射擊', level: 5, formula: '(150+200*SLV)*(BLV/100)', DamageTypeIdx: 0, ranged: true, critical: true, cannon: false, transWeaponDEF: false, laterformula: false, hitnumber: 1, elemental: 0, FCT: 0.5, VCT: 0.5, CD: 0, GCD: 0.5, SpecialATK1: 0, SpecialATK2: 0, SpecialATK3: 0, SpecialATK4: 0, SpecialATK5: 0, SpecialATK6: 0, SpecialMATK1: 0, } },
                        { skill: { id: 'RA_ARROWSTORM', name: '箭雨風暴', level: 10, formula: '(SLV*80+1000)*BLV/100', DamageTypeIdx: 0, ranged: true, critical: false, cannon: false, transWeaponDEF: false, laterformula: false, hitnumber: -3, elemental: 0, FCT: 0, VCT: 3.8, CD: 3.2, GCD: 0, SpecialATK1: 0, SpecialATK2: 0, SpecialATK3: 0, SpecialATK4: 0, SpecialATK5: 0, SpecialATK6: 0, SpecialMATK1: 0, } },
                        { skill: { id: 'LG_CANNONSPEAR', name: '加農砲攻擊', level: 5, formula: '(50+STR)*SLV*BLV/100', DamageTypeIdx: 0, ranged: true, critical: false, cannon: false, transWeaponDEF: false, laterformula: false, hitnumber: 1, elemental: 0, FCT: 0, VCT: 0, CD: 2, GCD: 0, SpecialATK1: 0, SpecialATK2: 0, SpecialATK3: 0, SpecialATK4: 0, SpecialATK5: 0, SpecialATK6: 0, SpecialMATK1: 0, } },
                        { skill: { id: 'LG_BANISHINGPOINT', name: '放逐攻擊', level: 10, formula: '(SLV*50+10*30)*BLV/100', DamageTypeIdx: 0, ranged: true, critical: false, cannon: false, transWeaponDEF: false, laterformula: false, hitnumber: 1, elemental: 0, FCT: 0, VCT: 0, CD: 0, GCD: 0, SpecialATK1: 0, SpecialATK2: 0, SpecialATK3: 0, SpecialATK4: 0, SpecialATK5: 0, SpecialATK6: 0, SpecialMATK1: 0, } },
                        { skill: { id: 'LG_EXEEDBREAK', name: '強化衝擊', level: 5, formula: '(SLV*100+(JLV*10)+(WLV*WGT*(BLV/100)))+100', DamageTypeIdx: 0, ranged: false, critical: true, cannon: false, transWeaponDEF: false, laterformula: false, hitnumber: 1, elemental: 0, FCT: 0, VCT: 7, CD: 0, GCD: 1, SpecialATK1: 0, SpecialATK2: 0, SpecialATK3: 0, SpecialATK4: 0, SpecialATK5: 0, SpecialATK6: 0, SpecialMATK1: 0, } },
                        { skill: { id: 'SO_PSYCHIC_WAVE', name: '超自然波', level: 5, formula: '(70*SLV+INT*3)*BLV/100', DamageTypeIdx: 1, ranged: false, critical: false, cannon: false, transWeaponDEF: false, laterformula: false, hitnumber: 1, elemental: 0, FCT: 0.6, VCT: 12, CD: 5, GCD: 1, SpecialATK1: 0, SpecialATK2: 0, SpecialATK3: 0, SpecialATK4: 0, SpecialATK5: 0, SpecialATK6: 0, SpecialMATK1: 0, } },
                        { skill: { id: 'SO_VARETYR_SPEAR', name: '聖槍刺擊', level: 10, formula: '(((5+5)*120)+SLV*(INT/2))*BLV/100', DamageTypeIdx: 1, ranged: false, critical: false, cannon: false, transWeaponDEF: false, laterformula: false, hitnumber: -3, elemental: 3, FCT: 1, VCT: 1, CD: 5, GCD: 1, SpecialATK1: 0, SpecialATK2: 0, SpecialATK3: 0, SpecialATK4: 0, SpecialATK5: 0, SpecialATK6: 0, SpecialMATK1: 0, } },
                        { skill: { id: 'SO_DIAMONDDUST', name: '鑽石星塵', level: 5, formula: '(1000+INT*SLV)*BLV/100', DamageTypeIdx: 1, ranged: false, critical: false, cannon: false, transWeaponDEF: false, laterformula: false, hitnumber: -5, elemental: 2, FCT: 0, VCT: 7, CD: 5, GCD: 1, SpecialATK1: 0, SpecialATK2: 0, SpecialATK3: 0, SpecialATK4: 0, SpecialATK5: 0, SpecialATK6: 0, SpecialMATK1: 0, } },
                        { skill: { id: 'SO_EARTHGRAVE', name: '大地墳場', level: 5, formula: '(1000+INT*SLV)*BLV/100', DamageTypeIdx: 1, ranged: false, critical: false, cannon: false, transWeaponDEF: false, laterformula: false, hitnumber: -3, elemental: 4, FCT: 1, VCT: 3, CD: 5, GCD: 1, SpecialATK1: 0, SpecialATK2: 0, SpecialATK3: 0, SpecialATK4: 0, SpecialATK5: 0, SpecialATK6: 0, SpecialMATK1: 0, } },
                        { skill: { id: 'SO_CLOUD_KILL', name: '雲殺', level: 5, formula: 'SLV*40*BLV/100', DamageTypeIdx: 1, ranged: false, critical: false, cannon: false, transWeaponDEF: false, laterformula: false, hitnumber: 1, elemental: 5, FCT: 0, VCT: 3.1, CD: 5, GCD: 1, SpecialATK1: 0, SpecialATK2: 0, SpecialATK3: 0, SpecialATK4: 0, SpecialATK5: 0, SpecialATK6: 0, SpecialMATK1: 0, } },
                        { skill: { id: 'SO_SPELLFIST', name: '魔力拳', level: 10, formula: '(SLV/2+10)*100', DamageTypeIdx: 1, ranged: false, critical: false, cannon: false, transWeaponDEF: false, laterformula: true, hitnumber: 1, elemental: 1, FCT: 0, VCT: 0, CD: 0, GCD: 0, SpecialATK1: 0, SpecialATK2: 0, SpecialATK3: 0, SpecialATK4: 0, SpecialATK5: 0, SpecialATK6: 0, SpecialMATK1: 0, } },
                        { skill: { id: 'MO_EXTREMITYFIST', name: '阿修羅霸凰拳', level: 5, formula: '(8+DOWN(SP/10))*100', DamageTypeIdx: 0, ranged: false, critical: false, cannon: false, transWeaponDEF: true, laterformula: false, hitnumber: 1, elemental: 0, FCT: 1, VCT: 2, CD: 0, GCD: 1, SpecialATK1: 0, SpecialATK2: 0, SpecialATK3: 0, SpecialATK4: 0, SpecialATK5: 0, SpecialATK6: 1000, SpecialMATK1: 0, } },
                        { skill: { id: 'MO_EXTREMITYFIST(over5)', name: '阿修羅霸凰拳(氣彈>5)', level: 5, formula: '(8+DOWN(SP/10))*100', DamageTypeIdx: 0, ranged: false, critical: false, cannon: false, transWeaponDEF: true, laterformula: false, hitnumber: 1, elemental: 0, FCT: 1, VCT: 2, CD: 0, GCD: 1, SpecialATK1: 0, SpecialATK2: 0, SpecialATK3: 0, SpecialATK4: 100, SpecialATK5: 0, SpecialATK6: 1000, SpecialMATK1: 0, } },
                        { skill: { id: 'SR_TIGERCANNON', name: '虎砲', level: 10, formula: 'DOWN((HP*(SLV*0.02+0.1)+SP*(SLV*0.01+0.05))/4)*(BLV/100)', DamageTypeIdx: 0, ranged: false, critical: false, cannon: false, transWeaponDEF: false, laterformula: false, hitnumber: 1, elemental: 0, FCT: 0, VCT: 2, CD: 5, GCD: 1, SpecialATK1: 0, SpecialATK2: 0, SpecialATK3: 0, SpecialATK4: 0, SpecialATK5: 0, SpecialATK6: 'SLV*240+ELV*40', SpecialMATK1: 0, } },
                        { skill: { id: 'SC_TRIANGLESHOT', name: '三角射擊', level: 10, formula: '(AGI/2*(SLV-1)+300)*BLV/120', DamageTypeIdx: 0, ranged: true, critical: false, cannon: false, transWeaponDEF: false, laterformula: false, hitnumber: -3, elemental: 0, FCT: 0, VCT: 1, CD: 0, GCD: 1, SpecialATK1: 0, SpecialATK2: 0, SpecialATK3: 0, SpecialATK4: 0, SpecialATK5: 0, SpecialATK6: 0, SpecialMATK1: 0, } },
                        { skill: { id: 'GN_CARTCANNON', name: '手推車加農砲', level: 5, formula: 'SLV*60+5*50*INT/40', DamageTypeIdx: 0, ranged: true, critical: false, cannon: true, transWeaponDEF: true, laterformula: false, hitnumber: 1, elemental: 0, FCT: 0, VCT: 3, CD: 0, GCD: 0.5, SpecialATK1: 0, SpecialATK2: 0, SpecialATK3: 0, SpecialATK4: 0, SpecialATK5: 0, SpecialATK6: 0, SpecialMATK1: 0, } },
                        { skill: { id: 'CG_ARROWVULCAN', name: '奧義箭亂舞', level: 10, formula: '(500+SLV*100)*BLV/100', DamageTypeIdx: 0, ranged: true, critical: false, cannon: false, transWeaponDEF: false, laterformula: false, hitnumber: -9, elemental: 0, FCT: 0.5, VCT: 1.5, CD: 1.5, GCD: 0.5, SpecialATK1: 0, SpecialATK2: 0, SpecialATK3: 0, SpecialATK4: 0, SpecialATK5: 0, SpecialATK6: 0, SpecialMATK1: 0, } },
                        { skill: { id: 'WM_SEVERE_RAINSTORM', name: '大暴雨(樂器/鞭子)', level: 5, formula: '(DEX+AGI)*(SLV/5)*BLV/100*1.666', DamageTypeIdx: 0, ranged: true, critical: false, cannon: false, transWeaponDEF: false, laterformula: false, hitnumber: 1, elemental: 0, FCT: 0.5, VCT: 3.5, CD: 7, GCD: 1, SpecialATK1: 0, SpecialATK2: 0, SpecialATK3: 0, SpecialATK4: 0, SpecialATK5: 0, SpecialATK6: 0, SpecialMATK1: 0, } },
                        { skill: { id: 'WM_SEVERE_RAINSTORM(bow)', name: '大暴雨(弓)', level: 5, formula: '(DEX+AGI)*(SLV/5)*BLV/100', DamageTypeIdx: 0, ranged: true, critical: false, cannon: false, transWeaponDEF: false, laterformula: false, hitnumber: 1, elemental: 0, FCT: 0.5, VCT: 3.5, CD: 7, GCD: 1, SpecialATK1: 0, SpecialATK2: 0, SpecialATK3: 0, SpecialATK4: 0, SpecialATK5: 0, SpecialATK6: 0, SpecialMATK1: 0, } },
                        { skill: { id: 'WM_METALICSOUND', name: '重金屬音樂', level: 10, formula: '(SLV*120+600)*BLV/100', DamageTypeIdx: 1, ranged: false, critical: false, cannon: false, transWeaponDEF: false, laterformula: false, hitnumber: -2, elemental: 0, FCT: 0, VCT: 3, CD: 4, GCD: 0, SpecialATK1: 0, SpecialATK2: 0, SpecialATK3: 0, SpecialATK4: 0, SpecialATK5: 0, SpecialATK6: 0, SpecialMATK1: 0, } },
                        { skill: { id: 'NJ_KOUENKA', name: '火炎花', level: 10, formula: '90', DamageTypeIdx: 1, ranged: false, critical: false, cannon: false, transWeaponDEF: false, laterformula: false, hitnumber: 10, elemental: 1, FCT: 1.4, VCT: 5.6, CD: 0, GCD: 0, SpecialATK1: 0, SpecialATK2: 0, SpecialATK3: 0, SpecialATK4: 0, SpecialATK5: 0, SpecialATK6: 0, SpecialMATK1: 0, } },
                        { skill: { id: 'KO_HUUMARANKA', name: '風魔飛鏢之飛舞', level: 5, formula: '(AGI+DEX)+150*SLV+500', DamageTypeIdx: 0, ranged: true, critical: false, cannon: false, transWeaponDEF: false, laterformula: false, hitnumber: -5, elemental: 0, FCT: 0, VCT: 1.8, CD: 3, GCD: 1, SpecialATK1: 0, SpecialATK2: 0, SpecialATK3: 0, SpecialATK4: 0, SpecialATK5: 0, SpecialATK6: 0, SpecialMATK1: 0, } },
                        { skill: { id: 'KO_BAKURETSU', name: '爆炸飛刀', level: 5, formula: '(50+DEX/4)*SLV*5*0.4*BLV/120+JLV*10', DamageTypeIdx: 0, ranged: true, critical: false, cannon: false, transWeaponDEF: true, laterformula: false, hitnumber: 1, elemental: 0, FCT: 0, VCT: 1.8, CD: 3, GCD: 1, SpecialATK1: 0, SpecialATK2: 0, SpecialATK3: 0, SpecialATK4: 0, SpecialATK5: 0, SpecialATK6: 0, SpecialMATK1: 0, } },
                        { skill: { id: 'KO_JYUMONJIKIRI', name: '幽冥十字斬(初次)', level: 5, formula: 'SLV*150*BLV/120', DamageTypeIdx: 0, ranged: true, critical: false, cannon: false, transWeaponDEF: false, laterformula: false, hitnumber: -2, elemental: 0, FCT: 0, VCT: 0, CD: 3, GCD: 0.5, SpecialATK1: 0, SpecialATK2: 0, SpecialATK3: 0, SpecialATK4: 0, SpecialATK5: 0, SpecialATK6: 0, SpecialMATK1: 0, } },
                        { skill: { id: 'KO_JYUMONJIKIRI(buff)', name: '幽冥十字斬(十字創傷)', level: 5, formula: 'SLV*150*BLV/120+BLV*SLV', DamageTypeIdx: 0, ranged: true, critical: false, cannon: false, transWeaponDEF: false, laterformula: false, hitnumber: -2, elemental: 0, FCT: 0, VCT: 0, CD: 3, GCD: 0.5, SpecialATK1: 0, SpecialATK2: 0, SpecialATK3: 0, SpecialATK4: 0, SpecialATK5: 0, SpecialATK6: 0, SpecialMATK1: 0, } },
                        { skill: { id: 'SJ_PROMINENCEKICK', name: '紅焰腳', level: 7, formula: '150+SLV*50', DamageTypeIdx: 0, ranged: false, critical: false, cannon: false, transWeaponDEF: false, laterformula: false, hitnumber: 1, elemental: 0, FCT: 0, VCT: 0, CD: 0, GCD: 0, SpecialATK1: 0, SpecialATK2: 0, SpecialATK3: 0, SpecialATK4: 0, SpecialATK5: 0, SpecialATK6: 0, SpecialMATK1: 0, } },
                        { skill: { id: 'SJ_SOLARBURST', name: '太陽爆炸', level: 10, formula: '(1000+SLV*220+*BLV/100', DamageTypeIdx: 0, ranged: false, critical: false, cannon: false, transWeaponDEF: false, laterformula: false, hitnumber: 1, elemental: 0, FCT: 0, VCT: 0, CD: 0, GCD: 0.5, SpecialATK1: 0, SpecialATK2: 0, SpecialATK3: 0, SpecialATK4: 0, SpecialATK5: 0, SpecialATK6: 0, SpecialMATK1: 0, } },        
                        { skill: { id: 'SJ_NEWMOONKICK', name: '朔月腳', level: 7, formula: '(600+SLV*100+(SLV>3)?100:0)*BLV/100', DamageTypeIdx: 0, ranged: false, critical: false, cannon: false, transWeaponDEF: false, laterformula: false, hitnumber: 1, elemental: 0, FCT: 1, VCT: 0, CD: 1, GCD: 0, SpecialATK1: 0, SpecialATK2: 0, SpecialATK3: 0, SpecialATK4: 0, SpecialATK5: 0, SpecialATK6: 0, SpecialMATK1: 0, } },
                        { skill: { id: 'SJ_FULLMOONKICK', name: '滿月腳', level: 10, formula: '(1100+SLV*100)*BLV/100', DamageTypeIdx: 0, ranged: false, critical: false, cannon: false, transWeaponDEF: false, laterformula: false, hitnumber: 1, elemental: 0, FCT: 0, VCT: 0, CD: 1, GCD: 0, SpecialATK1: 0, SpecialATK2: 0, SpecialATK3: 0, SpecialATK4: 0, SpecialATK5: 0, SpecialATK6: 0, SpecialMATK1: 0, } },
                        { skill: { id: 'SP_SPA', name: '艾斯帕', level: 5, formula: '(500+SLV*250)*BLV/100', DamageTypeIdx: 1, ranged: false, critical: false, cannon: false, transWeaponDEF: false, laterformula: false, hitnumber: 1, elemental: 0, FCT: 1, VCT: 0.5, CD: 0, GCD: 0, SpecialATK1: 0, SpecialATK2: 0, SpecialATK3: 0, SpecialATK4: 0, SpecialATK5: 0, SpecialATK6: 0, SpecialMATK1: 0, } },
                        { skill: { id: 'SP_SWHOO', name: '艾斯核', level: 7, formula: '(1100+SLV*200)*BLV/100', DamageTypeIdx: 1, ranged: false, critical: false, cannon: false, transWeaponDEF: false, laterformula: false, hitnumber: 1, elemental: 0, FCT: 1, VCT: 0.5, CD: 2, GCD: 0.5, SpecialATK1: 0, SpecialATK2: 0, SpecialATK3: 0, SpecialATK4: 0, SpecialATK5: 0, SpecialATK6: 0, SpecialMATK1: 0, } },
                        { skill: { id: 'SU_PICKYPECK', name: '小雞啄擊', level: 5, formula: 'DOWN((200+SLV*100)*2.2)', DamageTypeIdx: 0, ranged: true, critical: false, cannon: false, transWeaponDEF: false, laterformula: false, hitnumber: -5, elemental: 0, FCT: 0, VCT: 1, CD: 0, GCD: 1, SpecialATK1: 0, SpecialATK2: 0, SpecialATK3: 0, SpecialATK4: 0, SpecialATK5: 0, SpecialATK6: 0, SpecialMATK1: 0, } },
                        { skill: { id: 'SU_SV_STEMSPEAR', name: '獼猴桃梗槍', level: 5, formula: '700', DamageTypeIdx: 1, ranged: false, critical: false, cannon: false, transWeaponDEF: false, laterformula: false, hitnumber: 1, elemental: 0, FCT: 0.5, VCT: 2, CD: 1, GCD: 1, SpecialATK1: 0, SpecialATK2: 0, SpecialATK3: 0, SpecialATK4: 0, SpecialATK5: 0, SpecialATK6: 0, SpecialMATK1: 0, } },
                        { skill: { id: 'SU_CN_METEOR', name: '貓薄荷隕石', level: 5, formula: '200+SLV*100', DamageTypeIdx: 1, ranged: false, critical: false, cannon: false, transWeaponDEF: false, laterformula: false, hitnumber: -5, elemental: 0, FCT: 3, VCT: 4, CD: 5, GCD: 1, SpecialATK1: 0, SpecialATK2: 0, SpecialATK3: 0, SpecialATK4: 0, SpecialATK5: 0, SpecialATK6: 0, SpecialMATK1: 0, } },
                        //{ skill: { id: '', name:'', level: 0, formula: '', DamageTypeIdx:0, ranged: false, critical: false, cannon: false, transWeaponDEF: false, laterformula: false, hitnumber: 0, elemental: 0, FCT: 0, VCT: 0, CD: 0, GCD: 0, SpecialATK1: 0, SpecialATK2: 0, SpecialATK3: 0, SpecialATK4: 0, SpecialATK5: 0, SpecialATK6: 0, SpecialMATK1: 0,} },
                        //{ skill: { id: '', name:'', level: 0, formula: '', DamageTypeIdx:0, ranged: false, critical: false, cannon: false, transWeaponDEF: false, laterformula: false, hitnumber: 0, elemental: 0, FCT: 0, VCT: 0, CD: 0, GCD: 0, SpecialATK1: 0, SpecialATK2: 0, SpecialATK3: 0, SpecialATK4: 0, SpecialATK5: 0, SpecialATK6: 0, SpecialMATK1: 0,} },

                    );

                    this.enemylist.push(
                        { id: 0, name: '自訂', level: 1, hp: 0, LUK: 0, elemental: 0, elementallevel: 1, size: 0, StatusDEF: 0, WeaponDEF: 0, StatusMDEF: 0, WeaponMDEF: 0, sizeResist: 0, levelResist: 0, elementalResist: 0, moneletResist: 0, rangedResist: 0, raceResist: 0, criResist: 0, doram: false },
                        { id: 1, name: '蛋(10)', level: 10, hp: 0, LUK: 0, elemental: 0, elementallevel: 1, size: 1, StatusDEF: 5, WeaponDEF: 0, StatusMDEF: 2, WeaponMDEF: 0, sizeResist: 0, levelResist: 0, elementalResist: 0, moneletResist: 0, rangedResist: 0, raceResist: 0, criResist: 0, doram: false },
                        { id: 2410, name: '龍蛋(100)', level: 100, hp: 0, LUK: 0, elemental: 0, elementallevel: 1, size: 1, StatusDEF: 50, WeaponDEF: 90, StatusMDEF: 25, WeaponMDEF: 90, sizeResist: 0, levelResist: 0, elementalResist: 0, moneletResist: 0, rangedResist: 0, raceResist: 0, criResist: 0, doram: false },
                        { id: 2411, name: '龍蛋(150)', level: 150, hp: 0, LUK: 0, elemental: 0, elementallevel: 1, size: 1, StatusDEF: 75, WeaponDEF: 120, StatusMDEF: 37, WeaponMDEF: 120, sizeResist: 0, levelResist: 0, elementalResist: 0, moneletResist: 0, rangedResist: 0, raceResist: 0, criResist: 0, doram: false },
                        { id: 3213, name: '闇●盧恩騎士', level: 179, hp: 2448000, LUK: 60, elemental: 1, elementallevel: 4, size: 1, StatusDEF: 189, WeaponDEF: 400, StatusMDEF: 57, WeaponMDEF: 200, sizeResist: 0, levelResist: 0, elementalResist: 0, moneletResist: 0, rangedResist: 0, raceResist: 0, criResist: 0, doram: false },
                        { id: 3208, name: '闇●十字斬首者', level: 179, hp: 2380000, LUK: 80, elemental: 5, elementallevel: 4, size: 1, StatusDEF: 119, WeaponDEF: 160, StatusMDEF: 62, WeaponMDEF: 100, sizeResist: 0, levelResist: 0, elementalResist: 0, moneletResist: 0, rangedResist: 0, raceResist: 0, criResist: 0, doram: false },
                        { id: 3230, name: '闇●魅影追蹤者', level: 178, hp: 2040000, LUK: 50, elemental: 5, elementallevel: 4, size: 1, StatusDEF: 119, WeaponDEF: 160, StatusMDEF: 57, WeaponMDEF: 100, sizeResist: 0, levelResist: 0, elementalResist: 0, moneletResist: 0, rangedResist: 0, raceResist: 0, criResist: 0, doram: false },
                        { id: 2996, name: '席琳基米', level: 150, hp: 66666666, LUK: 166, elemental: 8, elementallevel: 1, size: 2, StatusDEF: 102, WeaponDEF: 479, StatusMDEF: 151, WeaponMDEF: 444, sizeResist: 0, levelResist: 0, elementalResist: 0, moneletResist: 0, rangedResist: 0, raceResist: 0, criResist: 0, doram: false },
                        { id: 2476, name: '闇答萊屍', level: 150, hp: 4290000, LUK: 20, elemental: 9, elementallevel: 4, size: 2, StatusDEF: 120, WeaponDEF: 30, StatusMDEF: 159, WeaponMDEF: 40, sizeResist: 0, levelResist: 0, elementalResist: 0, moneletResist: 0, rangedResist: 0, raceResist: 0, criResist: 0, doram: false },
                        { id: 3150, name: '覺醒闇答萊屍', level: 180, hp: 42900000, LUK: 20, elemental: 9, elementallevel: 4, size: 2, StatusDEF: 135, WeaponDEF: 30, StatusMDEF: 174, WeaponMDEF: 40, sizeResist: 0, levelResist: 0, elementalResist: 0, moneletResist: 0, rangedResist: 0, raceResist: 0, criResist: 0, doram: false },
                        { id: 10, name: '歐內斯特 斯特凡˙傑克', level: 160, hp: 20000000, LUK: 43, elemental: 9, elementallevel: 1, size: 2, StatusDEF: 88, WeaponDEF: 146, StatusMDEF: 54, WeaponMDEF: 30, sizeResist: 0, levelResist: 0, elementalResist: 0, moneletResist: 0, rangedResist: 0, raceResist: 0, criResist: 0, doram: false },
                        { id: 11, name: '米古爾', level: 115, hp: 8600000, LUK: 85, elemental: 3, elementallevel: 4, size: 1, StatusDEF: 71, WeaponDEF: 216, StatusMDEF: 45, WeaponMDEF: 95, sizeResist: 0, levelResist: 0, elementalResist: 0, moneletResist: 0, rangedResist: 0, raceResist: 0, criResist: 0, doram: false },
                        { id: 12, name: '噩夢小丑皇', level: 189, hp: 2100000000, LUK: 0, elemental: 5, elementallevel: 4, size: 2, StatusDEF: 0, WeaponDEF: 200, StatusMDEF: 0, WeaponMDEF: 400, sizeResist: 0, levelResist: 0, elementalResist: 0, moneletResist: 0, rangedResist: 0, raceResist: 0, criResist: 0, doram: false },
                        
                    );

                    this.KeywordReplaceList.push(
                        { str1: 'STR', str2: 'this.status_total.STR', description: '代入總STR' },
                        { str1: 'AGI', str2: 'this.status_total.AGI', description: '代入總AGI' },
                        { str1: 'VIT', str2: 'this.status_total.VIT', description: '代入總VIT' },
                        { str1: 'INT', str2: 'this.status_total.INT', description: '代入總INT' },
                        { str1: 'DEX', str2: 'this.status_total.DEX', description: '代入總DEX' },
                        { str1: 'LUK', str2: 'this.status_total.LUK', description: '代入總LUK' },
                        { str1: 'BLV', str2: 'this.status.Level', description: '代入角色基本等級' },
                        { str1: 'JLV', str2: 'this.status.JOBLevel', description: '代入角色職業等級' },
                        { str1: 'HP', str2: 'this.status.HP', description: '代入HP' },
                        { str1: 'SP', str2: 'this.status.SP', description: '代入SP' },
                        { str1: 'SLV', str2: 'this.skill.level', description: '代入技能等級' },
                        { str1: 'WLV', str2: 'this.weapon.level.id', description: '代入武器等級' },
                        { str1: 'WGT', str2: 'this.weapon.Weight', description: '代入武器重量' },
                        { str1: 'SHW', str2: 'this.weapon.ShieldWeight', description: '代入盾牌重量' },
                        { str1: 'ELV', str2: 'this.enemyattribute.level', description: '代入敵方等級' },
                        { str1: 'MUL', str2: 'this.MulOper', description: 'MUL(A,B)為A*B, B若>1則無條件捨去, B若<1則無條件進位' },
                        { str1: 'DOWN', str2: 'Math.floor', description: 'DOWN(A) 小數點無條件捨去' },
                        { str1: 'UP', str2: 'Math.ceil', description: 'UP(A) 小數點無條件進位' },
                    );

                    this.UpdateLogList.push(
                        { id: '2020-4-29', content: '增加三轉職業HP/SP計算<br>裝備效果增加HP、HP%、SP、SP%<br>調整素質區塊/素質清單樣式<br>增加技能清單 爆炸飛刀/幽冥十字斬(十字創傷)<br>整頁儲存測試中' },
                        { id: '2020-4-7', content: '修正對念屬性敵方的傷害計算<br>調整技能遠傷的位置<br>增加技能清單 紅焰腳/太陽爆炸/朔月腳/艾斯帕' },
                        { id: '2020-4-1', content: '素質點計算增加轉生按鈕(未轉生少52點)<br>修正裝備變詠固詠會超過上限會錯誤的問題<br>增加敵方資料<br>調整技能區塊顯示' },
                        { id: '2020-3-24', content: '修正白字普攻傷害部分情況會錯誤的問題<br>修正手推車加農砲設定現在為遠傷<br>修正三角射擊攻擊次數現在為-3' },
                        { id: '2020-3-18', content: '修正副手Matk不被計算的BUG' },
                        { id: '2020-3-15A', content: '修正不清空就儲存裝備會導致存檔被覆蓋的BUG<br/>增加一般計算遊戲內後Atk/Matk面板顯示的數值，方便檢查裝備填寫錯誤<br/>增加武器為拳刃時左手的計算(普攻/普爆/普DPS)<br/>增加技能清單 十字斬/迴旋刀刃/迴旋十字斬<br/>調整技能清單樣式' },
                        { id: '2020-3-14', content: '增加計算可用/已用素質點<br/>增加部分UI折疊功能<br/>增加技能清單 風魔飛鏢之飛舞/幽冥十字斬' },
                        { id: '2020-3-10', content: '增加武器儲存<br/>調整武器欄位位置、增加副手裝備設定' },
                        { id: '2020-3-8', content: '修改傷害計算顯示方式<br/>技能欄位增加傷害類型 (物理/魔法/龍息)<br/>增加技能清單 龍之氣息/謳歌/魔力拳/重金屬音樂/小雞啄擊/獼猴桃梗槍/貓薄荷隕石<br/>增加技能額外選項 多蘭族召喚師' },
                        { id: '2020-3-3', content: '修改素質/技能清單樣式<br/>增加技能清單預設技能<br/>增加素質欄位HPSP<br/>增加敵方欄位Level<br/>增加公式關鍵字 HP/SP/ELV<br/>增加更新列表' },
                        { id: '2020-3-1', content: '增加額外技能選項 影狼&朧 詩舞分類<br/>增加詠唱&延遲計算<br/>增加暴率&DPS計算<br/>增加素質欄ASPD、裝備效果變詠設定<br/>修改技能清單樣式' },
                        { id: '2020-2-10', content: '修改裝備技能倍率增傷的輸入方式 改由裝備效果增加<br/>裝備效果增加技能增傷%<br/>增加額外技能選項 劍士分類 靈感<br/>增加額外技能選項 服事分類 神聖殿堂(僅法傷)' },
                        { id: '2020-1-4', content: '修正法傷技能增傷跟屬性倍率的順序<br/>修正兇砍開啟後無法被關閉<br/>增加額外技能選項 服事分類 慈悲術/純白百合花/蓄氣<br/>增加額外技能選項 跆拳/拳皇/獵靈分類' },
                        { id: '2019-12-23', content: '修改武器值最大化/魔法省悟的計算(顯示)方式<br/>修正武器浮動傷害為無條件捨去<br/>修正ATK公式暴傷/遠傷的順序<br/>增加物理技能多段計算<br/>簡化沒有多段/暴傷技能的UI欄位' },
                        { id: '2019-12-21', content: '修正公式中用到BLV最低為100<br/>敵方的內建資料修改' },
                        { id: '2019-12-19', content: '修正無視防禦超過100%上限的問題<br/>技能設定增加加農砲彈、半無視防禦<br/>技能清單修改顯示方式<br/>裝備效果增加 STR AGI VIT INT DEX LUK 全能力<br/>增加公式關鍵字 WLV<br/>修改ATK公式架構' },
                        { id: '2019-12-18', content: '修正箭矢ATK沒有被正確加入<br/>修正階級MATK%代入錯誤<br/>增加輸入職業等級<br/>增加額外技能選項 盾咒/大聲吶喊/火山塵暴<br/>增加裝備分類 頭中/頭下/套卡<br/>增加武器選項 武器重量/盾牌重量<br/>增加公式關鍵字 JLV/WGT/SHW' },
                    );
                    try {
                        this.CurrentUpdateVersion = JSON.parse(localStorage.getItem('CurrentUpdateVersion'));
                        if (this.CurrentUpdateVersion != this.UpdateLogList[0].id) {
                            this.CurrentUpdateVersion = this.UpdateLogList[0].id;
                            const parsed = JSON.stringify(this.CurrentUpdateVersion);
                            localStorage.setItem('CurrentUpdateVersion', parsed);
                            this.TogglePanel('UpdateLogDialog');
                        }
                    } catch (e) {
                        console.log("catch e:" + e);
                    }

                    this.SpecialthanksList.push(
                        { id: 0, coop: '公式協力', name: '賴喵' },
                        { id: 1, coop: '測試協力', name: '少爺 & 太太' },
                        { id: 2, coop: '測試協力', name: '夕華。' },
                        { id: 3, coop: '測試協力', name: '水絳' },
                        { id: 3, coop: '測試協力', name: '蒼之聖典' },
                        { id: 4, coop: '公式協力', name: '阿松' },
                        { id: 0, coop: '公式協力', name: '琉璃廣' },
                        { id: 4, coop: '公式提供', name: '鶴之翼' },
                        { id: 4, coop: '公式提供', name: '月夜魔女的貓兒@PTT' },
                    );
                    console.log("LOAD DB");
                },
                
                /**
                 * https://stackoverflow.com/questions/11409895/whats-the-most-elegant-way-to-cap-a-number-to-a-segment
                 * Returns a number whose value is limited to the given range.
                 */
                clamp(value, min, max) {
                    return Math.min(Math.max(value, min), max);
                },
                // 產生唯一碼 給存檔使用
                // https://cythilya.github.io/2017/03/12/uuid/
                _uuid() {
                    var d = Date.now();
                    if (typeof performance !== 'undefined' && typeof performance.now === 'function') {
                        d += performance.now(); //use high-precision timer if available
                    }
                    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {
                        var r = (d + Math.random() * 16) % 16 | 0;
                        d = Math.floor(d / 16);
                        return (c === 'x' ? r : (r & 0x3 | 0x8)).toString(16);
                    });
                },
                inputtest(item){
                    console.log(item);
                }

            },
            computed: {

                StoreDB_EquipFiltered() {
                    var _tempgroup = this.StoreDB_EquipFliterGroup;
                    return _tempgroup.length > 0 ?
                        this.StoreDB_Equip.filter(
                            function (saverow) {
                                return _tempgroup.indexOf(saverow.equip.label) > -1;
                            }
                        ).sort((a, b) => a.equip.label > b.equip.label ? 1 :
                            a.equip.label === b.equip.label ?
                                ((a.date > b.date) ? -1 : 1) : -1
                        )
                        :
                        this.StoreDB_Equip
                        ; 
                },
                
            },
            mounted() {
                this.LoadDB();
                this.attritube_init = Object.assign({}, this.attritube);
                this.status_add_init = Object.assign({}, this.status_add);
                this.status_total_init = Object.assign({}, this.status_total);
                this.option_init = Object.assign({}, this.option);

                this.enemyattribute = this.enemylist[0];
                this.effectdialogue.EffectType = this.effecttypelist[0];
                this.TempEffectTypeList = Object.assign({}, this.effecttypelist);
                this.weapon = {
                    type: this.weapontypelist[0], level: this.weaponlevellist[0],
                    ATK: 0, MATK: 0, refinelevel: 0,
                    ArrowATK: 0, BulletATK: 0,
                    Weight: 0,
                };
                this.weapon_init = Object.assign({}, this.weapon);
                this.subweapon = {
                    type: this.subhandtype[0], level: this.weaponlevellist[0],
                    ATK: 0, MATK: 0, refinelevel: 0,
                    ShieldWeight: 0,
                };
                this.subweapon_init = Object.assign({}, this.subweapon);
                this.ChangeWeapon();
                this.skilloption.AttackElementalIdx = 0;
                this.ComputElementalPercent();
                this.skill = { name: '', level: 1, formula: '100', DamageTypeIdx: 0, ranged: false, critical: false, hitnumber: 1, laterformula: false, elemental: 0, FCT: 0, VCT: 0, CD: 0, GCD: 0, SpecialATK1: 0, SpecialATK2: 0, SpecialATK3: 0, SpecialATK4: 0, SpecialATK5: 0, SpecialATK6: 0, SpecialMATK1: 0, };
                this.onSkillPercentChange();
            }

        })

        evue.$watch('enemyattribute', function (newB, oldB) {
            console.log("Watch enemyattribute ");
            this.ComputElementalPercent();
            this.ComputeSizefix();
        }, {
            deep: true
        });

        evue.$watch('weapon', function (newB, oldB) {
            console.log("Watch weapon ");
            if (this.weapon.ATK == '') this.weapon.ATK = 0;
            if (this.weapon.MATK == '') this.weapon.MATK = 0;
            if (this.weapon.ArrowATK == '') this.weapon.ArrowATK = 0;
            if (this.weapon.BulletATK == '') this.weapon.BulletATK = 0;
            if (this.weapon.refinelevel == '') this.weapon.refinelevel = 0;
            this.onOption();
        }, {
            deep: true
        });
        evue.$watch('subweapon', function (newB, oldB) {
            console.log("Watch subweapon ");
            if (this.subweapon.ATK == '') this.subweapon.ATK = 0;
            if (this.subweapon.MATK == '') this.subweapon.MATK = 0;
            if (this.subweapon.ShieldWeight == '') this.subweapon.ShieldWeight = 0;
            if (this.subweapon.refinelevel == '') this.subweapon.refinelevel = 0;
            this.onOption();
        }, {
            deep: true
        });

    </script>

    <body>

</html>